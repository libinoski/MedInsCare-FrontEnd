;/*FB_PKG_DELIM*/

__d("PolarisCreationEditRootQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"shortcode"}],b=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],c={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},d={alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},g={alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_reuse_disabled",storageKey:null}],storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},j={alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,concreteType:"XDTUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},o=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],p={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:o,storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_fb_only",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null};o={alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:o,storageKey:null};var s={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},l],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisCreationEditRootQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__shortcode__web_info",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"usePolarisCreationStateFromMedia_media"}],storageKey:null},action:"THROW",path:"xdt_api__v1__media__shortcode__web_info.items"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisCreationEditRootQuery",selections:[{alias:null,args:b,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__shortcode__web_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[c,d,e,f,g,h,i,j,k,m,n,p,q,r,o,s,l],storageKey:null},d,e,f,g,h,i,c,j,k,m,n,p,q,r,o,s,l],storageKey:null}],storageKey:null}]},params:{id:"6953036234773293",metadata:{},name:"PolarisCreationEditRootQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("usePolarisCreationStateFromMedia_inner_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"usePolarisCreationStateFromMedia_inner_media"};e.exports=a}),null);
__d("usePolarisCreationStateFromMedia_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}];b={kind:"InlineDataFragmentSpread",name:"usePolarisCreationStateFromMedia_inner_media",selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_reuse_disabled",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},a,{alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,concreteType:"XDTUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:b,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_fb_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:b,storageKey:null},{alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCreationStateFromMedia_media",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[a,b],storageKey:null},b],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisMetaVerifiedUpdateRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisMetaVerifiedUpdateRoot.react").__setRef("PolarisMetaVerifiedUpdateRoot.entrypoint")};g["default"]=a}),98);
__d("polarisSourceVideoFactory",[],(function(a,b,c,d,e,f){"use strict";var g={dataURL:"",file:new Blob(),height:0,videoDurationMs:0,width:0};function a(a){a===void 0&&(a={});return babelHelpers["extends"]({},g,a)}f["default"]=a}),66);
__d("polarisCreationMediaFactory",["PolarisCreationConstants","PolarisCreationV2State","polarisSourceImageFactory","polarisSourceVideoFactory"],(function(a,b,c,d,e,f,g){"use strict";b={adjustmentParams:{brightness:0,contrast:0,fade:0,saturation:0,temperature:0,vignette:0},altText:"",audio:d("PolarisCreationV2State").AUDIO_STATUS.none,coverPhoto:null,croppedCanvas:null,filteredBlob:null,filteredMedia:null,filteredThumbnails:null,filters:{filterName:"normal",filterStrength:100},id:null,image:null,originalAspectRatio:1,panningOffsetRatioX:0,panningOffsetRatioY:0,scale:1,tags:new Map(),transferProgress:null,trim:null,type:"image",uploadId:null,video:null};var h=babelHelpers["extends"]({},b,{image:c("polarisSourceImageFactory")()}),i=babelHelpers["extends"]({},b,{coverPhoto:{placeholders:[],selectedCoverPhoto:c("polarisSourceImageFactory")(),selectedCoverPhotoTime:d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME},type:"video",video:c("polarisSourceVideoFactory")()});function a(a,b){return b==="image"?babelHelpers["extends"]({},h,a):babelHelpers["extends"]({},i,a)}g["default"]=a}),98);
__d("usePolarisCreationStateFromMedia",["CometRelay","PolarisCreationV2State","PolarisMediaConstants","PolarisUrlHelpers","polarisCreationMediaFactory","react","usePolarisCreationStateFromMedia_inner_media.graphql","usePolarisCreationStateFromMedia_media.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).unstable_useMemoCache,l=h!==void 0?h:h=b("usePolarisCreationStateFromMedia_inner_media.graphql");function a(a){var e=k(3);a=d("CometRelay").useFragment(i!==void 0?i:i=b("usePolarisCreationStateFromMedia_media.graphql"),a);if(e[0]!==a){var f=d("CometRelay").readInlineData(l,a),g=a.carousel_media,h=new Map(),j=g!=null&&g.length>0,n;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a){var b,c,e=a.media_type===d("PolarisMediaConstants").MediaTypes.VIDEO===!0,f={};b={dataURL:(b=(b=a.image_versions2)==null?void 0:(b=b.candidates)==null?void 0:b[0].url)!=null?b:"",file:new Blob(),height:(b=a.original_height)!=null?b:0,location:null,orientation:90,width:(b=a.original_width)!=null?b:0};f.altText=(c=a.accessibility_caption)!=null?c:"";f.filteredMedia=b;f.video=e?{dataURL:(c=(c=a.video_versions)==null?void 0:(c=c[0])==null?void 0:c.url)!=null?c:"",file:new Blob(),height:(c=a.original_height)!=null?c:0,videoDurationMs:0,width:(c=a.original_width)!=null?c:0}:null;f.uploadId=a.pk;f.image=e===!1?b:null;e&&(f.coverPhoto={placeholders:[],selectedCoverPhoto:b,selectedCoverPhotoTime:0});f.tags=m(a);return f},e[2]=n):n=e[2];var o=n;if(j&&g!=null)g.forEach(function(a){var b;a=d("CometRelay").readInlineData(l,a);h.set((b=a.pk)!=null?b:"",babelHelpers["extends"]({},c("polarisCreationMediaFactory")(o(a),a.media_type===d("PolarisMediaConstants").MediaTypes.VIDEO===!0?"video":"image")))});else{h.set((n=f.pk)!=null?n:"",babelHelpers["extends"]({},c("polarisCreationMediaFactory")(o(f),f.media_type===d("PolarisMediaConstants").MediaTypes.VIDEO===!0?"video":"image")))}j=Object.freeze({advancedSettings:{hasAdsEnabled:!1,hasAudioReuseDisabled:((j=f.clips_metadata)==null?void 0:(n=j.original_sound_info)==null?void 0:n.is_reuse_disabled)===!0,hasCommentsDisabled:f.comments_disabled===!0,hasInternalOnlyEnabled:f.is_fb_only===!0,hasLikeViewCountsDisabled:f.like_and_view_counts_disabled===!0,hasVideoSubtitlesEnabled:!1},archiveOnly:!1,caption:(n=(j=f.caption)==null?void 0:j.text)!=null?n:"",cropRatio:f.original_width!=null&&f.original_height!=null?f.original_width/f.original_height:1,cropType:d("PolarisCreationV2State").CropTypes.ORIGINAL,currentMediaId:g?g[0].pk:f.pk,eligibleUpcomingEvents:[],entryPath:"",errorMessage:null,errorPage:null,hasAttemptedToPostWithEmpyCaption:!1,hasViewedPhotoTooltip:!1,hasViewedReorderTooltip:!1,isPosted:!0,location:f.location!=null?{address:f.location.name!=null?d("PolarisUrlHelpers").slugify(f.location.name):"",external_id:(n=(j=f.location)==null?void 0:j.pk)!=null?n:"",external_id_source:"",lat:(n=(j=f.location)==null?void 0:j.lat)!=null?n:0,lng:(n=(j=f.location)==null?void 0:j.lng)!=null?n:0,name:(n=(j=f.location)==null?void 0:j.name)!=null?n:""}:null,media:h,monetizationEligibility:[],multiPostOrder:g?(j=g.map(function(a){return(a=a.pk)!=null?a:""}))!=null?j:[]:[(n=f.pk)!=null?n:""],postedMedia:null,sessionId:"",shortcode:(g=f.code)!=null?g:"",upcomingEvent:f.upcoming_event==null?null:{endTime:Number(f.upcoming_event.end_time),eventId:(n=(j=f.upcoming_event)==null?void 0:j.id)!=null?n:"",reminderEnabled:((g=f.upcoming_event)==null?void 0:g.reminder_enabled)===!0,startTime:Number((j=f.upcoming_event)==null?void 0:j.start_time),title:(g=(n=f.upcoming_event)==null?void 0:n.title)!=null?g:""}});e[0]=a;e[1]=j}else j=e[1];return j}function m(a){a=(a=a.usertags)==null?void 0:a["in"];var b=new Map();if(a!=null)for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f;if(c){if(d>=a.length)break;f=a[d++]}else{d=a.next();if(d.done)break;f=d.value}f=f;if(((e=f.user)==null?void 0:e.pk)!=null){e={position:[].concat((e=f.position)!=null?e:[0,0]),userId:(e=f.user)==null?void 0:e.pk,username:(e=f.user.username)!=null?e:""};b.set((f=f.user)==null?void 0:f.pk,e)}}return b}g["default"]=a}),98);
__d("PolarisCreationEditRoot.react",["CometRelay","PolarisCreationEditRootQuery.graphql","PolarisCreationModal.next.react","react","usePolarisCreationStateFromMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=h!==void 0?h:h=b("PolarisCreationEditRootQuery.graphql");function a(a){var b=j(6),e=d("CometRelay").usePreloadedQuery(l,a.queries.polarisCreationEditRootQuery);e=c("usePolarisCreationStateFromMedia")(e.xdt_api__v1__media__shortcode__web_info.items[0]);var f;b[0]!==e||b[1]!==a.props.onClose?(f={beginningState:e,onClose:a.props.onClose},b[0]=e,b[1]=a.props.onClose,b[2]=f):f=b[2];b[3]!==f||b[4]!==a.props.onClose?(e=k.jsx(c("PolarisCreationModal.next.react"),{editPostInfo:f,onClose:a.props.onClose}),b[3]=f,b[4]=a.props.onClose,b[5]=e):e=b[5];return e}g["default"]=a}),98);