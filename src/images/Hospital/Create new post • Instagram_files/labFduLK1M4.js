;/*FB_PKG_DELIM*/

__d("IGDSChevronRightPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("polyline",{fill:"none",points:"8 3 17.004 12 8 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSCropLandscapePanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M19 20H5a4.004 4.004 0 0 1-4-4V8a4.004 4.004 0 0 1 4-4h14a4.004 4.004 0 0 1 4 4v8a4.004 4.004 0 0 1-4 4ZM5 6a2.002 2.002 0 0 0-2 2v8a2.002 2.002 0 0 0 2 2h14a2.002 2.002 0 0 0 2-2V8a2.002 2.002 0 0 0-2-2Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSCropPortraitPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M16 23H8a4.004 4.004 0 0 1-4-4V5a4.004 4.004 0 0 1 4-4h8a4.004 4.004 0 0 1 4 4v14a4.004 4.004 0 0 1-4 4ZM8 3a2.002 2.002 0 0 0-2 2v14a2.002 2.002 0 0 0 2 2h8a2.002 2.002 0 0 0 2-2V5a2.002 2.002 0 0 0-2-2Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSCropSquarePanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M19 23H5a4.004 4.004 0 0 1-4-4V5a4.004 4.004 0 0 1 4-4h14a4.004 4.004 0 0 1 4 4v14a4.004 4.004 0 0 1-4 4ZM5 3a2.002 2.002 0 0 0-2 2v14a2.002 2.002 0 0 0 2 2h14a2.002 2.002 0 0 0 2-2V5a2.002 2.002 0 0 0-2-2Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSDeletePanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M21.253 5.001h-4.255V3.632A2.64 2.64 0 0 0 14.362.996H9.635A2.64 2.64 0 0 0 7 3.632v1.37H2.748a1.5 1.5 0 0 0 0 3h18.505a1.5 1.5 0 0 0 0-3Zm-7.255 0H9.999V3.996h3.999Zm4.965 4H5.037a1 1 0 0 0-.992 1.124l1.327 10.606A2.59 2.59 0 0 0 7.942 23h8.116a2.59 2.59 0 0 0 2.57-2.269l1.327-10.606a1 1 0 0 0-.992-1.124Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSFitPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M10 20H4v-6a1 1 0 0 0-2 0v7a1 1 0 0 0 1 1h7a1 1 0 0 0 0-2ZM20.999 2H14a1 1 0 0 0 0 2h5.999v6a1 1 0 0 0 2 0V3a1 1 0 0 0-1-1Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSIlloWebUploadIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z",fill:"currentColor"}),e=j.jsx("path",{d:"M84.7 18.4 58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z",fill:"currentColor"}),f=j.jsx("path",{d:"M78.2 41.6 61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z",fill:"currentColor"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{aspectRatio:1.2626131953428201,viewBox:"0 0 97.6 77.3",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSZoomPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"m22.707 21.293-4.825-4.825a9.519 9.519 0 1 0-1.414 1.414l4.825 4.825a1 1 0 0 0 1.414-1.414ZM10.5 18.001a7.5 7.5 0 1 1 7.5-7.5 7.509 7.509 0 0 1-7.5 7.5Zm3.5-8.5h-2.5v-2.5a1 1 0 1 0-2 0v2.5H7a1 1 0 1 0 0 2h2.5v2.5a1 1 0 0 0 2 0v-2.5H14a1 1 0 0 0 0-2Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSArrowIcon.react",["IGDSArrowLeftPanoOutlineIcon.react","Locale","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={back:0,down:270,next:180,up:90};function a(a){var b=i(10),d,e;b[0]!==a?(d=a.direction,e=babelHelpers.objectWithoutPropertiesLoose(a,["direction"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);a=k[d];(d==="next"||d==="back")&&(a=a+(c("Locale").isRTL()?180:0));d="rotate("+a+"deg)";b[3]!==d?(a={display:"inline-block",transform:d},b[3]=d,b[4]=a):a=b[4];b[5]!==e?(d=j.jsx(c("IGDSArrowLeftPanoOutlineIcon.react"),babelHelpers["extends"]({},e)),b[5]=e,b[6]=d):d=b[6];b[7]!==a||b[8]!==d?(e=j.jsx("span",{style:a,children:d}),b[7]=a,b[8]=d,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("PolarisCreationContextProvider.react",["react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(6),c=a.children,e=a.dispatch;a=a.state;var f;b[0]!==a||b[1]!==c?(f=j.jsx(d("usePolarisCreationState").CreationStateContext.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=f):f=b[2];b[3]!==e||b[4]!==f?(a=j.jsx(d("usePolarisCreationDispatch").CreationDispatchContext.Provider,{value:e,children:f}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("PolarisCreationError",["InstagramODS","PolarisMonitorErrors","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({MAX_MEDIA_ADDED:null,MAX_MEDIA_SIZE:null,MAX_VIDEO_GALLERY_LENGTH:null,MAX_VIDEO_LENGTH:null,MIN_MEDIA_SIZE:null,MIN_VIDEO_LENGTH:null,READ_VIDEO_ERROR:null,UNSUPPORTED_FILE_ERROR:null,UPLOAD_ERROR:null});a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c,d=b.filename,e=b.numFilesOverLimit,f=b.serverError;b=b.type;c=a.call(this,b)||this;c.name="CreationError";c.type=b;c.filename=d;c.numFilesOverLimit=e;c.serverError=f;return c}b.maxVideoLength=function(a){c("InstagramODS").incr("web.creation.error.max_video_length");return new b({filename:a,type:h.MAX_VIDEO_LENGTH})};b.maxVideoLengthGallery=function(a){c("InstagramODS").incr("web.creation.error.max_video_length_gallery");return new b({filename:a,type:h.MAX_VIDEO_GALLERY_LENGTH})};b.minVideoLength=function(a){c("InstagramODS").incr("web.creation.error.min_video_length");return new b({filename:a,type:h.MIN_VIDEO_LENGTH})};b.maxMediaAdded=function(a){c("InstagramODS").incr("web.creation.error.max_media_added");return new b({numFilesOverLimit:a,type:h.MAX_MEDIA_ADDED})};b.maxMediaSize=function(a){c("InstagramODS").incr("web.creation.error.max_media_size");return new b({filename:a,type:h.MAX_MEDIA_SIZE})};b.minMediaSize=function(a){c("InstagramODS").incr("web.creation.error.min_media_size");return new b({filename:a,type:h.MIN_MEDIA_SIZE})};b.uploadError=function(a){d("PolarisMonitorErrors").logError(a);c("InstagramODS").incr("web.creation.error.upload_error");return new b({serverError:a,type:h.UPLOAD_ERROR})};b.readVideoError=function(a,e){d("PolarisMonitorErrors").logError(a);c("InstagramODS").incr("web.creation.error.read_video_error");return new b({filename:e,type:h.READ_VIDEO_ERROR})};b.unsupportedFileError=function(a){c("InstagramODS").incr("web.creation.error.unsupported_file");return new b({filename:a,type:h.UNSUPPORTED_FILE_ERROR})};return b}(babelHelpers.wrapNativeSuper(Error));g.CreationErrorType=h;g.CreationError=a}),98);
__d("PolarisCreationErrorHelpers",["PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;b=a==null?void 0:(b=a.serverError)==null?void 0:(b=b.responseObject)==null?void 0:b.message;a=a==null?void 0:(a=a.serverError)==null?void 0:(a=a.responseObject)==null?void 0:a.spam;if(b!=null&&a!==!0)return b}function a(a){return j(a)[a.type]}var i=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_TITLE;function j(a){var b,c=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding();b=(b=a==null?void 0:a.filename)!=null?b:"";return{MAX_MEDIA_SIZE:{body:d("PolarisCreationV2Strings").fileIsTooLargeBody(b),header:d("PolarisCreationV2Strings").FILE_TOO_LARGE_HEADER,title:c?d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").FILE_TOO_LARGE_TITLE},MAX_VIDEO_GALLERY_LENGTH:{body:d("PolarisCreationV2Strings").videoIsTooLongForGalleryBody(),header:c?d("PolarisCreationV2Strings").VIDEO_TOO_LONG_GALLERY_DOVETAIL_HEADER:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_HEADER,title:c?d("PolarisCreationV2Strings").VIDEO_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_TITLE},MAX_VIDEO_LENGTH:{body:d("PolarisCreationV2Strings").videoIsTooLongDovetailBody(b),header:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_DOVETAIL_HEADER,title:i},MIN_MEDIA_SIZE:{body:d("PolarisCreationV2Strings").fileIsTooSmallBody(b),header:d("PolarisCreationV2Strings").FILE_TOO_SMALL_HEADER,title:c?d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").FILE_TOO_SMALL_TITLE},MIN_VIDEO_LENGTH:{body:d("PolarisCreationV2Strings").videoIsTooShortBody(b),header:d("PolarisCreationV2Strings").VIDEO_TOO_SHORT_HEADER,title:d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE},READ_VIDEO_ERROR:{body:d("PolarisCreationV2Strings").videoFileReadFailedBody(b),header:d("PolarisCreationV2Strings").VIDEO_FILE_READ_FAILED_HEADER,title:c?d("PolarisCreationV2Strings").VIDEO_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").VIDEO_FILE_READ_FAILED_TITLE},UNSUPPORTED_FILE_ERROR:{body:c?d("PolarisCreationV2Strings").fileCouldntBeUploaded(b):d("PolarisCreationV2Strings").SUPPORTED_FILES_TEXT,header:c?d("PolarisCreationV2Strings").FILE_NOT_SUPPORTED_HEADER:d("PolarisCreationV2Strings").SINGLE_FILE_UPLOAD_ERROR,title:c?d("PolarisCreationV2Strings").FILE_COULDNT_BE_UPLOADED_TITLE:d("PolarisCreationV2Strings").UPLOAD_FAILED_TITLE},UPLOAD_ERROR:d("PolarisUA").isDesktop()?{body:h(a),header:d("PolarisCreationV2Strings").UPLOAD_FAILED_HEADER,primaryActionName:d("PolarisCreationV2Strings").TRY_AGAIN_CTA_TEXT,title:d("PolarisCreationV2Strings").UPLOAD_FAILED_TITLE}:{header:d("PolarisCreationV2Strings").UPLOAD_FAILED_HEADER,title:d("PolarisCreationV2Strings").UPLOAD_FAILED_TITLE}}}function k(a){return{MAX_MEDIA_ADDED:{message:a!=null?d("PolarisCreationV2Strings").maxMediaAddedError(a):d("PolarisCreationV2Strings").MAX_MEDIA_ADDED_ERROR},MAX_MEDIA_SIZE:{message:d("PolarisCreationV2Strings").FILE_TOO_LARGE_MESSAGE},MAX_VIDEO_GALLERY_LENGTH:{message:d("PolarisCreationV2Strings").CANNOT_ADD_MEDIA_BECAUSE_VIDEO_TOO_LONG_FOR_GALLERY_MESSAGE},MAX_VIDEO_LENGTH:{message:d("PolarisCreationV2Strings").VIDEO_TOO_LONG_MESSAGE},MIN_MEDIA_SIZE:{message:d("PolarisCreationV2Strings").FILE_TOO_SMALL_MESSAGE},MIN_VIDEO_LENGTH:{message:d("PolarisCreationV2Strings").VIDEO_TOO_SHORT_MESSAGE},READ_VIDEO_ERROR:{message:d("PolarisCreationV2Strings").VIDEO_FILE_READ_FAILED_MESSAGE}}}function b(a){return k(a.numFilesOverLimit)[a.type]}g.getCreationErrorPageForError=a;g.getCreationErrorToastForError=b}),98);
__d("PolarisCreationHelpers",["PolarisCreationTypes","PolarisRoutes","browserHistory","polarisUnexpected"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisCreationTypes").STEP.select}function b(){return d("PolarisCreationTypes").STEP.generate}function e(a){switch(a){case d("PolarisCreationTypes").STEP.select:return d("PolarisRoutes").CREATE_SELECT_PATH;case d("PolarisCreationTypes").STEP.generate:return d("PolarisRoutes").CREATE_GENERATE_PATH;case d("PolarisCreationTypes").STEP.crop:case d("PolarisCreationTypes").STEP.edit:return d("PolarisRoutes").CREATE_STYLE_PATH;case d("PolarisCreationTypes").STEP.compose:return d("PolarisRoutes").CREATE_DETAILS_PATH;case d("PolarisCreationTypes").STEP.publish:case d("PolarisCreationTypes").STEP.done:return d("PolarisRoutes").CREATE_UPLOAD_PATH;case d("PolarisCreationTypes").STEP.error:return d("PolarisRoutes").CREATE_ERROR_PATH;case d("PolarisCreationTypes").STEP.editPostInfo:return d("browserHistory").browserHistory.location.pathname;default:c("polarisUnexpected")("unexpected creation step");return d("PolarisRoutes").CREATE_SELECT_PATH}}function f(a){switch(a){case d("PolarisCreationTypes").STEP.select:return d("PolarisCreationTypes").STEP.crop;case d("PolarisCreationTypes").STEP.generate:return d("PolarisCreationTypes").STEP.crop;case d("PolarisCreationTypes").STEP.crop:return d("PolarisCreationTypes").STEP.edit;case d("PolarisCreationTypes").STEP.edit:return d("PolarisCreationTypes").STEP.compose;case d("PolarisCreationTypes").STEP.compose:return d("PolarisCreationTypes").STEP.publish;case d("PolarisCreationTypes").STEP.publish:c("polarisUnexpected")("no step after /create/upload/");return d("PolarisCreationTypes").STEP.select;case d("PolarisCreationTypes").STEP.editPostInfo:c("polarisUnexpected")("no step after editing post info");return d("PolarisCreationTypes").STEP.editPostInfo;default:c("polarisUnexpected")("unexpected creation step");return d("PolarisCreationTypes").STEP.select}}function h(a){switch(a){case d("PolarisCreationTypes").STEP.select:c("polarisUnexpected")("no step before /create/select/");return d("PolarisCreationTypes").STEP.select;case d("PolarisCreationTypes").STEP.generate:c("polarisUnexpected")("no step before /create/generate/");return d("PolarisCreationTypes").STEP.generate;case d("PolarisCreationTypes").STEP.crop:return d("PolarisCreationTypes").STEP.select;case d("PolarisCreationTypes").STEP.edit:return d("PolarisCreationTypes").STEP.crop;case d("PolarisCreationTypes").STEP.compose:return d("PolarisCreationTypes").STEP.edit;case d("PolarisCreationTypes").STEP.publish:c("polarisUnexpected")("shouldnt return to prev step once publish started");return d("PolarisCreationTypes").STEP.select;case d("PolarisCreationTypes").STEP.editPostInfo:c("polarisUnexpected")("shouldnt have a prev step from editing post");return d("PolarisCreationTypes").STEP.editPostInfo;default:c("polarisUnexpected")("unexpected creation step");return d("PolarisCreationTypes").STEP.select}}g.getCreationFirstStep=a;g.getCreationFirstStepGenAI=b;g.getCreationPath=e;g.getCreationNextStep=f;g.getCreationPrevStep=h}),98);
__d("PolarisCreationLoggerHooks",["PolarisCreationCameraLogger","react","usePolarisCreationState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){return function(){var b=d("usePolarisCreationState").useCreationState(),e=b.sessionId,f=c("usePrevious")(e);i(function(){e!==""&&f!==e&&a({sessionId:e})})}}b=a(d("PolarisCreationCameraLogger").logFeedCreationFeedGalleryStartShareSession);e=a(d("PolarisCreationCameraLogger").logFeedCreationStartCameraSession);f=a(d("PolarisCreationCameraLogger").logFeedCreationCameraStartGallerySession);g.useCreationFeedGalleryStartShareSessionLogger=b;g.useCreationStartCameraSessionLogger=e;g.useCreationStartGallerySessionLogger=f}),98);
__d("PolarisCreationCropHelpers",["PolarisCreationV2State","PolarisMediaConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return i(a,b,c)===a}function h(a,b,c){if(c<a)return a;return c>b?b:c}function i(a,b,c){switch(b){case"image":return h(d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MIN,d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MAX,a);case"video":return c===1?h(d("PolarisMediaConstants").VIDEO_ASPECT_RATIO_DOVETAIL_MIN,d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MAX,a):h(d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MIN,d("PolarisMediaConstants").IMAGE_ASPECT_RATIO_MAX,a)}return a}function b(a,b,c){if(a===d("PolarisCreationV2State").CropTypes.PORTRAIT)return b===1&&c==="video";else if(a===d("PolarisCreationV2State").CropTypes.PORTRAIT_DOVETAIL)return b>1;return!1}function c(a,b,c){var d=c.panningOffsetRatioX;c=c.panningOffsetRatioY;d=d*b;b=c*a;return{offsetX:d,offsetY:b}}g.isValidAspectRatio=a;g.getClosestValidAspectRatio=i;g.isInvalidPortraitRatio=b;g.getPanningOffsets=c}),98);
__d("PolarisCreationMediaButton.react",["cx","IGDSBox.react","PolarisIGCoreButton.react","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(26),d=a.altText,e=a["data-testid"],f=a.disabled,g=a.endText,h=a.icon,i=a.onClick,l=a.selected;a=a.size;f=f===void 0?!1:f;a=a===void 0?"default":a;h=h;var m=l?"ig-primary-text":"web-always-white",n=g!=null,o=a==="default",p=a==="small",q;b[0]!==n||b[1]!==f||b[2]!==l||b[3]!==o||b[4]!==p?(q="_abfz"+(n?" _abf-":"")+(f?" _abf_":"")+(l?" _abg0":"")+(o?" _abg1":"")+(p?" _abg2":""),b[0]=n,b[1]=f,b[2]=l,b[3]=o,b[4]=p,b[5]=q):q=b[5];n=f?void 0:i;l=a==="default"?2:1;o=a==="default"?16:12;b[6]!==h||b[7]!==d||b[8]!==m||b[9]!==o?(p=k.jsx(h,{alt:d,color:m,size:o}),b[6]=h,b[7]=d,b[8]=m,b[9]=o,b[10]=p):p=b[10];b[11]!==g||b[12]!==m?(i=g!=null&&k.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:k.jsx(c("PolarisIGCoreText"),{color:m,weight:"semibold",children:g})}),b[11]=g,b[12]=m,b[13]=i):i=b[13];b[14]!==l||b[15]!==p||b[16]!==i?(a=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",padding:l,position:"relative",children:[p,i]}),b[14]=l,b[15]=p,b[16]=i,b[17]=a):a=b[17];b[18]!==e||b[19]!==n||b[20]!==a?(h=k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,"data-testid":void 0,onClick:n,children:a}),b[18]=e,b[19]=n,b[20]=a,b[21]=h):h=b[21];b[22]!==q||b[23]!==f||b[24]!==h?(d=k.jsx("div",{className:q,disabled:f,role:"button",children:h}),b[22]=q,b[23]=f,b[24]=h,b[25]=d):d=b[25];return d}g["default"]=a}),98);
__d("PolarisModalOverlay.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(3);a=a.onClose;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="_aa73",b[0]=c):c=b[0];b[1]!==a?(c=k.jsx("div",{className:c,onClick:a,role:"none"}),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("PolarisCreationMediaPopover.react",["cx","PolarisDOMListener.react","PolarisModalOverlay.react","PolarisTransition.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.unstable_useMemoCache;function a(a){var b=l(11),e=a.children,f=a.onClose,g=a.onMouseDownOutside,h=a.visible,i=k(null);b[0]!==g?(a=function(a,b){g!=null&&b===d("PolarisTransition.react").TRANSITION_STATUS.ENTERED&&a.target instanceof Node&&i.current&&!i.current.contains(a.target)&&g(a)},b[0]=g,b[1]=a):a=b[1];var m=a;b[2]!==h||b[3]!==f||b[4]!==i||b[5]!==e||b[6]!==m?(a=function(a){return(h||a!==d("PolarisTransition.react").TRANSITION_STATUS.EXITED)&&j.jsxs(j.Fragment,{children:[f!=null&&h&&j.jsx(c("PolarisModalOverlay.react"),{onClose:f}),j.jsx("div",{"aria-hidden":!h,className:"_ac36"+(a===d("PolarisTransition.react").TRANSITION_STATUS.EXITING||a===d("PolarisTransition.react").TRANSITION_STATUS.EXITED?" _ac37":"")+(a===d("PolarisTransition.react").TRANSITION_STATUS.ENTERING||a===d("PolarisTransition.react").TRANSITION_STATUS.ENTERED?" _ac38":""),ref:i,children:e}),j.jsx(c("PolarisDOMListener.react"),{capture:!0,event:"mousedown",handler:function(b){return m(b,a)},target:document})]})},b[2]=h,b[3]=f,b[4]=i,b[5]=e,b[6]=m,b[7]=a):a=b[7];var n;b[8]!==h||b[9]!==a?(n=j.jsx(d("PolarisTransition.react").Transition,{"in":h,timeout:180,children:a}),b[8]=h,b[9]=a,b[10]=n):n=b[10];return n}g["default"]=a}),98);
__d("PolarisCreationMediaPopoverButton.react",["IGDSBox.react","PolarisCreationMediaButton.react","PolarisCreationMediaPopover.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useRef,k=b.unstable_useMemoCache;function a(a){var b=k(20),d=a.altText,e=a.children,f=a["data-testid"],g=a.disabled,h=a.expanded,l=a.icon,m=a.togglePopover,n=j(null);b[0]!==n||b[1]!==m?(a=function(a){var b;a.target instanceof Node&&!(n==null?void 0:(b=n.current)==null?void 0:b.contains(a.target))&&m()},b[0]=n,b[1]=m,b[2]=a):a=b[2];a=a;var o;b[3]!==a||b[4]!==h||b[5]!==e?(o=i.jsx(c("IGDSBox.react"),{maxWidth:"100%",padding:2,position:"relative",children:i.jsx(c("PolarisCreationMediaPopover.react"),{onMouseDownOutside:a,visible:h,children:e})}),b[3]=a,b[4]=h,b[5]=e,b[6]=o):o=b[6];b[7]!==d||b[8]!==f||b[9]!==g||b[10]!==l||b[11]!==m||b[12]!==h?(a=i.jsx(c("PolarisCreationMediaButton.react"),{altText:d,"data-testid":void 0,disabled:g,icon:l,onClick:m,selected:h}),b[7]=d,b[8]=f,b[9]=g,b[10]=l,b[11]=m,b[12]=h,b[13]=a):a=b[13];b[14]!==n||b[15]!==a?(e=i.jsx("div",{ref:n,children:a}),b[14]=n,b[15]=a,b[16]=e):e=b[16];b[17]!==o||b[18]!==e?(d=i.jsxs(i.Fragment,{children:[o,e]}),b[17]=o,b[18]=e,b[19]=d):d=b[19];return d}g["default"]=a}),98);
__d("usePolarisCreationMedia",["invariant","nullthrows","react","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).unstable_useMemoCache;function k(a){a=a.filteredMedia;if(a==null)return null;var b=a.height;a=a.width;a!=null&&b!=null||h(0,51614);return{height:b,width:a}}function l(a){var b=a.type,d=b==="image"?c("nullthrows")(a==null?void 0:a.image):c("nullthrows")(a==null?void 0:a.video);return{adjustmentParams:a==null?void 0:a.adjustmentParams,filterName:a==null?void 0:a.filters.filterName,filterStrength:a==null?void 0:a.filters.filterStrength,media:a,mediaItem:d,mediaItemType:b}}function a(a){var b=j(8),e=d("usePolarisCreationState").useCreationState();e=c("nullthrows")(e.media.get(a));a=k(e);e=l(e);var f;b[0]!==a?(f=a==null?void 0:a.height,b[0]=a,b[1]=f):f=b[1];var g;b[2]!==a?(g=a==null?void 0:a.width,b[2]=a,b[3]=g):g=b[3];b[4]!==e||b[5]!==f||b[6]!==g?(a=babelHelpers["extends"]({},e,{mediaHeight:f,mediaWidth:g}),b[4]=e,b[5]=f,b[6]=g,b[7]=a):a=b[7];return a}g.getMediaItemDimensions=k;g.getMediaInfo=l;g.useCreationMedia=a}),98);
__d("usePolarisCreationCurrentMedia",["react","usePolarisCreationMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(){var a,b=i(8),c=d("usePolarisCreationState").useCreationState();a=(a=c.currentMediaId)!=null?a:c.multiPostOrder[0];c=d("usePolarisCreationMedia").useCreationMedia(a);var e=c.adjustmentParams,f=c.filterName,g=c.filterStrength,h=c.media,j=c.mediaItem;c=c.mediaItemType;var k;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==a||b[5]!==j||b[6]!==c?(k={currentMedia:h,currentMediaAdjustmentParams:e,currentMediaFilter:f,currentMediaFilterStrength:g,currentMediaId:a,currentMediaItem:j,currentMediaItemType:c},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a,b[5]=j,b[6]=c,b[7]=k):k=b[7];return k}g["default"]=a}),98);
__d("usePolarisCreationIsSingleVideoPost",["usePolarisCreationCurrentMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("usePolarisCreationState").useCreationState(),b=c("usePolarisCreationCurrentMedia")();b=b.currentMediaItemType;return a.media.size===1&&b==="video"}g["default"]=a}),98);
__d("usePolarisCreationCropSetting",["IGDSCropLandscapePanoOutlineIcon.react","IGDSCropPortraitPanoOutlineIcon.react","IGDSCropSquarePanoOutlineIcon.react","IGDSPhotoPanoOutlineIcon.react","PolarisCreationConstants","PolarisCreationCropHelpers","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","usePolarisCreationDispatch","usePolarisCreationIsSingleVideoPost","usePolarisCreationMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b=d("usePolarisCreationDispatch").useCreationDispatch(),e=d("usePolarisCreationState").useCreationState(),f=c("usePolarisCreationIsSingleVideoPost")(),g=e.multiPostOrder.length;e=e.multiPostOrder[0];e=d("usePolarisCreationMedia").useCreationMedia(e);e=e.media;var h=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationCropHelpers").getClosestValidAspectRatio(e.originalAspectRatio,e.type,g):e.originalAspectRatio,i=(a={},a[d("PolarisCreationV2State").CropTypes.ORIGINAL]=h,a[d("PolarisCreationV2State").CropTypes.SQUARE]=d("PolarisCreationConstants").SQUARE_CROP_RATIO,a[d("PolarisCreationV2State").CropTypes.PORTRAIT]=d("PolarisCreationConstants").PORTRAIT_CROP_RATIO,a[d("PolarisCreationV2State").CropTypes.PORTRAIT_DOVETAIL]=d("PolarisCreationConstants").PORTRAIT_DOVETAIL_CROP_RATIO,a[d("PolarisCreationV2State").CropTypes.LANDSCAPE]=d("PolarisCreationConstants").LANDSCAPE_CROP_RATIO,a);h=[{altText:d("PolarisCreationV2Strings").PHOTO_OUTLINE_ALT,icon:c("IGDSPhotoPanoOutlineIcon.react"),title:d("PolarisCreationV2Strings").SELECT_CROP_ORIGINAL,type:d("PolarisCreationV2State").CropTypes.ORIGINAL},{altText:d("PolarisCreationV2Strings").CROP_SQUARE_ALT,icon:c("IGDSCropSquarePanoOutlineIcon.react"),title:d("PolarisCreationV2Strings").SELECT_CROP_SQUARE,type:d("PolarisCreationV2State").CropTypes.SQUARE},{altText:d("PolarisCreationV2Strings").CROP_PORTRAIT_ALT,icon:c("IGDSCropPortraitPanoOutlineIcon.react"),title:f?d("PolarisCreationV2Strings").SELECT_CROP_PORTRAIT_DOVETAIL:d("PolarisCreationV2Strings").SELECT_CROP_PORTRAIT,type:f?d("PolarisCreationV2State").CropTypes.PORTRAIT_DOVETAIL:d("PolarisCreationV2State").CropTypes.PORTRAIT},{altText:d("PolarisCreationV2Strings").CROP_LANDSCAPE_ALT,icon:c("IGDSCropLandscapePanoOutlineIcon.react"),title:d("PolarisCreationV2Strings").SELECT_CROP_LANDSCAPE,type:d("PolarisCreationV2State").CropTypes.LANDSCAPE}];a=d("PolarisCreationCropHelpers").isValidAspectRatio(e.originalAspectRatio,e.type,g)?d("PolarisCreationConstants").DEFAULT_SELECTED_CROP:d("PolarisCreationConstants").SQUARE_SELECTED_CROP;function j(a){var c=i[a];b({cropRatio:c,cropType:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_CROP_RATIO})}return{cropTypes:h,initialSelectedCrop:d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationConstants").SQUARE_SELECTED_CROP:a,setSelectedCropType:j}}g["default"]=a}),98);
__d("usePolarisCreationMediaPopoverContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={CROP:"CROP",GALLERY:"GALLERY",ZOOM:"ZOOM"};var j=b.createContext({openedPopover:null,setOpenedPopover:function(){}});function a(){return i(j)}g.CreationMediaPopoverView=c;g.CreationMediaPopoverContext=j;g.useCreationMediaPopoverContext=a}),98);
__d("PolarisCreationCropMediaButton.react",["invariant","CometPressable.react","IGDSBox.react","IGDSDivider.react","IGDSFitPanoOutlineIcon.react","IGDSText.react","PolarisCreationConstants","PolarisCreationCropHelpers","PolarisCreationMediaPopoverButton.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","react","usePolarisCreationCropSetting","usePolarisCreationDispatch","usePolarisCreationMedia","usePolarisCreationMediaPopoverContext","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m=b.unstable_useMemoCache;function n(a){var b=m(17),d=a.cropType,e=a.onClick;a=a.selected;var f=a?"webAlwaysWhite":"secondaryText";a=a?"web-always-white":"ig-secondary-text";var g=d.altText,h=d.icon,i=d.title;h=h;var k;b[0]!==e||b[1]!==d.type?(k=function(){return e(d.type)},b[0]=e,b[1]=d.type,b[2]=k):k=b[2];var l="creation-crop-type-"+d.type.toString().toLowerCase(),n;b[3]!==f||b[4]!==i?(n=j.jsx(c("IGDSBox.react"),{alignItems:"start",flex:"grow",position:"relative",children:j.jsx(c("IGDSText.react").BodyEmphasized,{color:f,children:i})}),b[3]=f,b[4]=i,b[5]=n):n=b[5];b[6]!==h||b[7]!==g||b[8]!==a?(f=j.jsx(c("IGDSBox.react"),{padding:3,position:"relative",children:j.jsx(h,{alt:g,color:a,size:24})}),b[6]=h,b[7]=g,b[8]=a,b[9]=f):f=b[9];b[10]!==n||b[11]!==f?(i=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",justifyContent:"start",marginStart:3,paddingX:1,position:"relative",children:[n,f]}),b[10]=n,b[11]=f,b[12]=i):i=b[12];b[13]!==k||b[14]!==l||b[15]!==i?(h=j.jsx(c("CometPressable.react"),{onPress:k,overlayDisabled:!0,testid:void 0,children:i}),b[13]=k,b[14]=l,b[15]=i,b[16]=h):h=b[16];return h}function a(){var a=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext(),b=a.openedPopover,e=a.setOpenedPopover,f=b===d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.CROP,g=d("usePolarisCreationDispatch").useCreationDispatch(),i=d("usePolarisCreationState").useCreationState();a=c("usePolarisCreationCropSetting")();var m=a.cropTypes,o=a.initialSelectedCrop,p=a.setSelectedCropType,q=i.multiPostOrder.length;a=i.multiPostOrder[0];a=d("usePolarisCreationMedia").useCreationMedia(a);var r=a.media;a=l((a=i.cropType)!=null?a:o);var s=a[0],t=a[1];k(function(){i.cropRatio==null||i.cropType==null?(o===d("PolarisCreationConstants").SQUARE_SELECTED_CROP||h(0,54678),g({cropRatio:d("PolarisCreationConstants").SQUARE_CROP_RATIO,cropType:s,type:d("PolarisCreationV2ActionTypes").CREATION_SET_CROP_RATIO}),t(o)):d("PolarisCreationCropHelpers").isInvalidPortraitRatio(i.cropType,q,r.type)?(g({cropRatio:d("PolarisCreationCropHelpers").getClosestValidAspectRatio(r.originalAspectRatio,r.type,q),cropType:s,type:d("PolarisCreationV2ActionTypes").CREATION_SET_CROP_RATIO}),t(o)):i.cropType!=null&&t(i.cropType)},[r.originalAspectRatio,r.type,g,o,q,i.cropRatio,s,i.cropType]);a=function(){e(f?null:d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.CROP)};b=b!=null&&b!==d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.CROP;return j.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",position:"relative",children:j.jsx(c("PolarisCreationMediaPopoverButton.react"),{altText:d("PolarisCreationV2Strings").SELECT_CROP_ALT_TEXT,"data-testid":void 0,disabled:b,expanded:f,icon:c("IGDSFitPanoOutlineIcon.react"),togglePopover:a,children:m.map(function(a,b){return j.jsxs(j.Fragment,{children:[j.jsx(n,{cropType:a,onClick:function(){p(a.type)},selected:a.type===s}),b<m.length-1&&j.jsx(c("IGDSDivider.react"),{})]},b)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationStepProvider.react",["PolarisCreationHelpers","PolarisCreationTypes","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;c.useCallback;var j=c.useContext;c.useMemo;var k=c.useState,l=c.unstable_useMemoCache;f={handleErrorPage:function(){},handleNextStep:function(){},handlePrevStep:function(){},handlePublishSuccess:function(){},handleStartOver:function(){},handleTryAgain:function(){},step:d("PolarisCreationHelpers").getCreationFirstStep()};var m=e(f);function a(a){var b=l(17),c=a.children;a=a.initialStep;var e;b[0]!==a?(e=a===void 0?d("PolarisCreationHelpers").getCreationFirstStep():a,b[0]=a,b[1]=e):e=b[1];a=e;e=k(a);var f=e[0],g=e[1];b[2]!==f?(a=function(){g(d("PolarisCreationHelpers").getCreationNextStep(f))},b[2]=f,b[3]=a):a=b[3];e=a;b[4]!==f?(a=function(){g(d("PolarisCreationHelpers").getCreationPrevStep(f))},b[4]=f,b[5]=a):a=b[5];a=a;var h;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){g(d("PolarisCreationTypes").STEP.select)},b[6]=h):h=b[6];h=h;var j;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){g(d("PolarisCreationTypes").STEP.done)},b[7]=j):j=b[7];j=j;var n;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(){g(d("PolarisCreationTypes").STEP.error)},b[8]=n):n=b[8];n=n;var o;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){g(d("PolarisCreationTypes").STEP.publish)},b[9]=o):o=b[9];o=o;b[10]!==e||b[11]!==a||b[12]!==f?(n={handleErrorPage:n,handleNextStep:e,handlePrevStep:a,handlePublishSuccess:j,handleStartOver:h,handleTryAgain:o,step:f},b[10]=e,b[11]=a,b[12]=f,b[13]=n):n=b[13];j=n;h=j;b[14]!==h||b[15]!==c?(o=i.jsx(m.Provider,{value:h,children:c}),b[14]=h,b[15]=c,b[16]=o):o=b[16];return o}function b(){return j(m)}g.CreationStepProvider=a;g.useCreationStep=b}),98);
__d("PolarisMediaDimensionHelpers",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return g(a,b,c,d,!0)}function g(a,b,c,d,e){e===void 0&&(e=!1);var f=a/b,g={height:c,width:c/f};f={height:f*d,width:d};if(e!==!0&&a<c&&b<d)return{height:Math.floor(a),width:Math.floor(b)};a>=b?(e=f,e.height>c&&(e=g)):(e=g,e.width>d&&(e=f));return{height:Math.floor(e.height),width:Math.floor(e.width)}}f.getDimensionsToStretchFit=a;f.getDimensionsBelowMax=g}),66);
__d("PolarisCreationMediaHelpers",["PolarisMediaDimensionHelpers","PolarisUA","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=16777216,i=.99,j=h*i;function k(a){var b=a.croppedHeight,c=a.croppedWidth,d=a.imageHeight,e=a.imageWidth,f=a.offsetLeft;a=a.offsetTop;f=f;a=a;f<0&&(f=0);a<0&&(a=0);a+b>d&&(a=d-b);f+c>e&&(f=e-c);return{finalSourceX:f,finalSourceY:a}}function a(a){var b=a.imageHeight,e=a.imageWidth,f=a.offsetLeft,g=a.offsetTop,h=a.scaleFactor;a=a.sourceImg;var i=e*b;d("PolarisUA").isMobileSafari()&&i>j?i=Math.min(1,Math.sqrt(j/i)):i=1;e=l(e,b,h,f,g);b=e.sourceHeight;h=e.sourceWidth;f=e.sourceX;g=e.sourceY;e=Math.round(h*i);i=Math.round(b*i);var m=document.createElement("canvas");m.width=e;m.height=i;var n=c("nullthrows")(m.getContext("2d"));f=k({croppedHeight:b,croppedWidth:h,imageHeight:a.height,imageWidth:a.width,offsetLeft:f,offsetTop:g});g=f.finalSourceX;f=f.finalSourceY;n.drawImage(a,g,f,h,b,0,0,e,i);return m}function l(a,b,c,d,e){var f=a/c;c=b/c;a=(a-f)/2;b=(b-c)/2;a=a+d;d=b+e;return{sourceHeight:c,sourceWidth:f,sourceX:a,sourceY:d}}function m(a,b,c){var d=a/b,e=a,f=b,g=0,h=0;d>c?(e=b*c,g=Math.abs(a-e)/2):d<c&&(f=a/c,h=Math.abs(b-f)/2);return{croppedHeight:f,croppedWidth:e,offsetLeft:g,offsetTop:h}}function n(a){if(a<0)return 0;a=Math.floor(a);return a%2===0?a:a-1}function b(a){var b=a.cropRatio,c=a.mute,d=a.panningOffsetRatioX,e=a.panningOffsetRatioY,f=a.trimEnd,g=a.trimStart,h=a.videoHeight;a=a.videoWidth;a=m(a,h,b);h=a.croppedHeight;b=a.croppedWidth;var i=a.offsetLeft;a=a.offsetTop;d=b*d;e=h*e;i=i-d;d=a-e;a=i<0?0:Math.floor(i);e=d<0?0:Math.floor(d);return{crop_height:n(h),crop_width:n(b),crop_x1:a,crop_y1:e,mute:c,trim_end:f,trim_start:g}}function e(a,b,e,f){if(f==null)return{croppedHeightScaled:0,croppedWidthScaled:0};a=m(a,b,e);b=a.croppedHeight;e=a.croppedWidth;a=c("nullthrows")(f).getBoundingClientRect();f=a.height;a=a.width;b=d("PolarisMediaDimensionHelpers").getDimensionsToStretchFit(b,e,f,a);return{croppedHeightScaled:b.height,croppedWidthScaled:b.width}}function f(a,b,c,d){var e=a,f=b;a<c&&(e=c,f=c/a*b);b<d&&(f=d,e=d/b*a);return{height:e,width:f}}function o(a,b,c){a=1/a;b=a/2*b;a=a/2*c;return{transformedOffsetX:b,transformedOffsetY:a}}function p(a,b){b===void 0&&(b="");var c=1024;a=atob(a);var d=a.length,e=Math.ceil(d/c),f=new Array(e);for(var g=0;g<e;++g){var h=g*c,i=Math.min(h+c,d),j=new Array(i-h);for(var h=h,k=0;h<i;++k,++h)j[k]=a[h].charCodeAt(0);f[g]=new Uint8Array(j)}return new Blob(f,{type:b})}g.getBoundedSource=k;g.renderCroppedImage=a;g.getSourceCoordinatesAndDimensions=l;g.getCroppedWidthAndHeight=m;g.getVideoEditParams=b;g.getCroppedHeightAndWidthScaledDimensions=e;g.getScaledOriginalMediaDimensions=f;g.transformPanningOffsetsForRatios=o;g.b64toBlob=p}),98);
__d("PolarisIGTVConstants",[],(function(a,b,c,d,e,f){"use strict";({LANDSCAPE:"landscape",PORTRAIT:"portrait"});a=1e7;b=10;c=3e4;f.UPLOAD_CHUNK_SIZE=a;f.UPLOAD_RETRY_COUNT=b;f.UPLOAD_RETRY_TIMEOUT_MS=c}),66);
__d("IgMediaIngestStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5550");b=d("FalcoLoggerInternal").create("ig_media_ingest_start",a);e=b;g["default"]=e}),98);
__d("IgMediaPublishFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5563");b=d("FalcoLoggerInternal").create("ig_media_publish_failure",a);e=b;g["default"]=e}),98);
__d("IgMediaPublishInvokeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5551");b=d("FalcoLoggerInternal").create("ig_media_publish_invoke",a);e=b;g["default"]=e}),98);
__d("IgMediaPublishReadyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5552");b=d("FalcoLoggerInternal").create("ig_media_publish_ready",a);e=b;g["default"]=e}),98);
__d("IgMediaPublishSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5553");b=d("FalcoLoggerInternal").create("ig_media_publish_success",a);e=b;g["default"]=e}),98);
__d("IgMediaUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5569");b=d("FalcoLoggerInternal").create("ig_media_upload_failure",a);e=b;g["default"]=e}),98);
__d("IgMediaUploadStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5337");b=d("FalcoLoggerInternal").create("ig_media_upload_start",a);e=b;g["default"]=e}),98);
__d("IgMediaUploadSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5338");b=d("FalcoLoggerInternal").create("ig_media_upload_success",a);e=b;g["default"]=e}),98);
__d("IgVideoCoverPhotoUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5571");b=d("FalcoLoggerInternal").create("ig_video_cover_photo_upload_failure",a);e=b;g["default"]=e}),98);
__d("IgVideoCoverPhotoUploadStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5940");b=d("FalcoLoggerInternal").create("ig_video_cover_photo_upload_start",a);e=b;g["default"]=e}),98);
__d("IgVideoCoverPhotoUploadSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5941");b=d("FalcoLoggerInternal").create("ig_video_cover_photo_upload_success",a);e=b;g["default"]=e}),98);
__d("PolarisUploadLogger",["IgMediaIngestStartFalcoEvent","IgMediaPublishFailureFalcoEvent","IgMediaPublishInvokeFalcoEvent","IgMediaPublishReadyFalcoEvent","IgMediaPublishSuccessFalcoEvent","IgMediaUploadFailureFalcoEvent","IgMediaUploadStartFalcoEvent","IgMediaUploadSuccessFalcoEvent","IgVideoCoverPhotoUploadFailureFalcoEvent","IgVideoCoverPhotoUploadStartFalcoEvent","IgVideoCoverPhotoUploadSuccessFalcoEvent","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.durationMs=a.durationMs,this.fileSizeBytes=a.fileSizeBytes,this.ingestSurface=a.ingestSurface,this.isCarouselItem=a.isCarouselItem,this.mediaHeight=a.mediaHeight,this.mediaWidth=a.mediaWidth,this.mediaType=a.mediaType,this.sessionId=a.sessionId,this.uploadId=a.uploadId}a.fromLoggingData=function(b){return new a(b)};var b=a.prototype;b.toIGMediaUploadEventData=function(){var a;return{connection:"None",duration_ms:(a=this.durationMs)==null?void 0:a.toString(),ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,media_type:this.mediaType,original_file_size_bytes:(a=this.fileSizeBytes)==null?void 0:a.toString(),original_media_height:(a=this.mediaHeight)==null?void 0:a.toString(),original_media_width:(a=this.mediaWidth)==null?void 0:a.toString(),session_id:this.sessionId}};b.toIGMediaUploadErrorEventData=function(a){var b;return{connection:"None",duration_ms:(b=this.durationMs)==null?void 0:b.toString(),error_message:a,ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,media_type:this.mediaType,original_file_size_bytes:(b=this.fileSizeBytes)==null?void 0:b.toString(),original_media_height:(a=this.mediaHeight)==null?void 0:a.toString(),original_media_width:(b=this.mediaWidth)==null?void 0:b.toString(),session_id:this.sessionId}};b.toIGMediaIngestEventData=function(){return{connection:"None",ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,is_carousel_item:this.isCarouselItem,media_type:this.mediaType,session_id:this.sessionId}};b.toIGMediaPublishEventData=function(){var a;return{connection:"None",duration_ms:(a=this.durationMs)==null?void 0:a.toString(),file_size_bytes:(a=this.fileSizeBytes)==null?void 0:a.toString(),ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,is_carousel_item:this.isCarouselItem,media_type:this.mediaType,session_id:this.sessionId}};b.toIGMediaPublishInvokeEventData=function(){return{connection:"None",ingest_surface:this.ingestSurface,is_carousel_item:this.isCarouselItem,media_type:this.mediaType,publish_id:this.sessionId,session_id:this.sessionId,target_surface:this.ingestSurface}};b.toIGMediaPublishSuccessEvent=function(){return{connection:"None",ingest_surface:this.ingestSurface,is_carousel_item:this.isCarouselItem,media_type:this.mediaType,publish_id:this.sessionId,session_id:this.sessionId,target_surface:this.ingestSurface}};b.toIGMediaPublishFailureEvent=function(){return{connection:"None",ingest_surface:this.ingestSurface,media_type:this.mediaType,session_id:this.sessionId,target_surface:this.ingestSurface}};b.toIGMediaCoverPhotoUploadEventData=function(){return{connection:"None",file_size_bytes:this.fileSizeBytes==null?String(this.fileSizeBytes):null,ingest_id:c("nullthrows")(this.uploadId),ingest_surface:this.ingestSurface,media_height:this.fileSizeBytes==null?String(this.mediaHeight):null,media_type:"video",media_width:this.mediaWidth==null?String(this.mediaWidth):null,session_id:this.sessionId,target_surface:this.ingestSurface}};b.logUploadStart=function(){var a=this;c("IgMediaUploadStartFalcoEvent").log(function(){return a.toIGMediaUploadEventData()});c("IgMediaIngestStartFalcoEvent").log(function(){return a.toIGMediaIngestEventData()})};b.logUploadSuccess=function(){var a=this;c("IgMediaUploadSuccessFalcoEvent").log(function(){return a.toIGMediaUploadEventData()});this.logPublishReady()};b.logUploadFailure=function(a){var b=this;c("IgMediaUploadFailureFalcoEvent").log(function(){return b.toIGMediaUploadErrorEventData(a)})};b.logPublishInvoke=function(){var a=this;c("IgMediaPublishInvokeFalcoEvent").log(function(){return a.toIGMediaPublishInvokeEventData()})};b.logPublishReady=function(){var a=this;c("IgMediaPublishReadyFalcoEvent").log(function(){return a.toIGMediaPublishEventData()})};b.logPublishSuccess=function(){var a=this;c("IgMediaPublishSuccessFalcoEvent").log(function(){return a.toIGMediaPublishSuccessEvent()})};b.logPublishFailure=function(){var a=this;c("IgMediaPublishFailureFalcoEvent").log(function(){return a.toIGMediaPublishFailureEvent()})};b.logCoverPhotoUploadStart=function(){var a=this;c("IgVideoCoverPhotoUploadStartFalcoEvent").log(function(){return a.toIGMediaCoverPhotoUploadEventData()})};b.logCoverPhotoUploadSuccess=function(){var a=this;c("IgVideoCoverPhotoUploadSuccessFalcoEvent").log(function(){return a.toIGMediaCoverPhotoUploadEventData()})};b.logCoverPhotoUploadFailure=function(){var a=this;c("IgVideoCoverPhotoUploadFailureFalcoEvent").log(function(){return a.toIGMediaCoverPhotoUploadEventData()})};return a}();g["default"]=a}),98);
__d("polarisCanvasDrawImage",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.element,d=a.height;a=a.width;var e=document.createElement("canvas");e.setAttribute("width",a+"px");e.setAttribute("height",d+"px");var f=c("nullthrows")(e.getContext("2d"));f.drawImage(b,0,0,a,d);return{element:e,height:d,width:a}}g["default"]=a}),98);
__d("polarisCreateJpegFileFromCanvas",["polarisGetBlobFromCanvas"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("polarisGetBlobFromCanvas")(a).then(function(a){return new File([a],b,{type:"image/jpeg"})})}g["default"]=a}),98);
__d("polarisExtractVideoFrame",["polarisCanvasDrawImage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.videoHeight,d=a.videoWidth;return c("polarisCanvasDrawImage")({element:a,height:b,width:d})}g["default"]=a}),98);
__d("polarisResolveVideoEvent",["PolarisUA","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i="loadeddata";function j(a){return a.then(function(a){return new(h||(h=b("Promise")))(function(b){window.setTimeout(function(){return b(a)},1e3)})})}function a(a,c){var e=new(h||(h=b("Promise")))(function(b){var d=function d(){a.removeEventListener(c,d),b(a)};a.addEventListener(c,d)});return c===i&&d("PolarisUA").isEdge()?j(e):e}g["default"]=a}),98);
__d("polarisSourceImageFactory",[],(function(a,b,c,d,e,f){"use strict";var g={dataURL:"",file:new Blob(),height:0,location:null,orientation:0,width:0};function a(a){a===void 0&&(a={});return babelHelpers["extends"]({},g,a)}f["default"]=a}),66);
__d("polarisCreateCoverPhoto",["PolarisCreationConstants","PolarisUA","Promise","asyncToGeneratorRuntime","polarisCanvasDrawImage","polarisCreateJpegFileFromCanvas","polarisExtractVideoFrame","polarisReadImageFile","polarisResolveVideoEvent","polarisSourceImageFactory"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Math.round((a+Number.EPSILON)*100)/100}function j(a){return[d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME,i(a*.25),i(a*.5),i(a*.75),i(a-.01)]}function k(a){return new(h||(h=b("Promise")))(function(b,c){var e=document.createElement("video");e.src=a.src;d("PolarisUA").isMobileSafari()&&(e.autoplay=!0);e.onloadeddata=function(){return b(e)}})}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield k(a));a=(yield o(a,null,b));b=(yield d("polarisReadImageFile").readImageFile(a));var e=b.dataURL,f=b.height,g=b.location,h=b.orientation;b=b.width;return c("polarisSourceImageFactory")({dataURL:e,file:a,height:f,location:g,orientation:h,width:b})});return m.apply(this,arguments)}function a(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=j(a.duration);c=c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){return l(a,b)});return function(a){return c.apply(this,arguments)}}());return(h||(h=b("Promise"))).all(c)});return n.apply(this,arguments)}function o(a,b,d){d===void 0&&(d=.01);var e=c("polarisResolveVideoEvent")(a,"timeupdate").then(function(){var d=babelHelpers["extends"]({},c("polarisExtractVideoFrame")(a),{rotationAngle:0,type:"image/jpeg"});d=b!=null?b(d):d;var e=d.element;e=e instanceof HTMLCanvasElement?e:c("polarisCanvasDrawImage")(d).element;return c("polarisCreateJpegFileFromCanvas")(e,"cover.jpg")});a.currentTime=d;return e}g.getImageIntervalsForDuration=j;g.createCoverPhoto=l;g.createCoverPhotoPlaceholdersFromVideo=a;g.createCoverPhotoFileFromVideo=o}),98);
__d("polarisResumableVideoUpload",["PolarisAPIRuploadVideo","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c,e,f,g){f===void 0&&(f=function(a,b){return!0});g===void 0&&(g={retries:10,timeBetweenRetries:3e4});g=g;var i=g.chunkSize,j=i===void 0?a.file.size:i,k=g.retries,l=g.timeBetweenRetries,m=a.file.size,n=0;function o(a){c&&c({sent:n+a.sent,successfullyAcknowledged:n,total:m})}return new(h||(h=b("Promise")))(function(c,g){var h=0;function i(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,p;try{n=(yield d("PolarisAPIRuploadVideo").ruploadVideoOffset(a)),b=(yield d("PolarisAPIRuploadVideo").ruploadVideo(babelHelpers["extends"]({},a,{chunkSize:j,fileByteOffset:n}),o,e)),h=0}catch(a){p=a,h++}b!=null&&n+j>=m?c(b):p!=null&&(h>=k||!f(a,p))?g(p):window.setTimeout(function(){return i()},p==null?0:l)});return p.apply(this,arguments)}i()})}g["default"]=a}),98);
__d("polarisWithExponentialBackoff",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=64e3,i=1e3;function j(a){return a!==429&&a!==500}function k(a,c){c=c===void 0?{}:c;var d=c.currentRetryInMs,e=d===void 0?i:d;d=c.maxRetryInMs;var f=d===void 0?h:d;d=c.onStatusCode;var l=d===void 0?j:d;return a().then(function(c){return l(c.statusCode)?c:new(g||(g=b("Promise")))(function(b,c){window.setTimeout(function(){k(a,{currentRetryInMs:e*2,maxRetryInMs:f,onStatusCode:l}).then(b)["catch"](c)},e*2)})})["catch"](function(c){if(l(c.statusCode)||e>f)throw c;return new(g||(g=b("Promise")))(function(b,c){window.setTimeout(function(){k(a,{currentRetryInMs:e*2,maxRetryInMs:f,onStatusCode:l}).then(b)["catch"](c)},e*2)})})}f.MAX_RETRY_IN_MS=h;f.withExponentialBackoff=k}),66);
__d("PolarisCreationV2Actions",["InstagramODS","PolarisAPIFbUploaderPhoto","PolarisAPIRuploadPhoto","PolarisAPIRuploadVideo","PolarisCreationConstants","PolarisCreationError","PolarisCreationMediaHelpers","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisIGTVConstants","PolarisImageFactory","PolarisUploadHelpers","PolarisUploadLogger","Promise","asyncToGeneratorRuntime","nullthrows","polarisCreateCoverPhoto","polarisReadImageFile","polarisReadVideoFile","polarisResumableVideoUpload","polarisUnexpected","polarisWithExponentialBackoff","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{type:d("PolarisCreationV2ActionTypes").CREATION_RESET_STATE}}function e(){var a=c("uuidv4")();return{sessionId:a,type:d("PolarisCreationV2ActionTypes").CREATION_SESSION_STARTED}}function i(a){return new Array(a).fill(0).map(function(a){return d("PolarisUploadHelpers").createUploadId()})}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield p(a,b));var c=new Map(),d=[],e=i(a.length);a.forEach(function(a,b){b=e[b];c.set(b,a);d.push(b)});return{mediaMap:c,mediaOrder:d}});return k.apply(this,arguments)}function f(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield j(a,b));b=a.mediaMap;a=a.mediaOrder;return{media:b,multiPostOrder:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_MEDIA}});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield j(a,b));b=a.mediaMap;a=a.mediaOrder;return{media:b,multiPostOrder:a,type:d("PolarisCreationV2ActionTypes").CREATION_ADD_MEDIA}});return n.apply(this,arguments)}function o(a){return{mediaId:a,type:d("PolarisCreationV2ActionTypes").CREATION_REMOVE_MEDIA}}function p(a,e){var f=[],g=a.length;a.forEach(function(a){var b=a.type,h=d("polarisReadImageFile").isImage(b),i=h?e.image:e.video,j=i.maxFileSize;i=i.minFileSize;if(a.size>j)throw d("PolarisCreationError").CreationError.maxMediaSize(a.name);if(a.size<i)throw d("PolarisCreationError").CreationError.minMediaSize(a.name);h?f.push(q(a)):d("polarisReadVideoFile").isVideo(b)?f.push(t(a,e.video,g)):c("polarisUnexpected")("Unexpected media type")});return(h||(h=b("Promise"))).all(f)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("polarisReadImageFile").isHeicImage(a.type)){var b=(yield F({blob:a,id:d("PolarisUploadHelpers").createUploadId(),sessionId:c("uuidv4")(),transcodeOnly:!0}));b=(yield d("polarisReadImageFile").readImageFile(b.transcodedBlob))}else b=(yield d("polarisReadImageFile").readImageFile(a));a={dataURL:b.dataURL,file:a,height:b.height,location:b.location,orientation:b.orientation,width:b.width};b=b.width/b.height;return{adjustmentParams:{brightness:0,contrast:0,fade:0,saturation:0,temperature:0,vignette:0},altText:null,audio:d("PolarisCreationV2State").AUDIO_STATUS.none,coverPhoto:null,croppedCanvas:null,filteredBlob:null,filteredMedia:null,filteredThumbnails:null,filters:{filterName:d("PolarisCreationConstants").INIT_FILTER_NAME,filterStrength:d("PolarisCreationConstants").INIT_FILTER_STRENGTH},id:null,image:a,originalAspectRatio:b,panningOffsetRatioX:0,panningOffsetRatioY:0,scale:1,tags:new Map(),transferProgress:null,trim:null,type:"image",uploadId:null,video:null}});return r.apply(this,arguments)}function s(a){return a.videoHeight===0||a.videoWidth===0}function t(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("polarisReadVideoFile").readVideoFile(a));if(s(f)){c("InstagramODS").incr("web.creation.video_file_read_failure");throw d("PolarisCreationError").CreationError.readVideoError(new Error("Could not read video file"),a.name)}else c("InstagramODS").incr("web.creation.error.video_file_read_success");var g={dataURL:f.src,file:a,height:f.videoHeight,videoDurationMs:f.duration,width:f.videoWidth};if(f.duration>b.maxDuration)if(e>1)throw d("PolarisCreationError").CreationError.maxVideoLengthGallery(a.name);else throw d("PolarisCreationError").CreationError.maxVideoLength(a.name);else if(b.minDuration!=null&&f.duration<b.minDuration)throw d("PolarisCreationError").CreationError.minVideoLength(a.name);e=(yield d("polarisCreateCoverPhoto").createCoverPhotoPlaceholdersFromVideo(f));b=f.videoWidth/f.videoHeight;return{adjustmentParams:{brightness:0,contrast:0,fade:0,saturation:0,temperature:0,vignette:0},altText:null,audio:d("PolarisCreationV2State").AUDIO_STATUS.on,coverPhoto:{placeholders:e,selectedCoverPhoto:e[0],selectedCoverPhotoTime:d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME},croppedCanvas:null,filteredBlob:null,filteredMedia:null,filteredThumbnails:null,filters:{filterName:d("PolarisCreationConstants").INIT_FILTER_NAME,filterStrength:d("PolarisCreationConstants").INIT_FILTER_STRENGTH},id:null,image:null,originalAspectRatio:b,panningOffsetRatioX:0,panningOffsetRatioY:0,scale:1,tags:new Map(),transferProgress:null,trim:{end:f.duration,start:0},type:"video",uploadId:null,video:g}});return u.apply(this,arguments)}function v(a,b,c,d,e,f){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i,j){var k=c("PolarisImageFactory").createImage();return new(h||(h=b("Promise")))(function(h){k.onload=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=c("nullthrows")(e.width),l=c("nullthrows")(e.height);b=d("PolarisCreationMediaHelpers").getCroppedWidthAndHeight(b,l,f);l=b.croppedHeight;var m=b.croppedWidth,n=b.offsetLeft;b=b.offsetTop;var o=m*g/j,p=l*i/j;l=d("PolarisCreationMediaHelpers").renderCroppedImage({imageHeight:l,imageWidth:m,offsetLeft:n-o,offsetTop:b-p,scaleFactor:j,sourceImg:k});h({croppedCanvas:l,id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})}),k.src=c("nullthrows")(e.dataURL)})});return w.apply(this,arguments)}function x(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(h||(h=b("Promise"))).resolve({croppedCanvas:document.createElement("canvas"),id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})});return y.apply(this,arguments)}function z(a,b,c){return{end:c,id:a,start:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_VIDEO_TRIM}}function A(a,b){return{adjustmentParams:b,id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}function B(a,b,c){return{filters:{filterName:b,filterStrength:c},id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}function C(a,b){return{filteredBlob:b,id:a,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}function D(a,b){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){try{var e=(yield d("polarisReadImageFile").readImageFile(a));a={dataURL:e.dataURL,file:a,height:e.height,location:e.location,orientation:e.orientation,width:e.width};return{filteredMedia:a,id:c,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}catch(a){return(h||(h=b("Promise"))).reject(a)}});return E.apply(this,arguments)}function F(a){return G.apply(this,arguments)}function G(){G=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.blob,e=a.fallbackDimensions,f=a.id,g=a.isSidecar,h=a.reencodedBlob,i=a.sessionId,j=a.transcodeOnly,k,l;try{a=(yield d("polarisReadImageFile").readImageFile(b));k=a.height;l=a.width}catch(a){if(j!==!0)if(e)k=e.height,l=e.width;else throw a}var m=d("PolarisUploadHelpers").createUploadId(),n=c("PolarisUploadLogger").fromLoggingData({fileSizeBytes:b.size,ingestSurface:"feed",isCarouselItem:g,mediaHeight:k,mediaType:"photo",mediaWidth:l,sessionId:i,uploadId:m});try{n.logUploadStart();return yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){return d("PolarisAPIFbUploaderPhoto").fbUploaderPhoto(b,null,m,j)}).then(function(a){n.logUploadSuccess();var b=j===!0&&a.encodedFile!=null?d("PolarisCreationMediaHelpers").b64toBlob(a.encodedFile):void 0;return{id:f,transcodedBlob:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META,uploadId:a.upload_id}})["catch"](function(a){if(h!=null)return F({blob:h,id:f,isSidecar:g,sessionId:i,transcodeOnly:j});throw a})}catch(a){n.logUploadFailure(a.message);throw d("PolarisCreationError").CreationError.uploadError(a)}});return G.apply(this,arguments)}function H(a,b){return[(b==null?void 0:b.statusCode)===0,b==null?void 0:b.retryable,b==null?void 0:(a=b.responseObject)==null?void 0:(b=a.debug_info)==null?void 0:b.retriable].some(function(a){return a===!0})}function I(a){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.id,e=a.isSidecar,f=a.onUploadProgress,g=a.sessionId,h=a.sourceCoverPhotoFile,i=a.sourceVideoFile;a=a.videoEditParams;var j=(yield d("polarisReadVideoFile").readVideoFile(i)),k=d("PolarisUploadHelpers").createUploadId(),l=e!==!0,m=l?"unified_video":"feed";try{var n=c("PolarisUploadLogger").fromLoggingData({durationMs:Math.floor(j.duration*1e3),fileSizeBytes:i.size,ingestSurface:m,isCarouselItem:e,mediaHeight:j.videoHeight,mediaType:"video",mediaWidth:j.videoWidth,sessionId:g,uploadId:k}),o={entityName:"fb_uploader_"+k,file:new File([i],"video_"+k),isIgtvVideo:l,isSidecar:e,isUnifiedVideo:l,uploadId:k,uploadMediaDurationMs:Math.floor(j.duration*1e3),uploadMediaHeight:j.videoHeight,uploadMediaWidth:j.videoWidth};a!=null&&(o.videoEditParams=a);var p=c("PolarisUploadLogger").fromLoggingData({fileSizeBytes:h.size,ingestSurface:m,mediaHeight:(i=a==null?void 0:a.crop_height)!=null?i:j.videoHeight,mediaType:"video",mediaWidth:(e=a==null?void 0:a.crop_width)!=null?e:j.videoWidth,sessionId:g,uploadId:k}),q={entityName:"fb_uploader_"+k,file:h,uploadId:k,uploadMediaHeight:j.videoHeight,uploadMediaWidth:j.videoWidth};n.logUploadStart();if(l){m=function(a){};try{yield c("polarisResumableVideoUpload")(o,f,m,H,{chunkSize:d("PolarisIGTVConstants").UPLOAD_CHUNK_SIZE,retries:d("PolarisIGTVConstants").UPLOAD_RETRY_COUNT,timeBetweenRetries:d("PolarisIGTVConstants").UPLOAD_RETRY_TIMEOUT_MS}),n.logUploadSuccess()}catch(a){n.logUploadFailure(a.message);throw a}}else yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){return d("PolarisAPIRuploadVideo").ruploadVideo(o)}).then(function(){return n.logUploadSuccess()})["catch"](function(a){n.logUploadFailure(a.message);throw a});p.logCoverPhotoUploadStart();yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){return d("PolarisAPIRuploadPhoto").ruploadPhoto(q)}).then(function(){return p.logCoverPhotoUploadSuccess()})["catch"](function(a){p.logCoverPhotoUploadFailure();throw a});return{id:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META,uploadId:k}}catch(a){throw d("PolarisCreationError").CreationError.uploadError(a)}});return J.apply(this,arguments)}function K(a,b){return{id:a,transferProgress:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}}function L(a){return a.mozHasAudio===!0||a.webkitAudioDecodedByteCount!=null&&a.webkitAudioDecodedByteCount>0||a.audioTracks&&a.audioTracks.length>0}function M(a,b){a=L(a);return!a?{audio:d("PolarisCreationV2State").AUDIO_STATUS.none,id:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META}:null}function N(a){return{errorMessage:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_MESSAGE}}g.creationReset=a;g.creationSessionStarted=e;g.creationSelectMedia=f;g.creationAddMedia=m;g.creationRemoveMedia=o;g.transformSourceMedias=p;g.transformImageMedia=q;g.transformVideoMedia=t;g.createCroppedPhoto=v;g.createCroppedVideo=x;g.createTrimmedVideo=z;g.setAdjustment=A;g.setFilter=B;g.setFilteredBlob=C;g.setFilteredMedia=D;g.stagePhoto=F;g.stageVideo=I;g.uploadProgressed=K;g.verifyAudioTracks=M;g.creationSetErrorMessage=N}),98);
__d("usePolarisCreationSelectMedia",["PolarisCreationCameraLogger","PolarisCreationConstants","PolarisCreationError","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationV2Actions","PolarisHasFeedCreationV2Dogfooding","PolarisMediaHelpers","Promise","asyncToGeneratorRuntime","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).unstable_useMemoCache;function k(a){if(Object.prototype.hasOwnProperty.call(d("PolarisCreationTypes").CREATION_MIME_TYPES,a==null?void 0:a.type))return!0;throw d("PolarisCreationError").CreationError.unsupportedFileError(a.name)}function l(a){return d("PolarisMediaHelpers").isImageMIMEType(a[0])?d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.PHOTO:d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.VIDEO}function m(a,b){a=a+b.length;return{image:{maxFileSize:d("PolarisCreationConstants").MAX_FILE_SIZE,minFileSize:d("PolarisCreationConstants").MIN_FILE_SIZE},video:{maxDuration:a===1?d("PolarisCreationConstants").MAX_VIDEO_LENGTH_DOVETAIL_S:d("PolarisCreationConstants").MAX_VIDEO_LENGTH_S,maxFileSize:a===1?d("PolarisCreationConstants").MAX_FILE_SIZE_DOVETAIL:d("PolarisCreationConstants").MAX_FILE_SIZE,minDuration:d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationConstants").MIN_VIDEO_LENGTH_S:void 0,minFileSize:d("PolarisCreationConstants").MIN_FILE_SIZE}}}function a(){var a=j(23),c=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f;a[0]!==c.multiPostOrder.length?(f=function(a){a=Array.from(a).filter(function(a){return k(a)});var b=d("PolarisCreationConstants").MAX_NUM_MEDIA-c.multiPostOrder.length;return a.slice(0,b)},a[0]=c.multiPostOrder.length,a[1]=f):f=a[1];var g=f;a[2]!==g||a[3]!==c.sessionId||a[4]!==c.multiPostOrder.length||a[5]!==e?(f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var f=g(a);if(f.length>0){var i=l(f);d("PolarisCreationCameraLogger").logFeedCreationFeedGallerySelectMedia({mediaType:i,sessionId:c.sessionId});f.length>1&&d("PolarisCreationCameraLogger").logFeedCreationFeedGallerySelectMultiple({sessionId:c.sessionId});i=(yield d("PolarisCreationV2Actions").creationSelectMedia(f,m(c.multiPostOrder.length,f)));e(i);if(f.length!==a.length)throw d("PolarisCreationError").CreationError.maxMediaAdded(a.length-f.length)}else return(h||(h=b("Promise"))).reject(new Error("no media files to select"))});return function(b){return a.apply(this,arguments)}}(),a[2]=g,a[3]=c.sessionId,a[4]=c.multiPostOrder.length,a[5]=e,a[6]=f):f=a[6];f=f;var i;a[7]!==g||a[8]!==c.sessionId||a[9]!==c.multiPostOrder.length||a[10]!==e?(i=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var f=g(a);if(f.length>0){var i=l(f);d("PolarisCreationCameraLogger").logFeedCreationFeedGallerySelectMedia({mediaType:i,sessionId:c.sessionId});c.multiPostOrder.length===1&&d("PolarisCreationCameraLogger").logFeedCreationFeedGallerySelectMultiple({sessionId:c.sessionId});i=(yield d("PolarisCreationV2Actions").creationAddMedia(f,m(c.multiPostOrder.length,f)));e(i);if(f.length!==a.length)throw d("PolarisCreationError").CreationError.maxMediaAdded(a.length-f.length)}else return(h||(h=b("Promise"))).reject(new Error("no media files to add"))});return function(b){return a.apply(this,arguments)}}(),a[7]=g,a[8]=c.sessionId,a[9]=c.multiPostOrder.length,a[10]=e,a[11]=i):i=a[11];i=i;var n=d("PolarisCreationStepProvider.react").useCreationStep(),o=n.handleStartOver;a[12]!==c.multiPostOrder||a[13]!==o||a[14]!==e?(n=function(a){var b=c.multiPostOrder.indexOf(a);if(b!==-1){c.multiPostOrder.length<=1&&o();b=d("PolarisCreationV2Actions").creationRemoveMedia(a);return e(b)}},a[12]=c.multiPostOrder,a[13]=o,a[14]=e,a[15]=n):n=a[15];n=n;var p;a[16]!==e?(p=function(){var a=d("PolarisCreationV2Actions").creationReset();return e(a)},a[16]=e,a[17]=p):p=a[17];p=p;var q;a[18]!==i||a[19]!==p||a[20]!==n||a[21]!==f?(q={addMediaFiles:i,clearAllMedia:p,removeMedia:n,selectMediaFiles:f},a[18]=i,a[19]=p,a[20]=n,a[21]=f,a[22]=q):q=a[22];return q}g["default"]=a}),98);
__d("usePolarisCreationToast",["PolarisCreationV2Actions","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(){var a=i(7),b=d("usePolarisCreationDispatch").useCreationDispatch(),c;a[0]!==b?(c=function(a){a=d("PolarisCreationV2Actions").creationSetErrorMessage(a);return b(a)},a[0]=b,a[1]=c):c=a[1];c=c;var e;a[2]!==b?(e=function(){var a=d("PolarisCreationV2Actions").creationSetErrorMessage(null);return b(a)},a[2]=b,a[3]=e):e=a[3];e=e;var f;a[4]!==e||a[5]!==c?(f={clearToast:e,setErrorMessage:c},a[4]=e,a[5]=c,a[6]=f):f=a[6];return f}g["default"]=a}),98);
__d("PolarisCreationAddMediaThumbnail.react",["fbt","IGDSAddOutline24Icon.react","IGDSBox.react","PolarisCreationCameraLogger","PolarisCreationConstants","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationTypes","PolarisIGCorePressable.react","PolarisImageFileForm.react","asyncToGeneratorRuntime","react","usePolarisCreationSelectMedia","usePolarisCreationState","usePolarisCreationToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useRef,l=e.unstable_useMemoCache;function m(a){var b=!1;a=a.values();for(a of a)b=b||a.type==="video"&&a.video!=null&&a.video.videoDurationMs>d("PolarisCreationConstants").MAX_VIDEO_LENGTH_GALLERY_S;return!b}function a(){var a=d("usePolarisCreationState").useCreationState();a=a.media;return m(a)?j.jsx(n,{}):j.jsx(o,{})}function n(){var a=l(16),e=k(null),f=d("usePolarisCreationState").useCreationState(),g=f.sessionId;f=c("usePolarisCreationToast")();var h=f.setErrorMessage;a[0]!==g||a[1]!==e?(f=function(){d("PolarisCreationCameraLogger").logFeedCreationCameraStartGallerySession({sessionId:g});var a=e==null?void 0:e.current;a!=null&&a.selectFile()},a[0]=g,a[1]=e,a[2]=f):f=a[2];f=f;var i=c("usePolarisCreationSelectMedia")(),m=i.addMediaFiles;a[3]!==m||a[4]!==g||a[5]!==h?(i=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield m(a),d("PolarisCreationCameraLogger").logFeedCreationCameraEndGallerySession({sessionId:g})}catch(c){a=c;if(a instanceof d("PolarisCreationError").CreationError){var b=d("PolarisCreationErrorHelpers").getCreationErrorToastForError(a);b!=null&&h(b.message)}else throw a}});return function(b){return a.apply(this,arguments)}}(),a[3]=m,a[4]=g,a[5]=h,a[6]=i):i=a[6];i=i;var n;a[7]!==f?(n=j.jsx(p,{onPress:f}),a[7]=f,a[8]=n):n=a[8];a[9]===Symbol["for"]("react.memo_cache_sentinel")?(f=Object.keys(d("PolarisCreationTypes").CREATION_MIME_TYPES),a[9]=f):f=a[9];a[10]!==i||a[11]!==e?(f=j.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:f,capture:!1,multiple:!0,onFileChange:i,ref:e}),a[10]=i,a[11]=e,a[12]=f):f=a[12];a[13]!==n||a[14]!==f?(i=j.jsxs(j.Fragment,{children:[n,f]}),a[13]=n,a[14]=f,a[15]=i):i=a[15];return i}function o(){var a=l(4),b=c("usePolarisCreationToast")(),e=b.setErrorMessage;a[0]!==e?(b=function(){var a=d("PolarisCreationErrorHelpers").getCreationErrorToastForError(d("PolarisCreationError").CreationError.maxVideoLengthGallery());a!=null&&e(a.message)},a[0]=e,a[1]=b):b=a[1];b=b;var f;a[2]!==b?(f=j.jsx(p,{onPress:b}),a[2]=b,a[3]=f):f=a[3];return f}function p(a){var b=l(4);a=a.onPress;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x5ur3kl xopu45v x1bs97v6 xmo9t06 x14yjl9h xudhj91 x18nykt9 xww2gxu x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xsdox4t xl56j7k x1useyqa xmoo3j9 x1277o0a",b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:j.jsx(c("IGDSAddOutline24Icon.react"),{alt:h._("__JHASH__O5KKwfu0DYS__JHASH__"),color:"ig-secondary-text",size:22})}),b[1]=e):e=b[1];b[2]!==a?(d=j.jsx(c("PolarisIGCorePressable.react"),{className:d,onPress:a,children:e}),b[2]=a,b[3]=d):d=b[3];return d}g.canAddMoreMedia=m;g.CreationAddMediaThumbnail=a}),98);
__d("usePolarisObjectState",["react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useRef,j=b.useState,k=b.unstable_useMemoCache;function a(a,b){var d=k(4),e=b===void 0?c("shallowEqual"):b;b=j(a);a=b[0];var f=b[1],g=i(a);d[0]!==e?(b=function(a){a=typeof a==="function"?a(g.current):a;e(g.current,a)||(f(a),g.current=a)},d[0]=e,d[1]=b):b=d[1];b=i(b);d[2]!==a?(b=[a,b.current],d[2]=a,d[3]=b):b=d[3];return b}g["default"]=a}),98);
__d("usePolarisCreationMediaPreview",["PolarisCreationMediaHelpers","nullthrows","react","usePolarisObjectState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useState,k=b.unstable_useMemoCache;function a(a,b){var e=k(19),f=j(null),g=f[0];f=f[1];var h=c("usePolarisObjectState")({height:"100%",width:"100%"}),l=h[0],m=h[1];h=a.type==="image"?a.image:a.video;var n,o;if(e[0]!==h||e[1]!==b||e[2]!==g||e[3]!==a.originalAspectRatio){var p=c("nullthrows")(h),q=p.height;p=p.width;var r=d("PolarisCreationMediaHelpers").getCroppedHeightAndWidthScaledDimensions(q,p,b,g);n=r.croppedHeightScaled;o=r.croppedWidthScaled;r=d("PolarisCreationMediaHelpers").getCroppedHeightAndWidthScaledDimensions(p,q,a.originalAspectRatio,g);e[0]=h;e[1]=b;e[2]=g;e[3]=a.originalAspectRatio;e[4]=r;e[5]=n;e[6]=o}else r=e[4],n=e[5],o=e[6];p=r;var s=p.croppedHeightScaled,t=p.croppedWidthScaled;e[7]!==s||e[8]!==t||e[9]!==n||e[10]!==o||e[11]!==m?(q=function(){var a=d("PolarisCreationMediaHelpers").getScaledOriginalMediaDimensions(s,t,n,o),b=a.height;a=a.width;m({height:b+"px",width:a+"px"})},h=[s,t,m,n,o],e[7]=s,e[8]=t,e[9]=n,e[10]=o,e[11]=m,e[12]=q,e[13]=h):(q=e[12],h=e[13]);i(q,h);e[14]!==n||e[15]!==o||e[16]!==g||e[17]!==l?(b={croppedHeightScaled:n,croppedWidthScaled:o,frameEl:g,mediaDimensions:l,setFrameEl:f},e[14]=n,e[15]=o,e[16]=g,e[17]=l,e[18]=b):b=e[18];return b}g["default"]=a}),98);
__d("PolarisCreationMediaPreviewThumbnail.react",["cx","IGDSBox.react","PolarisCreationMediaHelpers","react","usePolarisCreationMediaPreview"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(12),e=a.aspectRatio,f=a.media,g=a.showOverlay;a=a.src;e=d("PolarisCreationMediaHelpers").transformPanningOffsetsForRatios(e,f.panningOffsetRatioX,f.panningOffsetRatioY);var h=e.transformedOffsetX;e=e.transformedOffsetY;var i=c("usePolarisCreationMediaPreview")(f,1),l=i.croppedHeightScaled,m=i.croppedWidthScaled,n=i.mediaDimensions;i=i.setFrameEl;h=h*m;m=e*l;e=g?.5:0;l="translateX("+h+"px) translateY("+m+"px) scale("+f.scale;b[0]!==n.height||b[1]!==n.width||b[2]!==l?(g={height:n.height,transform:l,transition:"none",width:n.width},b[0]=n.height,b[1]=n.width,b[2]=l,b[3]=g):g=b[3];h=g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m="_abgj",b[4]=m):m=b[4];f="\n            linear-gradient(rgba(0, 0, 0, "+e+"), rgba(0, 0, 0, "+e+")),\n            url("+a+")\n          ";b[5]!==f||b[6]!==h||b[7]!==n?(l=k.jsx("div",{className:m,style:babelHelpers["extends"]({backgroundImage:f},h,n)}),b[5]=f,b[6]=h,b[7]=n,b[8]=l):l=b[8];b[9]!==i||b[10]!==l?(g=k.jsx(c("IGDSBox.react"),{alignItems:"center",containerRef:i,height:"100%",justifyContent:"center",overflow:"hidden",position:"relative",width:"100%",children:l}),b[9]=i,b[10]=l,b[11]=g):g=b[11];return g}g["default"]=a}),98);
__d("PolarisCreationMediaPreviewCarouselButtons.react",["cx","IGDSChevronLeftPanoOutlineIcon.react","IGDSChevronRightPanoOutlineIcon.react","Locale","PolarisCreationMediaButton.react","PolarisCreationV2ActionTypes","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisStepIndicator.react","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(){var a=j(9),b=d("usePolarisCreationDispatch").useCreationDispatch(),e=c("usePolarisCreationCurrentMedia")();e=e.currentMediaId;var f=d("usePolarisCreationState").useCreationState(),g=f.multiPostOrder;if(g.length>1&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()){var h=g.indexOf(e);f=h>0;e=h<g.length-1;var i=c("Locale").isRTL(),l=i?c("IGDSChevronRightPanoOutlineIcon.react"):c("IGDSChevronLeftPanoOutlineIcon.react");i=i?c("IGDSChevronLeftPanoOutlineIcon.react"):c("IGDSChevronRightPanoOutlineIcon.react");var m;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(m="_abfv",a[0]=m):m=a[0];f=f&&k.jsx("div",{className:"_amho",children:k.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").LEFT_CHEVRON,icon:l,onClick:function(){b({id:g[h-1],type:d("PolarisCreationV2ActionTypes").CREATION_SET_CURRENT_ID})},selected:!1})});l=e&&k.jsx("div",{className:"_amhp",children:k.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").RIGHT_CHEVRON,icon:i,onClick:function(){b({id:g[h+1],type:d("PolarisCreationV2ActionTypes").CREATION_SET_CURRENT_ID})},selected:!1})});a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e="_abfy",a[1]=e):e=a[1];a[2]!==g.length||a[3]!==h?(i=k.jsx("div",{className:e,children:k.jsx(c("PolarisStepIndicator.react"),{numSteps:g.length,selectedStep:h})}),a[2]=g.length,a[3]=h,a[4]=i):i=a[4];a[5]!==f||a[6]!==l||a[7]!==i?(e=k.jsxs("span",{className:m,children:[f,l,i]}),a[5]=f,a[6]=l,a[7]=i,a[8]=e):e=a[8];return e}return null}g["default"]=a}),98);
__d("PolarisFilteredCanvas.react",["cx","PolarisCreationMediaPreviewCarouselButtons.react","PolarisFilterGLContext","PolarisHasFeedCreationV2Dogfooding","PolarisMediaDimensionHelpers","PolarisResponsiveBlock.react","nullthrows","polarisWithForwardRef.react","react","usePolarisObjectState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.unstable_useMemoCache;function a(a){var b=m(62),e=a.adjustmentParams,f=a.filter,g=a.filterStrength,h=a.fixedSquare,i=a.forwardedRef,n=a.src,o=h===void 0?!1:h;a=c("usePolarisObjectState")({height:0,width:0});h=a[0];var p=a[1];a=c("usePolarisObjectState")({height:n.height,width:n.width});var q=a[0],r=a[1];a=c("usePolarisObjectState")({height:0,width:0});var s=a[0],t=a[1],u=l();b[0]!==i.current?(a=function(){var a;u.current=new(c("PolarisFilterGLContext"))(c("nullthrows")(i.current));(a=u.current)==null?void 0:a.init();return function(){var a;(a=u.current)==null?void 0:a.stopDraw()}},b[0]=i.current,b[1]=a):a=b[1];var v;b[2]!==i||b[3]!==u?(v=[i,u],b[2]=i,b[3]=u,b[4]=v):v=b[4];k(a,v);b[5]!==f||b[6]!==e?(a=function(){var a;if(((a=u.current)==null?void 0:a.activeFilterName)!==f){(a=u.current)==null?void 0:a.setFilter(f)}Object.keys(e).map(function(a){var b;(b=u.current)==null?void 0:b.setParam(a,e[a]/100)})},b[5]=f,b[6]=e,b[7]=a):a=b[7];b[8]!==u||b[9]!==f||b[10]!==e?(v=[u,f,e],b[8]=u,b[9]=f,b[10]=e,b[11]=v):v=b[11];k(a,v);b[12]!==g?(a=function(){var a;(a=u.current)==null?void 0:a.setParam("filterStrength",g)},b[12]=g,b[13]=a):a=b[13];b[14]!==u||b[15]!==g?(v=[u,g],b[14]=u,b[15]=g,b[16]=v):v=b[16];k(a,v);b[17]!==n||b[18]!==r?(a=function(){var a;(a=u.current)==null?void 0:a.setImage(n).then(function(a){a[0];a=a[1];r({height:a.height,width:a.width})})},b[17]=n,b[18]=r,b[19]=a):a=b[19];b[20]!==u||b[21]!==r||b[22]!==n?(v=[u,r,n],b[20]=u,b[21]=r,b[22]=n,b[23]=v):v=b[23];k(a,v);b[24]!==o||b[25]!==p||b[26]!==q.height||b[27]!==q.width||b[28]!==s.height||b[29]!==s.width?(a=function(){if(o)p({height:"100%",width:"100%"});else{var a=d("PolarisMediaDimensionHelpers").getDimensionsToStretchFit(q.height,q.width,s.height,s.width);p(a)}},b[24]=o,b[25]=p,b[26]=q.height,b[27]=q.width,b[28]=s.height,b[29]=s.width,b[30]=a):a=b[30];b[31]!==q||b[32]!==s||b[33]!==p||b[34]!==o?(v=[q,s,p,o],b[31]=q,b[32]=s,b[33]=p,b[34]=o,b[35]=v):v=b[35];k(a,v);b[36]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){var a;(a=u.current)==null?void 0:a.startDraw()},b[36]=a):a=b[36];b[37]!==u||b[38]!==f||b[39]!==g||b[40]!==e||b[41]!==n?(v=[u,f,g,e,n],b[37]=u,b[38]=f,b[39]=g,b[40]=e,b[41]=n,b[42]=v):v=b[42];k(a,v);b[43]!==t?(a=function(a,b){t({height:b,width:a})},b[43]=t,b[44]=a):a=b[44];v=a;b[45]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j.jsx(c("PolarisCreationMediaPreviewCarouselButtons.react"),{}):null},b[45]=a):a=b[45];a=a;var w;b[46]===Symbol["for"]("react.memo_cache_sentinel")?(w="_abm6",b[46]=w):w=b[46];b[47]===Symbol["for"]("react.memo_cache_sentinel")?(a=a(),b[47]=a):a=b[47];var x;b[48]!==o?(x=o?"_abm7":"",b[48]=o,b[49]=x):x=b[49];var y;b[50]!==h.height||b[51]!==h.width?(y={height:h.height,width:h.width},b[50]=h.height,b[51]=h.width,b[52]=y):y=b[52];b[53]!==x||b[54]!==n.height||b[55]!==n.width||b[56]!==i||b[57]!==y?(h=j.jsx("canvas",{className:x,height:n.height,ref:i,style:y,width:n.width}),b[53]=x,b[54]=n.height,b[55]=n.width,b[56]=i,b[57]=y,b[58]=h):h=b[58];b[59]!==v||b[60]!==h?(x=j.jsxs(c("PolarisResponsiveBlock.react"),{className:w,onResize:v,children:[a,h]}),b[59]=v,b[60]=h,b[61]=x):x=b[61];return x}e=c("polarisWithForwardRef.react")(a);g["default"]=e}),98);
__d("PolarisCreationThumbnail.react",["cx","IGDSBox.react","IGDSPlayPanoFilledIcon.react","PolarisCreationMediaPreviewThumbnail.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisFilteredCanvas.react","PolarisGenericStrings","nullthrows","react","usePolarisCreationCurrentMedia","usePolarisCreationMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.unstable_useMemoCache;function a(a){var b=l(3),e=a.id,f=a.size,g=k(null);a=d("PolarisCreationStepProvider.react").useCreationStep();var h=a.step,i=d("usePolarisCreationState").useCreationState();a=c("usePolarisCreationCurrentMedia")();var m=a.currentMediaId;a=d("usePolarisCreationMedia").useCreationMedia(e);var n=a.adjustmentParams,o=a.filterName,p=a.filterStrength,q=a.media,r=a.mediaItem,s=a.mediaItemType;if(q==null||r==null)return null;a=function(a){if(s==="video"){var b;return j.jsx(c("PolarisCreationMediaPreviewThumbnail.react"),{aspectRatio:(b=i.cropRatio)!=null?b:1,media:q,showOverlay:!a,size:f,src:(b=q==null?void 0:(b=q.coverPhoto)==null?void 0:(b=b.selectedCoverPhoto)==null?void 0:b.dataURL)!=null?b:""})}switch(h){case d("PolarisCreationTypes").STEP.crop:return j.jsx(c("PolarisCreationMediaPreviewThumbnail.react"),{aspectRatio:(b=i.cropRatio)!=null?b:q.originalAspectRatio,media:q,showOverlay:!a,size:f,src:r.dataURL});default:return m===e?j.jsx("div",{className:"_aabg",children:j.jsx(c("PolarisFilteredCanvas.react"),{adjustmentParams:n,filter:o,filterStrength:p/100,fixedSquare:!0,ref:g,src:c("nullthrows")(q.croppedCanvas)},c("nullthrows")(r.dataURL))}):j.jsx(c("PolarisCreationMediaPreviewThumbnail.react"),{aspectRatio:(b=i.cropRatio)!=null?b:q.originalAspectRatio,media:q,showOverlay:!a,size:f,src:r.dataURL})}};a=a(m===e);var t=s==="video"&&m!==e&&j.jsx(c("IGDSBox.react"),{alignItems:"center",height:f,justifyContent:"center",position:"absolute",width:f,children:j.jsx(c("IGDSPlayPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").PLAY_BUTTON_ALT,color:"ig-separator",shadow:!0,size:16})}),u;b[0]!==a||b[1]!==t?(u=j.jsxs(j.Fragment,{children:[a,t]}),b[0]=a,b[1]=t,b[2]=u):u=b[2];return u}g["default"]=a}),98);
__d("usePolarisHDragSort",["Locale","clamp","react","react-spring-wwwig","react-use-gesture"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useRef;function k(a,b,c){a=[].concat(a);a.splice(c,0,a.splice(b,1)[0]);return a}var l={clamp:!0,friction:26,mass:1,precision:.01,tension:170,velocity:0};function m(a,b,c,d){return function(e){e=a.indexOf(e)*b;d&&(e*=-1);return{config:l,immediate:c,scale:1,shadow:0,x:e,zIndex:0}}}function n(a,b,c,d,e,f,g){f===void 0&&(f=0);g===void 0&&(g=0);return function(h){return d===!0&&h===e?{config:l,immediate:function(a){return a==="x"||a==="zIndex"},scale:1.2,shadow:20,x:(c?-1:1)*f*b+g,zIndex:1}:m(a,b,!1,c)(h)}}function o(a,b,c){return function(d){return m(a,b,!0,c)(d)}}function p(a,b,d,e,f){f=c("clamp")(Math.round((a*d+(f?-1:1)*e)/d),0,b.current.length-1);return k(b.current,a,f)}function a(a,b,c,e,f){var g=j([]),h=j([]);if(a.length!==g.current.length||a.length!==h.current.length){g.current=a;h.current=(a=g.current.map(function(a,b){return b}))!=null?a:[]}var k=d("Locale").isRTL();a=d("react-spring-wwwig").useSprings(g.current.length,o(h.current,b,k),[h.current]);var l=a[0],m=a[1];a=d("react-use-gesture").useDrag(function(a){var d=a.args;d=d[0];var i=a.active;a=a.movement;a=a[0];e!=null&&e();var j=h.current.indexOf(d),l=p(j,h,b,a,k);m(n(l,b,k,i,d,j,a));if(!i){f!=null&&f();d=h.current.join()===l.join();if(d)return;h.current=l;var o=g.current;if(c!=null&&o!=null){j=h.current.map(function(a){return o[a]});c(j)}}},{delay:100});i(function(){m(n(h.current,b,k))},[k,b,m]);return{bindDrag:a,itemsRef:g,orderRef:h,springs:l}}g.moveItem=k;g.buildSpringStyles=n;g.getNewOrder=p;g.useHDragSort=a}),98);
__d("PolarisCreationThumbnailBar.react",["CometPressable.react","IGDSBox.react","IGDSXPanoOutlineIcon.react","PolarisCreationAddMediaThumbnail.react","PolarisCreationConstants","PolarisCreationMediaButton.react","PolarisCreationStepProvider.react","PolarisCreationThumbnail.react","PolarisCreationTypes","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisDisappearingTooltip.react","PolarisGenericStrings","PolarisHSnapScroll.react","PolarisIGAnimate","PolarisIGCoreConstants","react","stylex","usePolarisCreationDispatch","usePolarisCreationModalSize","usePolarisCreationState","usePolarisHDragSort"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.unstable_useMemoCache;function m(){var a=c("usePolarisCreationModalSize")();return a==="small"?34:44}var n=12,o=500,p={addButton:{height:"x5yr21d",marginTop:"xdj266r",marginEnd:"xw3qccf",marginBottom:"xat24cr",marginStart:"x1mnrxsn",width:"x14atkfc",$$css:!0},deleteIcon:{end:"x4r51d9",left:null,right:null,height:"x1fgtraw",position:"x10l6tqk",top:"x13vifvy",width:"xgd8bvy",zIndex:"x1vjfegm",$$css:!0},deleteIconContainer:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",position:"x1n2onr6",width:"xgd8bvy",$$css:!0},largeThumbnail:{height:"xyk13k4",width:"x24u15m",$$css:!0},thumbnail:{height:"xn3w4p2",marginTop:"xdj266r",marginEnd:"x1w0mnb",marginBottom:"xat24cr",marginStart:"x1mnrxsn",touchAction:"x5ve5x3",width:"x187nhsf",$$css:!0}};function a(a){var b=l(23),e=a.setShowDeleteDialog;a=a.size;var f=a===void 0?"default":a;a=k(!1);var g=a[0],i=a[1],q=d("usePolarisCreationState").useCreationState();a=d("PolarisCreationStepProvider.react").useCreationStep();var r=a.step,s=d("usePolarisCreationDispatch").useCreationDispatch();a=m();var t;b[0]!==f||b[1]!==a?(t=f==="default"?a:94,b[0]=f,b[1]=a,b[2]=t):t=b[2];var u=t;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){i(!1)},b[3]=a):a=b[3];var v=a;t=function(a){v(),s({multiPostOrder:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_MULTI_POST_ORDER})};a=function(){g===!1&&i(!0),q.hasViewedReorderTooltip===!1&&s({hasViewedReorderTooltip:!0,type:d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_REORDER_TOOLTIP})};t=d("usePolarisHDragSort").useHDragSort(q.multiPostOrder,u+n,t,a,v);var w=t.bindDrag,x=t.itemsRef;a=t.orderRef;t=t.springs;var y;b[4]!==s?(y=function(){s({hasViewedReorderTooltip:!0,type:d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_REORDER_TOOLTIP})},b[4]=s,b[5]=y):y=b[5];y=y;var z=t.map(function(a,b){var i=a.scale,k=a.shadow,l=a.x;a=a.zIndex;var m=q.currentMediaId===x.current[b];return j.createElement(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({},r===d("PolarisCreationTypes").STEP.crop&&q.multiPostOrder.length>1?w(b):{},{key:x.current[b],style:{position:"absolute",x:l,zIndex:a}}),g===!1&&m===!0&&e!=null&&j.jsx(c("CometPressable.react"),{onPress:function(){return e(!0)},overlayDisabled:!0,role:"button",xstyle:p.deleteIcon,children:j.jsx("div",{className:"x6s0dn4 x78zum5 x1fgtraw xl56j7k x1n2onr6 xgd8bvy",children:j.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").DELETE_TEXT,icon:c("IGDSXPanoOutlineIcon.react"),onClick:function(){return e(!0)},selected:!1,size:"small"})})}),j.jsx(c("CometPressable.react"),{onPress:function(){m||s({id:x.current[b],type:d("PolarisCreationV2ActionTypes").CREATION_SET_CURRENT_ID})},overlayDisabled:!0,children:j.jsx(d("PolarisIGAnimate").Animated.div,{className:(h||(h=c("stylex")))([p.thumbnail,f==="large"&&p.largeThumbnail]),style:{boxShadow:k.to(function(a){return"rgba(0, 0, 0, "+a+"%) 0px 2px 6px 2px"}),scale:i},children:j.jsx(c("PolarisCreationThumbnail.react"),{id:x.current[b],size:u})})},x.current[b]))});a=(u+n)*a.current.length;var A=u+n,B;b[6]!==g?(B={next:g,previous:g},b[6]=g,b[7]=B):B=b[7];var C;b[8]!==t.length||b[9]!==A||b[10]!==B||b[11]!==z?(C=j.jsx(c("PolarisHSnapScroll.react"),{animationDuration:o,disableScrollSnap:!0,enableMouseSwipe:!1,itemCount:t.length,itemWidth:A,pagerDisabled:B,pagerVariant:"creation",children:z}),b[8]=t.length,b[9]=A,b[10]=B,b[11]=z,b[12]=C):C=b[12];b[13]!==u||b[14]!==a||b[15]!==C||b[16]!==r||b[17]!==q?(t=j.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",maxWidth:"100%",position:"relative",children:[j.jsx(c("IGDSBox.react"),{flex:"grow",height:u,position:"relative",width:a,children:C}),r===d("PolarisCreationTypes").STEP.crop&&q.multiPostOrder.length<d("PolarisCreationConstants").MAX_NUM_MEDIA&&j.jsx("div",{className:"x5ve5x3 x5yr21d xdj266r xw3qccf xat24cr x1mnrxsn x14atkfc",children:j.jsx(d("PolarisCreationAddMediaThumbnail.react").CreationAddMediaThumbnail,{})})]}),b[13]=u,b[14]=a,b[15]=C,b[16]=r,b[17]=q,b[18]=t):t=b[18];A=t;if(r===d("PolarisCreationTypes").STEP.crop&&q.multiPostOrder.length<d("PolarisCreationConstants").MAX_NUM_MEDIA&&q.hasViewedReorderTooltip!==!0){B=f==="large"?"above":"below";b[19]!==y||b[20]!==B||b[21]!==A?(z=j.jsx(c("PolarisDisappearingTooltip.react"),{autoHideAfter:c("PolarisIGCoreConstants").TOOLTIP.AUTO_HIDE_MS,color:"black",disableTooltipHideOnDismount:!0,onTooltipHide:y,position:B,tooltip:d("PolarisCreationV2Strings").REORDER_TOOLTIP,children:A}),b[19]=y,b[20]=B,b[21]=A,b[22]=z):z=b[22];return z}return A}g["default"]=a}),98);
__d("PolarisCreationGalleryMediaButton.react",["IGDSBox.react","IGDSCarouselPanoOutlineIcon.react","PolarisCreationMediaPopoverButton.react","PolarisCreationThumbnailBar.react","PolarisCreationV2Strings","react","usePolarisCreationMediaPopoverContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=94,l=12;function a(a){var b=i(10);a=a.setShowDeleteDialog;var e=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext(),f=e.openedPopover,g=e.setOpenedPopover,h=f===d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.GALLERY;b[0]!==g||b[1]!==h?(e=function(){g(h?null:d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.GALLERY)},b[0]=g,b[1]=h,b[2]=e):e=b[2];e=e;f=f!=null&&f!==d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.GALLERY;var m;b[3]!==a?(m=j.jsx(c("IGDSBox.react"),{alignItems:"start",height:k+2*l,justifyContent:"center",padding:2,position:"relative",children:j.jsx(c("PolarisCreationThumbnailBar.react"),{setShowDeleteDialog:a,size:"large"})}),b[3]=a,b[4]=m):m=b[4];b[5]!==f||b[6]!==h||b[7]!==e||b[8]!==m?(a=j.jsx(c("IGDSBox.react"),{alignItems:"end",direction:"column",position:"relative",width:"100%",children:j.jsx(c("PolarisCreationMediaPopoverButton.react"),{altText:d("PolarisCreationV2Strings").GALLERY_ALT_TEXT,disabled:f,expanded:h,icon:c("IGDSCarouselPanoOutlineIcon.react"),togglePopover:e,children:m})}),b[5]=f,b[6]=h,b[7]=e,b[8]=m,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("PolarisCreationMediaDiscardDialog.react",["IGCoreDialog.react","PolarisCreationV2Strings","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(13),c=a.mediaType,e=a.onModalClose,f=a.onRemoveMedia;a=c==="image"?d("PolarisCreationV2Strings").DISCARD_PHOTO_BODY:d("PolarisCreationV2Strings").DISCARD_VIDEO_BODY;c=c==="image"?d("PolarisCreationV2Strings").DISCARD_PHOTO_TITLE:d("PolarisCreationV2Strings").DISCARD_VIDEO_TITLE;var g;b[0]!==f||b[1]!==e?(g=function(){f(),e()},b[0]=f,b[1]=e,b[2]=g):g=b[2];var h;b[3]!==g?(h=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:g,children:d("PolarisCreationV2Strings").DISCARD_CTA_TEXT}),b[3]=g,b[4]=h):h=b[4];b[5]!==e?(g=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:e,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[5]=e,b[6]=g):g=b[6];var k;b[7]!==a||b[8]!==e||b[9]!==c||b[10]!==h||b[11]!==g?(k=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:a,onModalClose:e,title:c,children:[h,g]}),b[7]=a,b[8]=e,b[9]=c,b[10]=h,b[11]=g,b[12]=k):k=b[12];return k}g["default"]=a}),98);
__d("PolarisCreationSlider.react",["cx","IGDSBox.react","PolarisIGCoreText","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useState,m=b.unstable_useMemoCache;function n(a,b,c,d){var e=d?"rgb(0, 0, 0)":"rgb(219, 219, 219)";d=d?"rgb(255, 255, 255)":"rgb(38, 38, 38)";if(a){a=c/2;return b<a?"linear-gradient(\n      to right,\n      "+e+" 0%,\n      "+e+" "+b+"%,\n      "+d+" "+b+"%,\n      "+d+" 50%,\n      "+e+" 50%,\n      "+e+" 100%\n    )":"linear-gradient(\n      to right,\n      "+e+" 0%,\n      "+e+" 50%,\n      "+d+" 50%,\n      "+d+" "+b+"%,\n      "+e+" "+b+"%,\n      "+e+" 100%\n    )"}return"linear-gradient(\n    to right,\n    "+d+" 0%,\n    "+d+" "+b+"%,\n    "+e+" "+b+"%,\n    "+e+" 100%\n  )"}function o(a,b,c,d){d===void 0&&(d=!1);var e=(parseInt(c.value,10)-parseInt(c.min,10))/(parseInt(c.max,10)-parseInt(c.min,10))*100;c.style.backgroundImage=n(a,e,b,d)}function a(a){var b=m(45),e=a.centerBased,f=a.color,g=a.disabled,h=a.initialValue,i=a.maxValue,n=a.minValue,p=a.onChange,q=a.onSetValue,r=a.showValue;a=a.size;var s=e===void 0?!1:e,t=f===void 0?"default":f;e=g===void 0?!1:g;var u=i===void 0?100:i;f=n===void 0?0:n;g=a===void 0?"default":a;i=l(h);n=i[0];var v=i[1];a=l(null);var w=a[0];i=a[1];a=l(!1);var x=a[0],y=a[1],z;b[0]!==h?(a=function(){v(h)},z=[h],b[0]=h,b[1]=a,b[2]=z):(a=b[1],z=b[2]);k(a,z);b[3]!==w||b[4]!==s||b[5]!==u||b[6]!==t?(a=function(){w&&o(s,u,w,t==="dark")},b[3]=w,b[4]=s,b[5]=u,b[6]=t,b[7]=a):a=b[7];b[8]!==s||b[9]!==t||b[10]!==w||b[11]!==u||b[12]!==n?(z=[s,t,w,u,n],b[8]=s,b[9]=t,b[10]=w,b[11]=u,b[12]=n,b[13]=z):z=b[13];k(a,z);b[14]!==p?(a=function(a){v(a.target.value),p(Number(a.target.value))},b[14]=p,b[15]=a):a=b[15];z=a;b[16]!==q?(a=function(a){v(a.target.value),q&&q(Number(a.target.value))},b[16]=q,b[17]=a):a=b[17];var A=a;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){y(!0)},b[18]=a):a=b[18];a=a;var B;b[19]!==A?(B=function(a){y(!1),A(a)},b[19]=A,b[20]=B):B=b[20];B=B;var C=g==="default";g=g==="small";var D=t==="dark",E;b[21]!==C||b[22]!==g||b[23]!==D||b[24]!==e?(E="_ac2y"+(C?" _ac2z":"")+(g?" _ac2-":"")+(D?" _ac2_":"")+(e?" _ac30":""),b[21]=C,b[22]=g,b[23]=D,b[24]=e,b[25]=E):E=b[25];b[26]!==s||b[27]!==u?(C=function(a){a=a.target;return o(s,u,a)},b[26]=s,b[27]=u,b[28]=C):C=b[28];b[29]!==E||b[30]!==e||b[31]!==u||b[32]!==f||b[33]!==z||b[34]!==C||b[35]!==B||b[36]!==n?(g=j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsx("input",{className:E,dir:"ltr",disabled:e,max:u,min:f,onChange:z,onInput:C,onMouseDown:a,onMouseUp:B,onTouchEnd:B,onTouchStart:a,readOnly:!d("PolarisUA").isMobileSafari(),ref:i,type:"range",value:n})}),b[29]=E,b[30]=e,b[31]=u,b[32]=f,b[33]=z,b[34]=C,b[35]=B,b[36]=n,b[37]=g):g=b[37];b[38]!==r||b[39]!==n||b[40]!==x?(D=r&&j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",width:24,children:j.jsx(c("PolarisIGCoreText"),{color:Number(n)!==0?"ig-primary-text":"ig-secondary-text",size:"footnote",textAlign:"right",weight:x?"semibold":"normal",children:n})}),b[38]=r,b[39]=n,b[40]=x,b[41]=D):D=b[41];b[42]!==g||b[43]!==D?(a=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",width:"100%",children:[g,D]}),b[42]=g,b[43]=D,b[44]=a):a=b[44];return a}g.updateBackgroundFill=o;g.CreationSlider=a}),98);
__d("PolarisCreationZoomSlider.react",["cx","PolarisCreationSlider.react","PolarisCreationV2ActionTypes","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=2;function m(a){return(a-1)/(l-1)*100}function n(a){return 1+a/100*(l-1)}function a(a){var b=j(12),c=a.id,e=a.onChange;a=a.scale;var f=d("usePolarisCreationDispatch").useCreationDispatch(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="_abm5",b[0]=g):g=b[0];var h;b[1]!==a?(h=m(a),b[1]=a,b[2]=h):h=b[2];b[3]!==e?(a=function(a){return e(n(a))},b[3]=e,b[4]=a):a=b[4];var i;b[5]!==f||b[6]!==c?(i=function(a){f({id:c,scale:n(a),type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})},b[5]=f,b[6]=c,b[7]=i):i=b[7];b[8]!==h||b[9]!==a||b[10]!==i?(g=k.jsx("div",{className:g,children:k.jsx(d("PolarisCreationSlider.react").CreationSlider,{color:"dark",initialValue:h,onChange:a,onSetValue:i,showValue:!1,size:"small"})}),b[8]=h,b[9]=a,b[10]=i,b[11]=g):g=b[11];return g}g.SLIDER_ZOOM_VALUE=l;g.scaleToSlider=m;g.sliderToScale=n;g.CreationZoomSlider=a}),98);
__d("PolarisCreationZoomMediaButton.react",["IGDSBox.react","IGDSZoomPanoOutlineIcon.react","PolarisCreationMediaPopoverButton.react","PolarisCreationV2Strings","PolarisCreationZoomSlider.react","react","usePolarisCreationCurrentMedia","usePolarisCreationMediaPopoverContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=32,l=132;function a(a){var b=i(12);a=a.onZoomChange;var e=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext(),f=e.openedPopover,g=e.setOpenedPopover,h=f===d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.ZOOM;e=c("usePolarisCreationCurrentMedia")();var m=e.currentMedia;e=e.currentMediaId;m=m.scale;var n;b[0]!==g||b[1]!==h?(n=function(){g(h?null:d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.ZOOM)},b[0]=g,b[1]=h,b[2]=n):n=b[2];n=n;f=f!=null&&f!==d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverView.ZOOM;var o;b[3]!==e||b[4]!==a||b[5]!==m?(o=j.jsx(c("IGDSBox.react"),{height:k,justifyContent:"center",position:"relative",width:l,children:j.jsx(d("PolarisCreationZoomSlider.react").CreationZoomSlider,{id:e,onChange:a,scale:m})}),b[3]=e,b[4]=a,b[5]=m,b[6]=o):o=b[6];b[7]!==f||b[8]!==h||b[9]!==n||b[10]!==o?(e=j.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",position:"relative",children:j.jsx(c("PolarisCreationMediaPopoverButton.react"),{altText:d("PolarisCreationV2Strings").ZOOM_ALT_TEXT,disabled:f,expanded:h,icon:c("IGDSZoomPanoOutlineIcon.react"),togglePopover:n,children:o})}),b[7]=f,b[8]=h,b[9]=n,b[10]=o,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("PolarisCreationMediaPreviewControlsOverlay.react",["cx","IGDSBox.react","IGDSDeletePanoFilledIcon.react","IGDSIconButton.react","PolarisCreationCropMediaButton.react","PolarisCreationGalleryMediaButton.react","PolarisCreationMediaDiscardDialog.react","PolarisCreationMediaPreviewCarouselButtons.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationZoomMediaButton.react","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisUA","react","usePolarisCreationCurrentMedia","usePolarisCreationSelectMedia"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.unstable_useMemoCache;function m(a){var b=l(11),e=a.onZoomChange;a=a.setShowDeleteDialog;var f=c("usePolarisCreationCurrentMedia")();f=f.currentMediaItemType;if(d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()){var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("PolarisCreationCropMediaButton.react"),{}),b[0]=g):g=b[0];var h;b[1]!==f||b[2]!==e?(g=j.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,margin:2,position:"absolute",children:g}),h=f==="image"&&e!=null&&j.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,marginStart:11,padding:2,position:"absolute",children:j.jsx(c("PolarisCreationZoomMediaButton.react"),{onZoomChange:e})}),b[1]=f,b[2]=e,b[3]=g,b[4]=h):(g=b[3],h=b[4]);b[5]!==a?(f=j.jsx(c("IGDSBox.react"),{alignItems:"end",bottom:!0,padding:2,position:"absolute",right:!0,width:"100%",children:j.jsx(c("PolarisCreationGalleryMediaButton.react"),{setShowDeleteDialog:a})}),b[5]=a,b[6]=f):f=b[6];b[7]!==g||b[8]!==h||b[9]!==f?(e=j.jsxs(j.Fragment,{children:[g,h,f]}),b[7]=g,b[8]=h,b[9]=f,b[10]=e):e=b[10];return e}return null}function a(a){var b=l(34),e=a.children,f=a.croppedHeightScaled,g=a.croppedWidthScaled,h=a.enableMoreOptions,i=a.mediaType;a=a.onZoomChange;var n=d("PolarisCreationStepProvider.react").useCreationStep();n=n.step;var o=k(!1),p=o[0],q=o[1];o=c("usePolarisCreationCurrentMedia")();var r=o.currentMediaId;o=c("usePolarisCreationSelectMedia")();var s=o.removeMedia;o=k(!1);var t=o[0],u=o[1];o=k(!1);var v=o[0],w=o[1];o=k(!1);var x=o[0],y=o[1];b[0]!==h||b[1]!==t||b[2]!==x?(o=h&&(t||d("PolarisUA").isTouchDevice())&&!x,b[0]=h,b[1]=t,b[2]=x,b[3]=o):o=b[3];h=o;b[4]!==s||b[5]!==r?(t=function(){return s(r)},b[4]=s,b[5]=r,b[6]=t):t=b[6];x=t;o=n===d("PolarisCreationTypes").STEP.crop;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j.jsx(c("PolarisCreationMediaPreviewCarouselButtons.react"),{}):null},b[7]=t):t=b[7];n=t;b[8]!==o||b[9]!==a?(t=o&&j.jsx(m,{onZoomChange:a,setShowDeleteDialog:q}),b[8]=o,b[9]=a,b[10]=t):t=b[10];var z;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(o=n(),a=function(){return w(!0)},n=function(){return u(!0)},z=function(){u(!1),y(!1)},b[11]=o,b[12]=a,b[13]=n,b[14]=z):(o=b[11],a=b[12],n=b[13],z=b[14]);var A;b[15]!==v?(A=function(){v&&y(!0)},b[15]=v,b[16]=A):A=b[16];var B;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(B=function(){w(!1),y(!1)},b[17]=B):B=b[17];var C;b[18]!==h||b[19]!==f||b[20]!==g?(C=h&&!d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()&&j.jsx(c("IGDSBox.react"),{alignItems:"end",height:f,justifyContent:"end",position:"absolute",width:g,children:j.jsx("div",{className:"_abgk",children:j.jsx(c("IGDSIconButton.react"),{onClick:function(){q(!0),u(!1),y(!1)},children:j.jsx(c("IGDSDeletePanoFilledIcon.react"),{alt:d("PolarisGenericStrings").DELETE_TEXT,color:"ig-text-on-media",size:24})})})}),b[18]=h,b[19]=f,b[20]=g,b[21]=C):C=b[21];b[22]!==p||b[23]!==i||b[24]!==x?(h=p&&j.jsx(c("PolarisCreationMediaDiscardDialog.react"),{mediaType:i,onModalClose:function(){return q(!1)},onRemoveMedia:x}),b[22]=p,b[23]=i,b[24]=x,b[25]=h):h=b[25];b[26]!==A||b[27]!==e||b[28]!==C||b[29]!==h?(f=j.jsxs("div",{onMouseDown:a,onMouseEnter:n,onMouseLeave:z,onMouseMove:A,onMouseUp:B,role:"presentation",children:[e,C,h]}),b[26]=A,b[27]=e,b[28]=C,b[29]=h,b[30]=f):f=b[30];b[31]!==t||b[32]!==f?(g=j.jsxs(j.Fragment,{children:[t,o,f]}),b[31]=t,b[32]=f,b[33]=g):g=b[33];return g}g["default"]=a}),98);
__d("PolarisCreationMediaPreviewCropContainer.react",["PolarisIGAnimate","react","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(8),c=a.children,e=a.croppedHeightScaled,f=a.croppedWidthScaled;b[0]!==e||b[1]!==f?(a=function(){return{config:{friction:40,mass:1,tension:470},height:e,width:f}},b[0]=e,b[1]=f,b[2]=a):a=b[2];a=d("react-spring-wwwig").useSpring(a,[e,f]);a=a[0];var g;b[3]!==a?(g=babelHelpers["extends"]({},a,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"}),b[3]=a,b[4]=g):g=b[4];b[5]!==g||b[6]!==c?(a=j.jsx(d("PolarisIGAnimate").Animated.div,{style:g,children:c}),b[5]=g,b[6]=c,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("usePolarisCreationVideoPlayer",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isPlaying:!1,pauseVideo:function(){},playVideo:function(){},setVideo:function(){},video:null});function a(){return i(j)}g.CreationVideoPlayerContext=j;g.useCreationVideoPlayerContext=a}),98);
__d("PolarisCreationVideoPlayer.react",["cx","PolarisCreationConstants","PolarisIGAnimate","PolarisVideoPlayButton.react","react","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect;function a(a){var b=a.autoPlay,e=a.coverPhoto,f=a.forwardRef,g=a.isAnimated;g=g===void 0?!1:g;var h=a.loop,i=a.muted,m=a.onLoadedData,n=a.src,o=a.style,p=a.trim;a=d("usePolarisCreationVideoPlayer").useCreationVideoPlayerContext();var q=a.isPlaying,r=a.pauseVideo,s=a.playVideo,t=a.setVideo,u=a.video,v=k(function(){var a;if(u==null)return;r();u.currentTime=(a=p==null?void 0:p.start)!=null?a:0},[r,p,u]);a=k(function(){var a;if(u==null)return;u.currentTime=(a=p==null?void 0:p.start)!=null?a:0;s()},[s,p,u]);var w=function(){if(u!=null){var a,b;a=(a=p==null?void 0:p.start)!=null?a:0;b=(b=(b=p==null?void 0:p.end)!=null?b:u.duration)!=null?b:0;(u.currentTime<a||b!=null&&u.currentTime>=b)&&(u.currentTime=a)}},x=function(){if(u==null)return;q===!0?r():(w(),s())};l(function(){var a=window.requestAnimationFrame(b);function b(){var c,e,f;if(u==null||!q)return;c=(c=p==null?void 0:p.start)!=null?c:0;e=(e=(e=p==null?void 0:p.end)!=null?e:u.duration)!=null?e:0;f=(f=u==null?void 0:u.duration)!=null?f:0;e!=null&&u.currentTime>=e-f*d("PolarisCreationConstants").VIDEO_TRIM_OFFSET&&(u.paused||(h===!0?u.currentTime=c:v()));a=window.requestAnimationFrame(b)}return function(){window.cancelAnimationFrame(a),q===!0&&r()}},[a,v,q,h,r,p,u]);function y(){if(u==null||m==null)return;m(u)}a=b!==!0&&e!=null&&q!==!0;y=j.jsxs(j.Fragment,{children:[j.jsx("video",{autoPlay:b,className:"_abg5",controls:!1,loop:!1,muted:i,onEnded:h!==!0?v:void 0,onLoadedData:y,ref:t,src:n}),a&&j.jsx("div",{style:{backgroundImage:"url("+((i=e)!=null?i:"")+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",overflow:"hidden",position:"absolute",width:"100%"}})]});t=j.jsx(d("PolarisIGAnimate").Animated.div,{forwardRef:f,style:o,children:y});n=j.jsx("div",{style:o,children:y});return j.jsxs(j.Fragment,{children:[g?t:n,b!==!0&&j.jsx(c("PolarisVideoPlayButton.react"),{onClick:x,showPlayButton:!q})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMediaPreviewMediaContainer.react",["cx","PolarisCreationCompositionGrid.react","PolarisCreationV2Actions","PolarisCreationV2State","PolarisCreationVideoPlayer.react","PolarisCreationZoomSlider.react","PolarisHasFeedCreationV2Dogfooding","PolarisIGAnimate","PolarisUA","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(47),e=a.bindDragEvents,f=a.isPanning,g=a.mediaDimensions,h=a.mediaType,i=a.offsetX,l=a.offsetY,m=a.onPanAndZoom,n=a.onZoomChange,o=a.panAndZoomStyles;a=a.setMediaEl;var p=d("usePolarisCreationDispatch").useCreationDispatch(),q=c("usePolarisCreationCurrentMedia")(),r=q.currentMedia,s=q.currentMediaId;q=q.currentMediaItem;q=q.dataURL;var t=r.audio,u=r.scale;i="translateX("+i+"px) translateY("+l+"px) scale("+u;b[0]!==g.height||b[1]!==g.width||b[2]!==i?(l={display:"flex",height:g.height,transform:i,transition:"none",width:g.width},b[0]=g.height,b[1]=g.width,b[2]=i,b[3]=l):l=b[3];i=l;b[4]!==t||b[5]!==s||b[6]!==p?(l=function(a){if(t!==d("PolarisCreationV2State").AUDIO_STATUS.none){a=d("PolarisCreationV2Actions").verifyAudioTracks(a,s);a!=null&&p(a)}},b[4]=t,b[5]=s,b[6]=p,b[7]=l):l=b[7];l=l;var v;b[8]!==h||b[9]!==m||b[10]!==s||b[11]!==n||b[12]!==u?(v=function(){if(d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding())return null;else if(h==="image"&&m!=null)return k.jsx(d("PolarisCreationZoomSlider.react").CreationZoomSlider,{id:s,onChange:n,scale:u});return null},b[8]=h,b[9]=m,b[10]=s,b[11]=n,b[12]=u,b[13]=v):v=b[13];v=v;var w;b[14]!==v?(w=v(),b[14]=v,b[15]=w):w=b[15];b[16]!==h||b[17]!==q||b[18]!==o||b[19]!==g||b[20]!==a?(v=h==="image"&&k.jsx(d("PolarisIGAnimate").Animated.div,{forwardRef:a,style:babelHelpers["extends"]({},o,{backgroundImage:"url("+q+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:g.height,overflow:"hidden",width:g.width})}),b[16]=h,b[17]=q,b[18]=o,b[19]=g,b[20]=a,b[21]=v):v=b[21];if(b[22]!==h||b[23]!==r||b[24]!==t||b[25]!==o||b[26]!==g||b[27]!==a||b[28]!==l||b[29]!==q){var x;x=h==="video"&&k.jsx(c("PolarisCreationVideoPlayer.react"),{autoPlay:!0,coverPhoto:r==null?void 0:(x=r.coverPhoto)==null?void 0:(x=x.selectedCoverPhoto)==null?void 0:x.dataURL,forwardRef:a,isAnimated:!0,loop:!0,muted:t!==d("PolarisCreationV2State").AUDIO_STATUS.on||d("PolarisUA").isSafari(),onLoadedData:l,src:q,style:babelHelpers["extends"]({},o,{height:g.height,width:g.width})});b[22]=h;b[23]=r;b[24]=t;b[25]=o;b[26]=g;b[27]=a;b[28]=l;b[29]=q;b[30]=x}else x=b[30];if(b[31]!==h||b[32]!==r||b[33]!==t||b[34]!==q||b[35]!==i){a=h==="videoplayer"&&k.jsx(c("PolarisCreationVideoPlayer.react"),{autoPlay:!1,coverPhoto:r==null?void 0:(o=r.coverPhoto)==null?void 0:(g=o.selectedCoverPhoto)==null?void 0:g.dataURL,loop:!0,muted:t!==d("PolarisCreationV2State").AUDIO_STATUS.on,src:q,style:i,trim:r==null?void 0:r.trim});b[31]=h;b[32]=r;b[33]=t;b[34]=q;b[35]=i;b[36]=a}else a=b[36];b[37]!==m||b[38]!==e||b[39]!==f?(l=m!=null&&k.jsx(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({className:"_aabm"},e(),{children:f&&k.jsx(c("PolarisCreationCompositionGrid.react"),{})})),b[37]=m,b[38]=e,b[39]=f,b[40]=l):l=b[40];b[41]!==w||b[42]!==v||b[43]!==x||b[44]!==a||b[45]!==l?(o=k.jsxs(k.Fragment,{children:[w,v,x,a,l]}),b[41]=w,b[42]=v,b[43]=x,b[44]=a,b[45]=l,b[46]=o):o=b[46];return o}g["default"]=a}),98);
__d("PolarisReelCreationNuxScreenStrings",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");a=h._("__JHASH___5Ly7h568aj__JHASH__");b=h._("__JHASH__o3skiS8ZehA__JHASH__");c=h._("__JHASH__-eO6FK8NOHv__JHASH__");e=h._("__JHASH__R6jwyB8DngY__JHASH__");f=h._("__JHASH__OBVEVvNHC_d__JHASH__");d=h._("__JHASH__Kq-O4fSoFQR__JHASH__");var j=h._("__JHASH__ZYrrlbvcUHL__JHASH__");h=h._("__JHASH__yaYvcAFGDL0__JHASH__");g.REEL_CREATION_NUX_MODAL_TITLE_PUBLIC=a;g.REEL_CREATION_NUX_MODAL_TITLE_PRIVATE=b;g.REEL_CREATION_NUX_BULLET_1_PUBLIC=c;g.REEL_CREATION_NUX_BULLET_1_PRIVATE=e;g.REEL_CREATION_NUX_BULLET_2_PUBLIC=f;g.REEL_CREATION_NUX_LEARN_MORE_LINK_PUBLIC=d;g.REEL_CREATION_NUX_LEARN_MORE_LINK_PRIVATE=j;g.REEL_CREATION_NUX_MODAL_PRIMARY_ACTION=h}),98);
__d("PolarisReelCreationNuxScreenModal.react",["CometImage.react","IGCoreDialog.react","IGDSBox.react","IGDSRemixPanoOutline24Icon.react","IGDSText.react","IGDSUserCirclePanoOutlineIcon.react","PolarisIGCoreButton.react","PolarisIGCoreDialogCircleMedia","PolarisNavigationUtils","PolarisReelCreationNuxScreenStrings","react","stylex","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={bulletListItem:{display:"x78zum5",flexDirection:"x1q0g3np",paddingBottom:"x156go17",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,paddingStart:"x1swvt13",$$css:!0},bulletListItemLast:{display:"x78zum5",flexDirection:"x1q0g3np",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,paddingStart:"x1swvt13",$$css:!0},bulletListText:{paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,width:"x1tjp0jp",$$css:!0},button:{display:"x78zum5",flexDirection:"x1q0g3np",paddingBottom:"xdko459",$$css:!0},content:{display:"x78zum5",flexDirection:"xdt5ytf",font:"xln7xf2",fontSize:"xk390pu",justifyContent:"xl56j7k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,verticalAlign:"x11njtxf",$$css:!0},icon:{alignSelf:"xamitd3",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},learnMoreAboutReelsRow:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",paddingBottom:"x1idq3uh",paddingTop:"x1d12jij",verticalAlign:"x11njtxf",$$css:!0},learnMoreRow:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},privateButton:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0}},m=k.jsx(c("CometImage.react"),{alt:"",height:76,src:"/images/instagram/clips/reels_nux_icon.png?__d=www",width:76}),n="https://help.instagram.com/270447560766967/";function o(a){var b=j(13),d=a.icon,e=a.isLast;a=a.text;var f=e&&l.bulletListItemLast;e=!e&&l.bulletListItem;var g;b[0]!==f||b[1]!==e?(g=(h||(h=c("stylex")))([f,e]),b[0]=f,b[1]=e,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f="xamitd3 x78zum5 xdt5ytf",b[3]=f):f=b[3];b[4]!==d?(e=k.jsx("div",{className:f,children:d}),b[4]=d,b[5]=e):e=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1swvt13 x1tjp0jp",b[6]=f):f=b[6];b[7]!==a?(d=k.jsx("div",{className:f,children:k.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:a})}),b[7]=a,b[8]=d):d=b[8];b[9]!==g||b[10]!==e||b[11]!==d?(f=k.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:k.jsxs("div",{className:g,children:[e,d]})}),b[9]=g,b[10]=e,b[11]=d,b[12]=f):f=b[12];return f}function p(a){var b=j(13);a=a.onAction;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:m}),b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 xdt5ytf xln7xf2 xk390pu xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x1pi30zi x18d9i69 x1swvt13 x11njtxf",b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g="x78zum5 x1q0g3np x156go17 x1pi30zi x1swvt13",b[2]=g):g=b[2];var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h="x1swvt13 x1tjp0jp",b[3]=h):h=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:g,children:k.jsx("div",{className:h,children:k.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_BULLET_1_PRIVATE})})}),b[4]=g):g=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(h="x78zum5 x1q0g3np",b[5]=h):h=b[5];b[6]!==a?(h=k.jsx("div",{className:h,children:k.jsx(c("PolarisIGCoreButton.react"),{color:"ig-primary-button","data-testid":void 0,fullWidth:!0,large:!0,onClick:a,children:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_MODAL_PRIMARY_ACTION})}),b[6]=a,b[7]=h):h=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a="xr1yuqi xkrivgy x4ii5y1 x1gryazu x1l90r2v xyamay9",b[8]=a):a=b[8];var i;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){d("PolarisNavigationUtils").openURLWithFullPageReload(n,{openInNewTab:!0})},b[9]=i):i=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:k.jsx("div",{className:a,children:k.jsx(c("IGDSText.react").Label,{children:k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:i,children:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_LEARN_MORE_LINK_PRIVATE})})})}),b[10]=a):a=b[10];b[11]!==h?(i=k.jsx(d("IGCoreDialog.react").IGCoreDialog,{media:e,size:"default",title:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_MODAL_TITLE_PRIVATE,children:k.jsxs("div",{className:f,children:[g,h,a]})}),b[11]=h,b[12]=i):i=b[12];return i}function q(a){var b=j(12);a=a.onAction;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:m}),b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 xdt5ytf xln7xf2 xk390pu xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x1pi30zi x18d9i69 x1swvt13 x11njtxf",b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("IGDSUserCirclePanoOutlineIcon.react"),{alt:""}),b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(o,{icon:g,isLast:!1,text:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_BULLET_1_PUBLIC}),b[3]=g):g=b[3];var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h=k.jsx(c("IGDSRemixPanoOutline24Icon.react"),{alt:""}),b[4]=h):h=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(h=k.jsx(o,{icon:h,isLast:!0,text:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_BULLET_2_PUBLIC}),b[5]=h):h=b[5];var i;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i="xr1yuqi xkrivgy x4ii5y1 x1gryazu x1idq3uh x1d12jij x11njtxf",b[6]=i):i=b[6];var l;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(){d("PolarisNavigationUtils").openURLWithFullPageReload(n,{openInNewTab:!0})},b[7]=l):l=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:k.jsx("div",{className:i,children:k.jsx(c("IGDSText.react").Label,{children:k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:l,children:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_LEARN_MORE_LINK_PUBLIC})})})}),b[8]=i):i=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(l="x78zum5 x1q0g3np xdko459",b[9]=l):l=b[9];b[10]!==a?(e=k.jsx(d("IGCoreDialog.react").IGCoreDialog,{media:e,size:"default",title:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_MODAL_TITLE_PUBLIC,children:k.jsxs("div",{className:f,children:[g,h,i,k.jsx("div",{className:l,children:k.jsx(c("PolarisIGCoreButton.react"),{color:"ig-primary-button","data-testid":void 0,fullWidth:!0,large:!0,onClick:a,children:d("PolarisReelCreationNuxScreenStrings").REEL_CREATION_NUX_MODAL_PRIMARY_ACTION})})]})}),b[10]=a,b[11]=e):e=b[11];return e}function a(a){var b,d=j(4);a=a.onAction;b=(b=c("usePolarisViewer")())==null?void 0:b.isPrivate;if(b===!0){d[0]!==a?(b=k.jsx(p,{onAction:a}),d[0]=a,d[1]=b):b=d[1];return b}else{d[2]!==a?(b=k.jsx(q,{onAction:a}),d[2]=a,d[3]=b):b=d[3];return b}}g["default"]=a}),98);
__d("PolarisReelCreationNuxScreen.react",["InstagramODS","PolarisDismissEntry","PolarisReelCreationNuxScreenModal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=b.unstable_useMemoCache;function a(){var a=l(7),b=k(!1),e=b[0],f=b[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").REELS_CREATION_SESSIONS_TYPE)||f(!0)},a[0]=b):b=a[0];var g=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").REELS_CREATION_SESSIONS_TYPE),f(!1)},a[1]=b):b=a[1];b=b;var h;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){c("InstagramODS").incr("web.notifications.reels_creation_nux_shown")},a[2]=h):h=a[2];var m;a[3]!==e?(m=[e],a[3]=e,a[4]=m):m=a[4];j(h,m);a[5]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){g()},a[5]=h):h=a[5];j(h);if(e){a[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=i.jsx(c("PolarisReelCreationNuxScreenModal.react"),{onAction:b}),a[6]=m):m=a[6];return m}return null}g["default"]=a}),98);
__d("usePolarisPanDrag",["react","react-use-gesture"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useEffect,j=b.useState,k=b.unstable_useMemoCache;function l(a,b,c,d,e,f){var g=a.clientWidth*d;a=a.clientHeight*d;return{bottom:(a-e)/2-c,left:-((g-f)/2+b),right:(g-f)/2-b,top:-((a-e)/2+c)}}function m(a,b,c,d,e,f,g){var h=k(12),j,l;h[0]!==a.right||h[1]!==a.bottom||h[2]!==a.left||h[3]!==a.top||h[4]!==b||h[5]!==c||h[6]!==d||h[7]!==e||h[8]!==f||h[9]!==g?(j=function(){var h=a.right!=null&&a.right<0,i=a.bottom!=null&&a.bottom<0,j=a.left!=null&&a.left>0,k=a.top!=null&&a.top>0,l=h&&j||k&&i;l=!l&&(h||i||j||k);if(l&&b){l=c;var m=d;h&&a.right!=null&&(l=l+a.right/e);i&&a.bottom!=null&&(m=m+a.bottom/f);j&&a.left!=null&&(l=l+Math.abs(a.left)/e);k&&a.top!=null&&(m=m+Math.abs(a.top)/f);(l!==c||m!==d)&&b(l,m,g)}},l=[f,e,b,a.bottom,a.left,a.right,a.top,c,d,g],h[0]=a.right,h[1]=a.bottom,h[2]=a.left,h[3]=a.top,h[4]=b,h[5]=c,h[6]=d,h[7]=e,h[8]=f,h[9]=g,h[10]=j,h[11]=l):(j=h[10],l=h[11]);i(j,l)}function a(a,b,c,e,f,g,h,i){var n=k(12),o=j(null),p=o[0];o=o[1];var q=a*h,r=b*g,s={bottom:0,left:0,right:0,top:0};p!=null&&p.clientHeight!==0&&p.clientWidth!==0&&(s=l(p,q,r,c,g,h));n[0]!==q||n[1]!==r||n[2]!==e||n[3]!==c||n[4]!==f||n[5]!==h||n[6]!==g||n[7]!==i?(p=function(a){var b=a.down;a=a.movement;var d=a[0];a=a[1];d=q+d;a=r+a;e({scale:c,x:d,y:a});if(f!=null&&!b){d=d/h;a=a/g;f(d,a,c)}i(b)},n[0]=q,n[1]=r,n[2]=e,n[3]=c,n[4]=f,n[5]=h,n[6]=g,n[7]=i,n[8]=p):p=n[8];p=d("react-use-gesture").useDrag(p,{bounds:s,rubberband:!0});m(s,f,a,b,h,g,c);n[9]!==p||n[10]!==s?(a={bindDragEvents:p,panBounds:s,setMediaEl:o},n[9]=p,n[10]=s,n[11]=a):a=n[11];return a}g.calculatePanBoundaries=l;g.usePanDragBoundaryCorrection=m;g.usePanDrag=a}),98);
__d("usePolarisCreationPanZoomDrag",["PolarisCreationConstants","PolarisCreationCropHelpers","PolarisHasFeedCreationV2Dogfooding","PolarisIGAnimate","react","usePolarisPanDrag"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useState,j=b.unstable_useMemoCache;function a(a,b,c,e,f){var g=j(12),h=c.panningOffsetRatioX,k=c.panningOffsetRatioY,l=c.scale,m=i(l),n=m[0],o=m[1];m=d("PolarisCreationCropHelpers").getPanningOffsets(a,b,c);c=m.offsetX;m=m.offsetY;var p=d("PolarisIGAnimate").usePanAndZoom({scale:l,x:c,y:m},d("PolarisCreationConstants").PAN_AND_ZOOM_ANIMATION_CONFIG,!1,[l,c,m]),q=p.set;p=p.style;var r;g[0]!==l||g[1]!==n?(r=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?l:n,g[0]=l,g[1]=n,g[2]=r):r=g[2];l=d("usePolarisPanDrag").usePanDrag(h,k,r,q,e,a,b,f);n=l.bindDragEvents;h=l.setMediaEl;g[3]!==q?(k=function(a){q({scale:a}),o(a)},g[3]=q,g[4]=k):k=g[4];r=k;g[5]!==n||g[6]!==c||g[7]!==m||g[8]!==r||g[9]!==p||g[10]!==h?(e={bindDragEvents:n,offsetX:c,offsetY:m,onZoomChange:r,panAndZoomStyles:p,setMediaEl:h},g[5]=n,g[6]=c,g[7]=m,g[8]=r,g[9]=p,g[10]=h,g[11]=e):e=g[11];return e}g["default"]=a}),98);
__d("PolarisCreationMediaPreviewV2.react",["cx","PolarisCreationMediaPreviewControlsOverlay.react","PolarisCreationMediaPreviewCropContainer.react","PolarisCreationMediaPreviewMediaContainer.react","PolarisReelCreationNuxScreen.react","polarisVideoMergeUtils","react","usePolarisCreationCurrentMedia","usePolarisCreationMediaPopoverContext","usePolarisCreationMediaPreview","usePolarisCreationPanZoomDrag","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.unstable_useMemoCache;function a(a){var b=l(28),e=a.onPanAndZoom;a=a.previewType;var f=d("usePolarisCreationState").useCreationState(),g=d("usePolarisCreationMediaPopoverContext").useCreationMediaPopoverContext(),h=g.openedPopover,i=g.setOpenedPopover;g=k(!1);var m=g[0],n=g[1];g=function(a){n(a),a===!0&&h!=null&&i(null)};var o=c("usePolarisCreationCurrentMedia")(),p=o.currentMedia,q=o.currentMediaId;o=o.currentMediaItemType;a=a!=null?a:o;f=c("usePolarisCreationMediaPreview")(p,(o=f.cropRatio)!=null?o:1);o=f.croppedHeightScaled;var r=f.croppedWidthScaled,s=f.frameEl,t=f.mediaDimensions;f=f.setFrameEl;p=c("usePolarisCreationPanZoomDrag")(o,r,p,e,g);g=p.bindDragEvents;var u=p.offsetX,v=p.offsetY,w=p.onZoomChange,x=p.panAndZoomStyles;p=p.setMediaEl;s=s!==null&&o!==0&&r!==0;var y=null;if(a==="video"&&d("polarisVideoMergeUtils").eligibleForVideoMerge()){var z;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(z=j.jsx(c("PolarisReelCreationNuxScreen.react"),{}),b[0]=z):z=b[0];y=z}b[1]===Symbol["for"]("react.memo_cache_sentinel")?(z="_abfo",b[1]=z):z=b[1];var A=e!=null&&!m,B;b[2]!==s||b[3]!==g||b[4]!==m||b[5]!==t||b[6]!==a||b[7]!==u||b[8]!==v||b[9]!==e||b[10]!==w||b[11]!==x||b[12]!==p||b[13]!==o||b[14]!==r||b[15]!==q?(B=s&&j.jsx(c("PolarisCreationMediaPreviewCropContainer.react"),{croppedHeightScaled:o,croppedWidthScaled:r,children:j.jsx(c("PolarisCreationMediaPreviewMediaContainer.react"),{bindDragEvents:g,isPanning:m,mediaDimensions:t,mediaType:a,offsetX:u,offsetY:v,onPanAndZoom:e,onZoomChange:w,panAndZoomStyles:x,setMediaEl:p})},q),b[2]=s,b[3]=g,b[4]=m,b[5]=t,b[6]=a,b[7]=u,b[8]=v,b[9]=e,b[10]=w,b[11]=x,b[12]=p,b[13]=o,b[14]=r,b[15]=q,b[16]=B):B=b[16];b[17]!==o||b[18]!==r||b[19]!==A||b[20]!==a||b[21]!==w||b[22]!==B?(s=j.jsx(c("PolarisCreationMediaPreviewControlsOverlay.react"),{croppedHeightScaled:o,croppedWidthScaled:r,enableMoreOptions:A,mediaType:a,onZoomChange:w,children:B}),b[17]=o,b[18]=r,b[19]=A,b[20]=a,b[21]=w,b[22]=B,b[23]=s):s=b[23];b[24]!==f||b[25]!==y||b[26]!==s?(g=j.jsxs("div",{className:z,ref:f,children:[y,s]}),b[24]=f,b[25]=y,b[26]=s,b[27]=g):g=b[27];return g}g["default"]=a}),98);
__d("PolarisCreationModalBodyMediaV2.react",["cx","PolarisCreationMediaPreviewV2.react","PolarisCreationV2ActionTypes","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(10);a=a.mainContent;var e=d("usePolarisCreationDispatch").useCreationDispatch(),f=c("usePolarisCreationCurrentMedia")(),g=f.currentMediaId;b[0]!==e||b[1]!==g?(f=function(a,b,c){e({id:g,panningOffsetRatioX:a,panningOffsetRatioY:b,scale:c,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})},b[0]=e,b[1]=g,b[2]=f):f=b[2];f=f;var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h="_abma",b[3]=h):h=b[3];var i;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i="_abmb",b[4]=i):i=b[4];var l;b[5]!==a||b[6]!==f?(l=a!=null?a:k.jsx(c("PolarisCreationMediaPreviewV2.react"),{onPanAndZoom:f}),b[5]=a,b[6]=f,b[7]=l):l=b[7];b[8]!==l?(a=k.jsx("div",{className:h,children:k.jsx("div",{className:i,children:l})}),b[8]=l,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("PolarisCreationVideoPlayerContextProvider.react",["react","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useState,k=b.unstable_useMemoCache;function a(a){var b=k(12);a=a.children;var c=j(null),e=c[0];c=c[1];var f=j(!1),g=f[0],h=f[1];b[0]!==e?(f=function(){if(e!=null){var a=e.play();a!==void 0&&a.then(function(a){h(!0)})["catch"](function(){})}},b[0]=e,b[1]=f):f=b[1];f=f;var l;b[2]!==e?(l=function(){e!=null&&(e.pause(),h(!1))},b[2]=e,b[3]=l):l=b[3];l=l;b[4]!==g||b[5]!==l||b[6]!==f||b[7]!==e?(c={isPlaying:g,pauseVideo:l,playVideo:f,setVideo:c,video:e},b[4]=g,b[5]=l,b[6]=f,b[7]=e,b[8]=c):c=b[8];b[9]!==c||b[10]!==a?(g=i.jsx(d("usePolarisCreationVideoPlayer").CreationVideoPlayerContext.Provider,{value:c,children:a}),b[9]=c,b[10]=a,b[11]=g):g=b[11];return g}g.CreationVideoPlayerContextProvider=a}),98);
__d("PolarisCreationModalBodyV2.react",["IGDSBox.react","PolarisCreationModalBodyMediaV2.react","PolarisCreationVideoPlayerContextProvider.react","PolarisIGAnimate","PolarisUA","react","stylex","usePolarisCreationModalDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.unstable_useMemoCache,m={mainCell:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},mainCellWithSetting:{alignItems:"x1cy8zhl",width:"x1bzprkw",$$css:!0},root:{flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",height:"x15wfb8v",maxHeight:"x3aagtl",maxWidth:"xqbdwvv",minHeight:"x6ql1ns",minWidth:"x1cwzgcd",$$css:!0},rootWithSetting:{display:"x78zum5",flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",maxWidth:"x13vbajr",minWidth:"x1ue5u6n",$$css:!0},settingsCell:{borderStartColor:"xhk4uv",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",boxSizing:"x9f619",display:"x78zum5",position:"x1n2onr6",width:"x1f4304s",$$css:!0},settingsOverflowDetectionContainer:{maxHeight:"xmz0i5r",minHeight:"xh8midk",overflowY:"x1rife3k",$$css:!0},tabletOverflow:{flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0}};function a(a){var b=l(20),e=a.children,f=a["data-testid"],g=a.mainContent,i=a.settingsColumnContent,n=k(null),o=k(null),p=i!=null;a=d("PolarisIGAnimate").useFadeTransition({duration:250,show:!0});var q=d("PolarisIGAnimate").useFadeTransition({duration:500,show:p===!0}),r=c("usePolarisCreationModalDimensions")(),s=r.modalDimensions;r=r.modalDimensionsWithSetting;s=s.width+"px";var t;b[0]!==s?(t={width:s},b[0]=s,b[1]=t):t=b[1];s=t;t=r.width+"px";b[2]!==t?(r={width:t},b[2]=t,b[3]=r):r=b[3];t=r;r=p&&m.rootWithSetting;var u;b[4]!==r?(u=(h||(h=c("stylex")))(m.root,r),b[4]=r,b[5]=u):u=b[5];b[6]!==p||b[7]!==t||b[8]!==s?(r=p?t:s,b[6]=p,b[7]=t,b[8]=s,b[9]=r):r=b[9];b[10]!==p||b[11]!==e||b[12]!==g?(t=function(a,b){return j.jsx(d("PolarisIGAnimate").Animated.div,{className:(h||(h=c("stylex")))(m.mainCell,p&&m.mainCellWithSetting),style:a,children:e!=null?e:j.jsx(c("PolarisCreationModalBodyMediaV2.react"),{mainContent:g})})},b[10]=p,b[11]=e,b[12]=g,b[13]=t):t=b[13];s=a(t);a=q(function(a,b){return j.jsx(d("PolarisIGAnimate").Animated.div,{className:"xhk4uv x26u7qi xy80clv x9f619 x78zum5 x1n2onr6 x1f4304s",style:a,children:j.jsx(c("IGDSBox.react"),{containerRef:n,flex:"grow",position:"relative",children:j.jsx("div",{className:(h||(h=c("stylex")))(m.settingsOverflowDetectionContainer,d("PolarisUA").isMobileSafari()&&m.tabletOverflow),ref:o,children:i})})})});b[14]!==u||b[15]!==f||b[16]!==r||b[17]!==s||b[18]!==a?(t=j.jsx(d("PolarisCreationVideoPlayerContextProvider.react").CreationVideoPlayerContextProvider,{children:j.jsxs("div",{className:u,"data-testid":void 0,style:r,children:[s,a]})}),b[14]=u,b[15]=f,b[16]=r,b[17]=s,b[18]=a,b[19]=t):t=b[19];return t}g["default"]=a}),98);
__d("PolarisCreationLocationInput.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","IGDSLocationPanoOutlineIcon.react","IGDSTextInput.react","IGDSXPanoOutlineIcon.react","JSResourceForInteraction","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisGenericStrings","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.unstable_useMemoCache,m=c("JSResourceForInteraction")("PolarisCreationLocationInputPopover.react").__setRef("PolarisCreationLocationInput.react"),n={clearSearchIcon:{marginEnd:"x1n0m28w",marginLeft:null,marginRight:null,verticalAlign:"x11njtxf",$$css:!0},textInputBolded:{fontWeight:"xwhw2v2",$$css:!0}};function a(){var a=l(20),b=d("usePolarisCreationDispatch").useCreationDispatch(),e=d("usePolarisCreationState").useCreationState(),f=k(""),g=f[0],h=f[1];a[0]!==b?(f=function(a){a.type==="LOCATION_RESULT"&&(b({location:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_LOCATION}),h(a==null?void 0:a.name))},a[0]=b,a[1]=f):f=a[1];f=f;var i;a[2]!==b?(i=function(){h(""),b({location:null,type:d("PolarisCreationV2ActionTypes").CREATION_SET_LOCATION})},a[2]=b,a[3]=i):i=a[3];i=i;if(a[4]!==g.length||a[5]!==e||a[6]!==i){var o;o=g.length>0||(e==null?void 0:(o=e.location)==null?void 0:o.name)!=null?j.jsx("span",{className:"x1n0m28w x11njtxf",children:j.jsx(c("IGDSIconButton.react"),{onClick:i,children:j.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-secondary-text",size:16})})}):j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:j.jsx(c("IGDSLocationPanoOutlineIcon.react"),{alt:d("PolarisCreationV2Strings").LOCATION_SEARCH_PLACEHOLDER,color:"ig-secondary-text",size:16})});a[4]=g.length;a[5]=e;a[6]=i;a[7]=o}else o=a[7];var p=o;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(i="_abgh",a[8]=i):i=a[8];a[9]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){},a[9]=o):o=a[9];a[10]!==f||a[11]!==g?(o={onClose:o,onResultSelect:f,pendingQuery:g},a[10]=f,a[11]=g,a[12]=o):o=a[12];a[13]!==e||a[14]!==p||a[15]!==g?(f=function(a,b){return j.jsx(c("IGDSTextInput.react"),{autoComplete:"off",backgroundColor:"transparent",disabled:e.location!=null,endAdornment:p,height:44,name:"creation-location-input",onBlur:function(){b()},onChange:function(a){h(a.target.value)},onFocus:b,placeholder:d("PolarisCreationV2Strings").LOCATION_SEARCH_PLACEHOLDER,ref:a,value:(a=e==null?void 0:(a=e.location)==null?void 0:a.name)!=null?a:g,xstyle:(e==null?void 0:(a=e.location)==null?void 0:a.name)!=null?n.textInputBolded:null})},a[13]=e,a[14]=p,a[15]=g,a[16]=f):f=a[16];a[17]!==o||a[18]!==f?(i=j.jsx("div",{className:i,children:j.jsx(c("IGDSLazyPopoverTrigger.react"),{popoverProps:o,popoverResource:m,popoverType:"menu",position:"below",preloadTrigger:"button",children:f})}),a[17]=o,a[18]=f,a[19]=i):i=a[19];return i}g["default"]=a}),98);
__d("PolarisCreationModalComposeExpandInput.react",["cx","IGDSBox.react","IGDSChevronIcon.react","IGDSText.react","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisIGCorePressable.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function l(a){var b=j(5),e=a.isExpanded;a=a.title;if(d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()){e=e?"semibold":"normal";var f;b[0]!==e||b[1]!==a?(f=k.jsx(c("IGDSText.react"),{size:"label",weight:e,children:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}b[3]!==a?(e=k.jsx(c("IGDSText.react").Section,{children:a}),b[3]=a,b[4]=e):e=b[4];return e}function a(a){var b=j(20),e=a.children,f=a.isExpanded,g=a.onInputPress;a=a.title;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h="_abm8",b[0]=h):h=b[0];var i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(i="_abm9",b[1]=i):i=b[1];var m;b[2]!==g?(m=function(){return g(function(a){return!a})},b[2]=g,b[3]=m):m=b[3];var n;b[4]!==f||b[5]!==a?(n=k.jsx(l,{isExpanded:f,title:a}),b[4]=f,b[5]=a,b[6]=n):n=b[6];a=f?d("PolarisGenericStrings").UP_CHEVRON_ALT:d("PolarisGenericStrings").DOWN_CHEVRON_ALT;var o=f?"up":"down",p;b[7]!==a||b[8]!==o?(p=k.jsx(c("IGDSChevronIcon.react"),{alt:a,direction:o,size:16}),b[7]=a,b[8]=o,b[9]=p):p=b[9];b[10]!==m||b[11]!==n||b[12]!==p?(a=k.jsxs(c("PolarisIGCorePressable.react"),{className:i,onPress:m,children:[n,p]}),b[10]=m,b[11]=n,b[12]=p,b[13]=a):a=b[13];b[14]!==f||b[15]!==e?(o=f&&k.jsx(c("IGDSBox.react"),{paddingX:4,paddingY:1,position:"relative",children:e}),b[14]=f,b[15]=e,b[16]=o):o=b[16];b[17]!==a||b[18]!==o?(i=k.jsxs("div",{className:h,children:[a,o]}),b[17]=a,b[18]=o,b[19]=i):i=b[19];return i}g["default"]=a}),98);
__d("PolarisIGTVStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__E38SQ4NwfUK__JHASH__");b=h._("__JHASH__tp3KrdGh5qZ__JHASH__");c=h._("__JHASH__8Y5HQhyOG0l__JHASH__");d=h._("__JHASH__NIGc2llVBla__JHASH__");e=h._("__JHASH__HBKoq3Iyj3f__JHASH__");f=h._("__JHASH__4VrJfcGVB9g__JHASH__");var i=h._("__JHASH__MuToVhtRDmz__JHASH__"),j=h._("__JHASH__lXXWkYXgQt3__JHASH__"),k=h._("__JHASH__R285ezvPtO0__JHASH__"),l=h._("__JHASH__4Nfu7QX-VdE__JHASH__"),m=h._("__JHASH__TUkndV4f_v8__JHASH__"),n=h._("__JHASH__wDnrlluIsJU__JHASH__"),o=h._("__JHASH__-XB6MmRR32___JHASH__"),p=h._("__JHASH__5SJDXPpwqao__JHASH__"),q=h._("__JHASH__A3KjbOhM3bI__JHASH__"),r=h._("__JHASH__vBW80tGi0kS__JHASH__"),s=h._("__JHASH__LwJogHLTP_u__JHASH__"),t=h._("__JHASH__-PNbsrlre8f__JHASH__"),u=h._("__JHASH__GTk2rb_4NF9__JHASH__");h=h._("__JHASH__Yr79hwKV17B__JHASH__");g.POST_GRID_ITEM_ENCODING_FAILED_DRAFT=a;g.POST_GRID_ITEM_ENCODING_FAILED_POST=b;g.POST_GRID_ITEM_PENDING_ENCODING=c;g.DIALOG_ITEM_EDIT=d;g.IGTV_ACTIVE_POST_DIALOG_POST_FAILED_ENCODING_TITLE=e;g.IGTV_ACTIVE_POST_DIALOG_POST_FAILED_ENCODING_BODY=f;g.IGTV_ACTIVE_POST_DIALOG_POST_FAILED_ENCODING_DISCARD=i;g.IGTV_ACTIVE_POST_DIALOG_DRAFT_FAILED_ENCODING_TITLE=j;g.IGTV_ACTIVE_POST_DIALOG_DRAFT_FAILED_ENCODING_BODY=k;g.IGTV_ACTIVE_POST_DIALOG_DRAFT_FAILED_ENCODING_DISCARD=l;g.IGTV_ACTIVE_DIALOG_FAILED_ENCODING_CANCEL=m;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_LABEL=n;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_TEXT=o;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_VIDEO=p;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_VIDEO_TEXT=q;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_ACCOUNT=r;g.IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_ACCOUNT_TEXT=s;g.IGTV_VIDEO_UPLOAD_LEARN_MORE_LINK=t;g.IGTV_VIDEO_UPLOAD_CAPTIONS_CHECKBOX_LABEL=u;g.IGTV_VIDEO_UPLOAD_CAPTIONS_CHECKBOX_TEXT=h}),98);
__d("usePolarisCreationAdvancedVideoCaptions",["IGDSBox.react","IGDSSwitch.react","IGDSText.react","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisIGTVStrings","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch","usePolarisCreationIsSingleVideoPost","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(){var a=i(10),b=d("usePolarisCreationState").useCreationState(),e=b.advancedSettings,f=d("usePolarisCreationDispatch").useCreationDispatch();a[0]!==f||a[1]!==e.hasVideoSubtitlesEnabled?(b=function(){f({hasVideoSubtitlesEnabled:!e.hasVideoSubtitlesEnabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_GENERATE_SUBTITLES_ENABLED})},a[0]=f,a[1]=e.hasVideoSubtitlesEnabled,a[2]=b):b=a[2];b=b;var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSText.react").Label,{children:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_CAPTIONS_CHECKBOX_LABEL}),a[3]=g):g=a[3];a[4]!==b||a[5]!==e.hasVideoSubtitlesEnabled?(g=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",marginBottom:4,position:"relative",width:"100%",children:[g,j.jsx(c("IGDSSwitch.react"),{onValueChange:b,value:e.hasVideoSubtitlesEnabled})]}),a[4]=b,a[5]=e.hasVideoSubtitlesEnabled,a[6]=g):g=a[6];a[7]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",children:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_CAPTIONS_CHECKBOX_TEXT}),a[7]=b):b=a[7];a[8]!==g?(b=j.jsxs(c("IGDSBox.react"),{marginBottom:3,position:"relative",children:[g,b]}),a[8]=g,a[9]=b):b=a[9];return b}function a(){var a=i(6),b=c("usePolarisCreationIsSingleVideoPost")(),e=c("usePolarisCreationCurrentMedia")();e=e.currentMedia;e=e.audio===d("PolarisCreationV2State").AUDIO_STATUS.on;var f;a[0]!==b||a[1]!==e?(f=b&&e,a[0]=b,a[1]=e,a[2]=f):f=a[2];b=f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(k,{}),a[3]=e):e=a[3];a[4]!==b?(f={generateVideoCaptionsElement:e,generateVideoCaptionsIsVisible:b},a[4]=b,a[5]=f):f=a[5];return f}g["default"]=a}),98);
__d("PolarisCreationModalComposeAccessibilitySettings.react",["IGDSBox.react","IGDSText.react","PolarisCreationMediaPreviewThumbnail.react","PolarisCreationModalComposeExpandInput.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisIGCoreTextInput.react","nullthrows","react","usePolarisCreationAdvancedVideoCaptions","usePolarisCreationDispatch","usePolarisCreationMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=44;function l(a){var b,e=i(16),f=a.id,g=a.media;a=a.state;var h=d("usePolarisCreationDispatch").useCreationDispatch();b=(b=a.cropRatio)!=null?b:1;if(e[0]!==g){var l;l=g.type==="image"?c("nullthrows")((l=g.filteredMedia)==null?void 0:l.dataURL):c("nullthrows")(g==null?void 0:(l=g.coverPhoto)==null?void 0:(l=l.selectedCoverPhoto)==null?void 0:l.dataURL);e[0]=g;e[1]=l}else l=e[1];var m;e[2]!==b||e[3]!==g||e[4]!==l?(m=j.jsx(c("IGDSBox.react"),{height:k,position:"relative",width:k,children:j.jsx(c("PolarisCreationMediaPreviewThumbnail.react"),{aspectRatio:b,media:g,showOverlay:!1,size:k,src:l})}),e[2]=b,e[3]=g,e[4]=l,e[5]=m):m=e[5];b="alt-text-"+f;e[6]!==h||e[7]!==f?(g=function(a){h({altText:a.target.value,id:f,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})},e[6]=h,e[7]=f,e[8]=g):g=e[8];l=(a=(l=a.media.get(f))==null?void 0:l.altText)!=null?a:"";e[9]!==b||e[10]!==g||e[11]!==l?(a=j.jsx(c("IGDSBox.react"),{flex:"grow",marginStart:2,position:"relative",children:j.jsx(c("PolarisIGCoreTextInput.react"),{backgroundColor:"transparent",name:b,onChange:g,placeholder:d("PolarisCreationV2Strings").ALT_TEXT_PLACEHOLDER,value:l})}),e[9]=b,e[10]=g,e[11]=l,e[12]=a):a=e[12];e[13]!==m||e[14]!==a?(b=j.jsxs(j.Fragment,{children:[m,a]}),e[13]=m,e[14]=a,e[15]=b):b=e[15];return b}function a(a){var b=i(11),e=a.isExpanded;a=a.onInputPress;var f=d("usePolarisCreationState").useCreationState(),g=c("usePolarisCreationAdvancedVideoCaptions")(),h=g.generateVideoCaptionsElement;g=g.generateVideoCaptionsIsVisible;var k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",textAlign:"start",children:d("PolarisCreationV2Strings").ALT_TEXT_SUBTITLE}),b[0]=k):k=b[0];var m=f.multiPostOrder.map(function(a,b){var e=d("usePolarisCreationMedia").getMediaInfo(c("nullthrows")(f.media.get(a)));e=e.media;return j.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",marginBottom:b===f.multiPostOrder.length-1?3:4,marginTop:b===0?3:0,position:"relative",children:j.jsx(l,{id:a,media:e,state:f})},a)}),n;b[1]!==g||b[2]!==h?(n=g&&h,b[1]=g,b[2]=h,b[3]=n):n=b[3];b[4]!==m||b[5]!==n?(g=j.jsxs(j.Fragment,{children:[k,j.jsxs(c("IGDSBox.react"),{marginBottom:1,position:"relative",children:[m,n]})]}),b[4]=m,b[5]=n,b[6]=g):g=b[6];b[7]!==e||b[8]!==a||b[9]!==g?(h=j.jsx(c("PolarisCreationModalComposeExpandInput.react"),{isExpanded:e,onInputPress:a,title:d("PolarisCreationV2Strings").ALT_TEXT_TITLE,children:g}),b[7]=e,b[8]=a,b[9]=g,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("PolarisCreationSettingsToggle.react",["IGDSBox.react","IGDSSwitch.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(16),d=a.checked,e=a.labelText,f=a.onToggle;a=a.subtitleText;var g;b[0]!==e?(g=j.jsx(c("IGDSBox.react"),{flex:"grow",children:j.jsx(c("IGDSText.react").Label,{textAlign:"start",children:e})}),b[0]=e,b[1]=g):g=b[1];b[2]!==f||b[3]!==d?(e=function(){return f(!d)},b[2]=f,b[3]=d,b[4]=e):e=b[4];var h;b[5]!==e||b[6]!==d?(h=j.jsx(c("IGDSBox.react"),{flex:"none",children:j.jsx(c("IGDSSwitch.react"),{onValueChange:e,value:d})}),b[5]=e,b[6]=d,b[7]=h):h=b[7];b[8]!==g||b[9]!==h?(e=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",position:"relative",children:[g,h]}),b[8]=g,b[9]=h,b[10]=e):e=b[10];b[11]!==a?(g=j.jsx(c("IGDSBox.react"),{paddingY:3,position:"relative",children:j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",textAlign:"start",children:a})}),b[11]=a,b[12]=g):g=b[12];b[13]!==e||b[14]!==g?(h=j.jsxs(c("IGDSBox.react"),{position:"relative",width:"100%",children:[e,g]}),b[13]=e,b[14]=g,b[15]=h):h=b[15];return h}g["default"]=a}),98);
__d("PolarisCreationAdvancedAudioReuse.react",["PolarisCreationSettingsToggle.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(){var a=i(6),b=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f;a[0]!==e||a[1]!==b.advancedSettings.hasAudioReuseDisabled?(f=function(){e({hasAudioReuseDisabled:!b.advancedSettings.hasAudioReuseDisabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_AUDIO_REUSE_DISABLED})},a[0]=e,a[1]=b.advancedSettings.hasAudioReuseDisabled,a[2]=f):f=a[2];var g;a[3]!==b.advancedSettings.hasAudioReuseDisabled||a[4]!==f?(g=j.jsx(c("PolarisCreationSettingsToggle.react"),{checked:b.advancedSettings.hasAudioReuseDisabled,labelText:d("PolarisCreationV2Strings").TURN_OFF_AUDIO_REUSE,onToggle:f,subtitleText:d("PolarisCreationV2Strings").TURN_OFF_AUDIO_REUSE_SUBTITLE}),a[3]=b.advancedSettings.hasAudioReuseDisabled,a[4]=f,a[5]=g):g=a[5];return g}g["default"]=a}),98);
__d("PolarisCreationAdvancedComments.react",["PolarisCreationSettingsToggle.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(){var a=i(6),b=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f;a[0]!==e||a[1]!==b.advancedSettings.hasCommentsDisabled?(f=function(){e({hasCommentsDisabled:!b.advancedSettings.hasCommentsDisabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_COMMENTS_DISABLED})},a[0]=e,a[1]=b.advancedSettings.hasCommentsDisabled,a[2]=f):f=a[2];var g;a[3]!==b.advancedSettings.hasCommentsDisabled||a[4]!==f?(g=j.jsx(c("PolarisCreationSettingsToggle.react"),{checked:b.advancedSettings.hasCommentsDisabled,labelText:d("PolarisCreationV2Strings").TURN_OFF_COMMENTING,onToggle:f,subtitleText:d("PolarisCreationV2Strings").TURN_OFF_COMMENTING_SUBTITLE}),a[3]=b.advancedSettings.hasCommentsDisabled,a[4]=f,a[5]=g):g=a[5];return g}g["default"]=a}),98);
__d("PolarisCreationSettingHideLikeViewCounts.react",["PolarisCreationSettingsToggle.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisExternalLink.react","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k="https://help.instagram.com/113355287252104";function a(){var a=i(7),b=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f;a[0]!==e||a[1]!==b.advancedSettings.hasLikeViewCountsDisabled?(f=function(){e({hasLikeViewCountsDisabled:!b.advancedSettings.hasLikeViewCountsDisabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_LIKE_VIEW_COUNTS_DISABLED})},a[0]=e,a[1]=b.advancedSettings.hasLikeViewCountsDisabled,a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsxs(j.Fragment,{children:[d("PolarisCreationV2Strings").HIDE_LIKE_VIEW_COUNTS_SUBTITLE," ",j.jsx(c("PolarisExternalLink.react"),{href:k,children:d("PolarisCreationV2Strings").HIDE_LIKE_VIEW_COUNTS_LEARN_MORE})]}),a[3]=g):g=a[3];a[4]!==b.advancedSettings.hasLikeViewCountsDisabled||a[5]!==f?(g=j.jsx(c("PolarisCreationSettingsToggle.react"),{checked:b.advancedSettings.hasLikeViewCountsDisabled,labelText:d("PolarisCreationV2Strings").HIDE_LIKE_VIEW_COUNTS,onToggle:f,subtitleText:g}),a[4]=b.advancedSettings.hasLikeViewCountsDisabled,a[5]=f,a[6]=g):g=a[6];return g}g["default"]=a}),98);
__d("PolarisCreationModalComposeAdvancedSettings.react",["IGDSBox.react","IGDSDivider.react","PolarisCreationAdvancedAudioReuse.react","PolarisCreationAdvancedComments.react","PolarisCreationModalComposeExpandInput.react","PolarisCreationSettingHideLikeViewCounts.react","PolarisCreationV2Strings","PolarisUA","cr:4235","polarisVideoMergeUtils","react","usePolarisCreationCurrentMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var e=i(16),f=a.isExpanded;a=a.onInputPress;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("PolarisUA").isDesktop(),e[0]=g):g=e[0];g=g;var h=c("usePolarisCreationCurrentMedia")();h=h.currentMedia;var k=null;if(d("polarisVideoMergeUtils").isMediaEligibleForVideoMerge(h)&&d("polarisVideoMergeUtils").isUserEligibleForOAReuseToggle()&&d("polarisVideoMergeUtils").eligibleForVideoMerge()){e[1]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx(c("PolarisCreationAdvancedAudioReuse.react"),{}),e[1]=h):h=e[1];k=h}e[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=b("cr:4235")!=null&&j.jsx(b("cr:4235"),{}),g=g&&j.jsx(c("IGDSBox.react"),{marginBottom:2,position:"relative",children:j.jsx(c("PolarisCreationSettingHideLikeViewCounts.react"),{})}),e[2]=h,e[3]=g):(h=e[2],g=e[3]);var l;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("PolarisCreationAdvancedComments.react"),{}),e[4]=l):l=e[4];e[5]!==k?(h=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"column",marginBottom:1,position:"relative",children:[h,g,l,k]}),e[5]=k,e[6]=h):h=e[6];e[7]!==f||e[8]!==a||e[9]!==h?(g=j.jsx(c("PolarisCreationModalComposeExpandInput.react"),{isExpanded:f,onInputPress:a,title:d("PolarisCreationV2Strings").ADVANCED_SETTINGS,children:h}),e[7]=f,e[8]=a,e[9]=h,e[10]=g):g=e[10];e[11]!==f?(l=!f&&j.jsx(c("IGDSDivider.react"),{}),e[11]=f,e[12]=l):l=e[12];e[13]!==g||e[14]!==l?(k=j.jsxs(j.Fragment,{children:[g,l]}),e[13]=g,e[14]=l,e[15]=k):k=e[15];return k}g["default"]=a}),98);
__d("PolarisCreationModalMonetizationSettings.react",["cx","IGDSBox.react","IGDSSwitch.react","IGDSText.react","PolarisCreationV2ActionTypes","PolarisExternalLink.react","PolarisIGTVStrings","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(19);a=a.toggleOptions;var e=d("usePolarisCreationState").useCreationState(),f=d("usePolarisCreationDispatch").useCreationDispatch(),g=a.disabled,h=a.helpUrl,i=a.label;a=a.text;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l="_aabh",b[0]=l):l=b[0];var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m="_aabi",b[1]=m):m=b[1];var n;b[2]!==i?(n=k.jsx(c("IGDSText.react").Label,{children:i}),b[2]=i,b[3]=n):n=b[3];b[4]!==g||b[5]!==f||b[6]!==e?(i=g===!1&&k.jsx(c("IGDSSwitch.react"),{onValueChange:function(){f({hasAdsEnabled:!e.advancedSettings.hasAdsEnabled,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ADS_ENABLED})},value:e.advancedSettings.hasAdsEnabled}),b[4]=g,b[5]=f,b[6]=e,b[7]=i):i=b[7];b[8]!==n||b[9]!==i?(g=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",position:"relative",width:"100%",children:[n,i]}),b[8]=n,b[9]=i,b[10]=g):g=b[10];b[11]!==h?(n=h!=null&&k.jsxs(k.Fragment,{children:[" ",k.jsx(c("PolarisExternalLink.react"),{href:h,children:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_LEARN_MORE_LINK})]}),b[11]=h,b[12]=n):n=b[12];b[13]!==a||b[14]!==n?(i=k.jsx(c("IGDSBox.react"),{marginTop:3,position:"relative",children:k.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",children:[a,n]})}),b[13]=a,b[14]=n,b[15]=i):i=b[15];b[16]!==g||b[17]!==i?(h=k.jsx("div",{className:l,children:k.jsxs("div",{className:m,children:[g,i]})}),b[16]=g,b[17]=i,b[18]=h):h=b[18];return h}g["default"]=a}),98);
__d("polarisRevshareEligibilityToggleOptions",["PolarisIGTVStrings"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i="https://www.facebook.com/help/instagram/793848097773634",j="https://help.instagram.com/2635536099905516";function a(a,b){if(a==null)return null;a=a.find(function(a){return a.productType==="igtv_revshare"});if(a==null)return null;var c=a.productConfig;c=(c==null?void 0:c.mesStatusForProduct)!=null?c.mesStatusForProduct:null;if(a.hasOnboarded==="has_completed_onboarding"&&a.canUseProduct==="can_use_product"&&c==="eligible")return b==null||b>=h?{disabled:b==null,helpUrl:i,label:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_LABEL,text:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_TEXT}:{disabled:!0,helpUrl:i,label:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_VIDEO,text:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_VIDEO_TEXT};else if(c==="not_eligible")return{disabled:!0,helpUrl:j,label:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_ACCOUNT,text:d("PolarisIGTVStrings").IGTV_VIDEO_UPLOAD_MONETIZATION_CHECKBOX_INELIGIBLE_ACCOUNT_TEXT};return null}g.MINIMUM_VIDEO_DURATION_MS=h;g.revshareEligibilityToggleOptions=a}),98);
__d("usePolarisCreationMonetizationDecisions",["usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("usePolarisCreationState").useCreationState();return a.monetizationEligibility}g["default"]=a}),98);
__d("usePolarisCreationVideoAdsToggleOptions",["polarisRevshareEligibilityToggleOptions","usePolarisCreationCurrentMedia","usePolarisCreationIsSingleVideoPost","usePolarisCreationMonetizationDecisions"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("usePolarisCreationIsSingleVideoPost")(),b=c("usePolarisCreationMonetizationDecisions")(),e=c("usePolarisCreationCurrentMedia")();e=e.currentMedia;if(!a||b==null)return null;a=h(e);return a!=null?d("polarisRevshareEligibilityToggleOptions").revshareEligibilityToggleOptions(b,a):null}function h(a){var b=a.trim;a=a.video;return a==null?null:b==null?a.videoDurationMs*1e3:(b.end-b.start)*1e3}g["default"]=a}),98);
__d("usePolarisCreationAdvancedMonetization",["PolarisCreationModalMonetizationSettings.react","react","usePolarisCreationVideoAdsToggleOptions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(){var a=i(2),b=c("usePolarisCreationVideoAdsToggleOptions")(),d;a[0]!==b?(d=b!=null?{monetizationElement:j.jsx(c("PolarisCreationModalMonetizationSettings.react"),{toggleOptions:b}),monetizationIsVisible:!0}:{monetizationElement:null,monetizationIsVisible:!1},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),98);
__d("PolarisCreationModalComposeSettingsContent.react",["cx","CometPlaceholder.react","IGDSBox.react","IGDSGlimmer.react","IGDSListItem.react","IGDSText.react","PolarisCreationLocationInput.react","PolarisCreationModalComposeAccessibilitySettings.react","PolarisCreationModalComposeAdvancedSettings.react","PolarisUserAvatar.react","QE2Logger","cr:1573","react","stylex","usePolarisCreationAdvancedMonetization","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useEffect,m=e.useState,n=e.unstable_useMemoCache,o={bottomCaptionText:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",justifyContent:"xl56j7k",marginEnd:"xktsk01",marginLeft:null,marginRight:null,marginStart:"x1d52u69",position:"x10l6tqk",$$css:!0},captionInput:{height:"x1b0wou9",$$css:!0},defaultCaptionText:{marginEnd:"xktsk01",marginLeft:null,marginRight:null,marginStart:"x1d52u69",$$css:!0},glimmer:{height:"x1s1d1n7",marginBottom:"xyorhqc",marginEnd:"xmo9yow",marginLeft:null,marginRight:null,marginStart:"x17adc0v",width:"xh8yej3",$$css:!0}},p=28;function a(a){var e=n(49),f=a.disclaimerText,g=a.hideAccessibilitySettings,h=a.hideAdvancedSettings,j=a.hideLocatingSettings;a=a.showCaptionAtBottom;g=g===void 0?!1:g;h=h===void 0?!1:h;j=j===void 0?!1:j;a=a===void 0?!1:a;var q=c("usePolarisViewer")(),r=m(!1),s=r[0];r=r[1];var t=m(!1),u=t[0];t=t[1];var v=c("usePolarisCreationAdvancedMonetization")(),w=v.monetizationElement;v=v.monetizationIsVisible;var x,y;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){d("QE2Logger").logExposureForIGUser("ig_web_h1_2023_lexical_editor_in_post_creation")},y=[],e[0]=x,e[1]=y):(x=e[0],y=e[1]);l(x,y);e[2]===Symbol["for"]("react.memo_cache_sentinel")?(x="_ac2p",e[2]=x):x=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(y="_ac2q",e[3]=y):y=e[3];var z;e[4]!==q?(z=q==null?void 0:q.profilePictureUrl,e[4]=q,e[5]=z):z=e[5];var A;e[6]!==q?(A=q==null?void 0:q.username,e[6]=q,e[7]=A):A=e[7];var B;e[8]!==z||e[9]!==A?(B=k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:z,size:p,username:A}),e[8]=z,e[9]=A,e[10]=B):B=e[10];if(e[11]!==q){A=(z=q==null?void 0:q.username)!=null?z:"";e[11]=q;e[12]=A}else A=e[12];e[13]!==B||e[14]!==A?(z=k.jsx(c("IGDSBox.react"),{marginEnd:4,marginStart:4,children:k.jsx("div",{className:y,children:k.jsx(c("IGDSListItem.react"),{addOnStart:B,paddingX:0,paddingY:0,title:A})})}),e[13]=B,e[14]=A,e[15]=z):z=e[15];q=j&&g&&h&&o.captionInput;e[16]!==q?(y=(i||(i=c("stylex")))(q),e[16]=q,e[17]=y):y=e[17];e[18]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",children:k.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:o.glimmer})}),e[18]=B):B=e[18];e[19]===Symbol["for"]("react.memo_cache_sentinel")?(A=k.jsx(c("CometPlaceholder.react"),{fallback:B,children:k.jsx(b("cr:1573"),{})}),e[19]=A):A=e[19];e[20]!==y?(q=k.jsx("div",{className:y,children:A}),e[20]=y,e[21]=q):q=e[21];e[22]!==j?(B=!j&&k.jsx(c("PolarisCreationLocationInput.react"),{}),e[22]=j,e[23]=B):B=e[23];e[24]!==v||e[25]!==w?(A=v&&w,e[24]=v,e[25]=w,e[26]=A):A=e[26];e[27]!==g||e[28]!==s?(y=!g&&k.jsx(c("PolarisCreationModalComposeAccessibilitySettings.react"),{isExpanded:s,onInputPress:r}),e[27]=g,e[28]=s,e[29]=y):y=e[29];e[30]!==h||e[31]!==u?(j=!h&&k.jsx(c("PolarisCreationModalComposeAdvancedSettings.react"),{isExpanded:u,onInputPress:t}),e[30]=h,e[31]=u,e[32]=j):j=e[32];e[33]!==z||e[34]!==q||e[35]!==B||e[36]!==A||e[37]!==y||e[38]!==j?(v=k.jsxs("div",{className:x,children:[z,q,B,A,y,j]}),e[33]=z,e[34]=q,e[35]=B,e[36]=A,e[37]=y,e[38]=j,e[39]=v):v=e[39];w=a?4:3;r=a?o.bottomCaptionText:o.defaultCaptionText;e[40]!==f?(g=k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"miniscule",textAlign:"start",children:f}),e[40]=f,e[41]=g):g=e[41];e[42]!==w||e[43]!==r||e[44]!==g?(s=k.jsx(c("IGDSBox.react"),{paddingY:w,xstyle:r,children:g}),e[42]=w,e[43]=r,e[44]=g,e[45]=s):s=e[45];e[46]!==v||e[47]!==s?(t=k.jsxs("div",{children:[v,s]}),e[46]=v,e[47]=s,e[48]=t):t=e[48];return t}g["default"]=a}),98);
__d("PolarisCreationWarningDialog.react",["IGCoreDialog.react","PolarisCreationV2Strings","PolarisGenericStrings","browserHistory","react","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(14),c=a.dialogBody,e=a.dialogTitle,f=a.discardText,g=a.onCancel,h=a.onDiscardClick;a=d("usePolarisCreationState").useCreationState();var k=a.entryPath;b[0]!==k||b[1]!==h?(a=function(){d("browserHistory").browserHistory.replace(k,{allowStale:!0,scrollRestore:!0}),h()},b[0]=k,b[1]=h,b[2]=a):a=b[2];a=a;c=(c=c)!=null?c:d("PolarisCreationV2Strings").DISCARD_POST_BODY;e=(e=e)!=null?e:d("PolarisCreationV2Strings").DISCARD_POST_TITLE;f=(f=f)!=null?f:d("PolarisCreationV2Strings").DISCARD_CTA_TEXT;var l;b[3]!==a||b[4]!==f?(l=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:f}),b[3]=a,b[4]=f,b[5]=l):l=b[5];b[6]!==g?(a=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:g,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[6]=g,b[7]=a):a=b[7];b[8]!==c||b[9]!==g||b[10]!==e||b[11]!==l||b[12]!==a?(f=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:c,onModalClose:g,title:e,children:[l,a]}),b[8]=c,b[9]=g,b[10]=e,b[11]=l,b[12]=a,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("PolarisCreationModalHeader.react",["cx","IGDSArrowIcon.react","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSText.react","PolarisCreationCameraLogger","PolarisCreationConstants","PolarisCreationHelpers","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationV2Strings","PolarisCreationWarningDialog.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIGCoreModalHeader.react","polarisUnexpected","react","usePolarisCreationSelectMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.unstable_useMemoCache;function m(a,b,e,f){f===void 0&&(f=!1);if(e!=null)return e;switch(a){case d("PolarisCreationTypes").STEP.select:return b!=null?b:d("PolarisCreationV2Strings").NEW_POST_TEXT;case d("PolarisCreationTypes").STEP.generate:return d("PolarisCreationV2Strings").NEW_POST_USING_GEN_AI_TEXT;case d("PolarisCreationTypes").STEP.crop:return d("PolarisCreationV2Strings").CROP_TEXT;case d("PolarisCreationTypes").STEP.edit:return d("PolarisCreationV2Strings").EDIT_TEXT;case d("PolarisCreationTypes").STEP.compose:return f?d("PolarisCreationV2Strings").COMPOSE_TEXT_REELS:d("PolarisCreationV2Strings").COMPOSE_TEXT;case d("PolarisCreationTypes").STEP.publish:return d("PolarisCreationV2Strings").UPLOADING_TEXT;case d("PolarisCreationTypes").STEP.done:return f?d("PolarisCreationV2Strings").UPLOAD_REEL_SUCCESS_TEXT:d("PolarisCreationV2Strings").UPLOAD_SUCCESS_TEXT;case d("PolarisCreationTypes").STEP.error:return(e=b)!=null?e:d("PolarisCreationV2Strings").ERROR_HEADER;case d("PolarisCreationTypes").STEP.editPostInfo:return d("PolarisCreationV2Strings").EDIT_INFO;default:c("polarisUnexpected")("unexpected creation step");return""}}function n(a){var b=l(3);a=a.onBack;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDSArrowIcon.react"),{alt:d("PolarisGenericStrings").BACK_TEXT,color:"ig-primary-text",direction:"back",size:24}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:j.jsx(c("IGDSIconButton.react"),{onClick:a,children:e})}),b[1]=a,b[2]=e):e=b[2];return e}function o(a){var b=l(6);a=a.onBack;var d=k(!1),e=d[0],f=d[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx(n,{onBack:function(){return f(!0)}}),b[0]=d):d=b[0];var g;b[1]!==e||b[2]!==a?(g=e&&j.jsx(c("PolarisCreationWarningDialog.react"),{onCancel:function(){return f(!1)},onDiscardClick:a}),b[1]=e,b[2]=a,b[3]=g):g=b[3];b[4]!==g?(e=j.jsxs(j.Fragment,{children:[d,g]}),b[4]=g,b[5]=e):e=b[5];return e}function p(a){var b=l(8),e=a.ctaTestId,f=a.modalEndAdornmentText,g=a.onCta,h=a.stopLoadingIndicatorOnCta;a=d("PolarisCreationStepProvider.react").useCreationStep();a=a.step;var i=k(!1),m=i[0],n=i[1];i=q(a,f);if(g!=null&&i!=null){b[0]!==h||b[1]!==g?(a=function(){h?n(!1):n(!0),g()},b[0]=h,b[1]=g,b[2]=a):a=b[2];b[3]!==e||b[4]!==m||b[5]!==i||b[6]!==a?(f=j.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:j.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",isLoading:m,label:i,onClick:a,variant:"primary_link"})}),b[3]=e,b[4]=m,b[5]=i,b[6]=a,b[7]=f):f=b[7];return f}return null}function q(a,b){if(b!=null)return b;var c;switch(a){case d("PolarisCreationTypes").STEP.crop:case d("PolarisCreationTypes").STEP.edit:c=d("PolarisCreationV2Strings").NEXT_TEXT;break;case d("PolarisCreationTypes").STEP.compose:c=d("PolarisCreationV2Strings").SHARE_CTA_TEXT;break;case d("PolarisCreationTypes").STEP.editPostInfo:c=d("PolarisCreationV2Strings").DONE_EDIT_CTA_TEXT;break;case d("PolarisCreationTypes").STEP.generate:c=d("PolarisCreationV2Strings").GENERATE_CTA_TEXT;break;default:c=null}return c}function a(a){var b=l(18),e=a.ctaTestId,f=a.modalEndAdornmentText,g=a.modalTitle,h=a.onClose,i=a.onCta,q=a.showReelCreationHeader;a=a.stopLoadingIndicatorOnCta;var r=d("PolarisCreationStepProvider.react").useCreationStep(),s=r.handlePrevStep,t=r.step,u=d("usePolarisCreationState").useCreationState();r=c("usePolarisCreationSelectMedia")();var v=r.clearAllMedia;r=k(!1);var w=r[0],x=r[1],y=function(){d("PolarisCreationCameraLogger").logFeedCreationEndCameraSession({sessionId:u.sessionId}),h!=null&&h()},z=function(){d("PolarisCreationConstants").NON_WARNING_STEPS.has(t)?y():x(!0)};r=function(){switch(t){case d("PolarisCreationTypes").STEP.select:case d("PolarisCreationTypes").STEP.generate:case d("PolarisCreationTypes").STEP.publish:case d("PolarisCreationTypes").STEP.error:case d("PolarisCreationTypes").STEP.done:return null;case d("PolarisCreationTypes").STEP.crop:return j.jsx(o,{onBack:function(){v(),s()}});case d("PolarisCreationTypes").STEP.editPostInfo:return j.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:z,children:j.jsx(c("IGDSText.react").Body,{children:d("PolarisGenericStrings").CANCEL_TEXT})})});case d("PolarisCreationTypes").STEP.edit:case d("PolarisCreationTypes").STEP.compose:default:return j.jsx(n,{onBack:s})}};var A;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(A="_ap97",b[0]=A):A=b[0];a=(a=a)!=null?a:!1;var B;b[1]!==e||b[2]!==f||b[3]!==i||b[4]!==a?(B=j.jsx(p,{ctaTestId:e,modalEndAdornmentText:f,onCta:i,stopLoadingIndicatorOnCta:a}),b[1]=e,b[2]=f,b[3]=i,b[4]=a,b[5]=B):B=b[5];b[6]!==r?(e=r(),b[6]=r,b[7]=e):e=b[7];i=m(t===d("PolarisCreationTypes").STEP.select&&u.preselectedFiles?d("PolarisCreationHelpers").getCreationNextStep(t):t,(f=u.errorPage)==null?void 0:f.title,g,q);b[8]!==B||b[9]!==e||b[10]!==i?(a=j.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:j.jsx(c("PolarisIGCoreModalHeader.react"),{endAdornment:B,size:"default",startAdornment:e,truncateText:!0,children:i})}),b[8]=B,b[9]=e,b[10]=i,b[11]=a):a=b[11];b[12]!==w||b[13]!==y?(r=w&&j.jsx(c("PolarisCreationWarningDialog.react"),{onCancel:function(){return x(!1)},onDiscardClick:y}),b[12]=w,b[13]=y,b[14]=r):r=b[14];b[15]!==a||b[16]!==r?(f=j.jsxs("div",{className:A,children:[a,r]}),b[15]=a,b[16]=r,b[17]=f):f=b[17];return f}g.getModalTitle=m;g.CreationModalHeader=a}),98);
__d("PolarisCreationUserSearchTagList.react",["IGDSBox.react","IGDSIconButton.react","IGDSListItem.react","IGDSText.react","IGDSVerifiedBadge.react","IGDSXPanoOutlineIcon.react","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreButton.react","PolarisIGCoreConstants","PolarisReactRedux.react","PolarisUserAvatar.react","polarisUserSelectors","react","usePolarisCreationCurrentMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a){var b=i(23),e=a.onRemoveUser,f=a.userId;b[0]!==f?(a=function(a){return d("polarisUserSelectors").getUserById(a,f)},b[0]=f,b[1]=a):a=b[1];a=d("PolarisReactRedux.react").useSelector(a);var g;b[2]!==e||b[3]!==f?(g=function(){e&&e(f)},b[2]=e,b[3]=f,b[4]=g):g=b[4];g=g;var h;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisCreationV2Strings").REMOVE_TAG_ALT,color:"ig-secondary-text",size:16}),b[5]=h):h=b[5];b[6]!==g?(h=j.jsx(c("IGDSIconButton.react"),{onClick:g,children:h}),b[6]=g,b[7]=h):h=b[7];b[8]!==a.profilePictureUrl||b[9]!==a.username?(g=j.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:a.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,username:a.username}),b[8]=a.profilePictureUrl,b[9]=a.username,b[10]=g):g=b[10];var k;b[11]!==a.username?(k=j.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:a.username}),b[11]=a.username,b[12]=k):k=b[12];var l;b[13]!==a.isVerified?(l=a.isVerified===!0&&j.jsx(c("IGDSBox.react"),{marginStart:1,children:j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[13]=a.isVerified,b[14]=l):l=b[14];var m;b[15]!==k||b[16]!==l?(m=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[k," ",l]}),b[15]=k,b[16]=l,b[17]=m):m=b[17];b[18]!==h||b[19]!==g||b[20]!==a.fullName||b[21]!==m?(k=j.jsx(c("IGDSListItem.react"),{addOnEnd:h,addOnStart:g,subtitle:a.fullName,title:m}),b[18]=h,b[19]=g,b[20]=a.fullName,b[21]=m,b[22]=k):k=b[22];return k}function a(a){var b=i(12),e=a.onAddUserClick,f=a.onRemoveUser;a=c("usePolarisCreationCurrentMedia")();a=a.currentMedia;a=Array.from(a.tags);var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding(),b[0]=g):g=b[0];g=g;var h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h=g?j.jsx(c("IGDSText.react").LabelEmphasized,{color:"secondaryText",zeroMargin:!0,children:d("PolarisCreationV2Strings").TAGGED_PEOPLE}):j.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:d("PolarisCreationV2Strings").TAGGED_PEOPLE}),b[1]=h):h=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSBox.react"),{marginStart:4,children:g?j.jsx(c("IGDSText.react").BodyEmphasized,{color:"primaryButton",zeroMargin:!0,children:d("PolarisCreationV2Strings").TAG_ANOTHER_PERSON}):j.jsx(c("IGDSText.react").Body2Emphasized,{color:"primaryButton",zeroMargin:!0,children:d("PolarisCreationV2Strings").TAG_ANOTHER_PERSON})}),b[2]=g):g=b[2];b[3]!==e?(h=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",margin:4,children:[h,j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:e,children:g})]}),b[3]=e,b[4]=h):h=b[4];b[5]!==f?(g=function(a){return j.jsx(k,{onRemoveUser:f,userId:a[0]},a[0])},b[5]=f,b[6]=g):g=b[6];e=a.map(g);b[7]!==e?(a=j.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"scrollY",children:e}),b[7]=e,b[8]=a):a=b[8];b[9]!==h||b[10]!==a?(g=j.jsxs(c("IGDSBox.react"),{height:"100%",children:[h,a]}),b[9]=h,b[10]=a,b[11]=g):g=b[11];return g}g["default"]=a}),98);
__d("PolarisCreationUserSearchPopover.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSTextInput.react","IGDSXOutlineIcon.react","PolarisCreationStrings","PolarisCreationUserSearchTagList.react","PolarisCreationV2ActionTypes","PolarisIGCoreAnchoredPopover.react","PolarisIGCoreAnchoredPopoverContentContainer.react","PolarisIGCoreText","PolarisSearchConstants","PolarisTypeaheadContainer.react","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.unstable_useMemoCache,m=226,n=338,o={textInput:{height:"x1qx5ct2",$$css:!0}},p={positionStyles:{top:0},x:"right",y:"bottom"};function a(a){var b=l(54),e,f,g,h,i,q,r;b[0]!==a?(q=a.children,i=a.hasTags,f=a.id,h=a.isVisible,e=a.onClose,g=a.position,r=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasTags","id","isVisible","onClose","position"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i,b[6]=q,b[7]=r):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],q=b[6],r=b[7]);a=c("usePolarisCreationCurrentMedia")();var s=a.currentMedia;a=k("");var t=a[0],u=a[1];a=k(s.type==="video"&&s.tags.size>0);var v=a[0],w=a[1],x=d("usePolarisCreationDispatch").useCreationDispatch();b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){a.stopPropagation(),u(a.target.value)},b[8]=a):a=b[8];a=a;var y;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(a){a.stopPropagation(),u("")},b[9]=y):y=b[9];y=y;var z;b[10]!==e||b[11]!==s.type||b[12]!==s.tags.size?(z=function(){e&&e(),s.type==="video"&&s.tags.size>0&&w(!0)},b[10]=e,b[11]=s.type,b[12]=s.tags.size,b[13]=z):z=b[13];var A=z;b[14]!==s.tags.size||b[15]!==e||b[16]!==x||b[17]!==f?(z=function(a){s.tags.size<=1&&(e&&e(),w(!1)),x({id:f,type:d("PolarisCreationV2ActionTypes").CREATION_REMOVE_USERTAG_FROM_MEDIA,userId:a})},b[14]=s.tags.size,b[15]=e,b[16]=x,b[17]=f,b[18]=z):z=b[18];z=z;var B;b[19]!==x||b[20]!==f||b[21]!==g||b[22]!==s.type||b[23]!==A?(B=function(a){if(a.type===d("PolarisSearchConstants").USER_RESULT){var b,c=String(a.pk);x({id:f,tag:{position:(b=g)!=null?b:[],userId:c,username:a.username},type:d("PolarisCreationV2ActionTypes").CREATION_ADD_USERTAG_TO_MEDIA,userId:c});u("");s.type==="video"?w(!0):A()}},b[19]=x,b[20]=f,b[21]=g,b[22]=s.type,b[23]=A,b[24]=B):B=b[24];B=B;var C;b[25]===Symbol["for"]("react.memo_cache_sentinel")?(C="_abfp",b[25]=C):C=b[25];var D;b[26]===Symbol["for"]("react.memo_cache_sentinel")?(D=j.jsx(c("IGDSBox.react"),{justifyContent:"start",paddingX:3,paddingY:1,position:"relative",children:j.jsx(c("PolarisIGCoreText").Section,{display:"preserve",zeroMargin:!0,children:d("PolarisCreationStrings").TAG_SEARCH_HEADER})}),b[26]=D):D=b[26];var E;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(E="_abfq",b[27]=E):E=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(y=j.jsx(c("IGDSIconButton.react"),{onClick:y,children:j.jsx(c("IGDSXOutlineIcon.react"),{alt:"clear",size:14})}),b[28]=y):y=b[28];b[29]!==t?(C=j.jsxs("div",{className:C,children:[D,j.jsx("div",{className:E,children:j.jsx(c("IGDSTextInput.react"),{autoFocus:!0,endAdornment:y,name:"userSearchInput",onChange:a,placeholder:d("PolarisCreationStrings").SEARCH_PLACEHOLDER,value:t,xstyle:o.textInput})})]}),b[29]=t,b[30]=C):C=b[30];b[31]!==t||b[32]!==B?(D=t.length>0&&j.jsx(c("PolarisTypeaheadContainer.react"),{cursorIndex:t.length,initialSearchContext:d("PolarisSearchConstants").SEARCH_CONTEXT.USER,inputString:t,onResultSelect:B,showLargeAvatars:!0,showResultsCondensed:!1,useSearchTriggers:!1}),b[31]=t,b[32]=B,b[33]=D):D=b[33];b[34]!==D?(E=j.jsx(c("IGDSBox.react"),{height:180,overflow:"scrollY",position:"relative",children:D}),b[34]=D,b[35]=E):E=b[35];b[36]!==C||b[37]!==E?(y=j.jsxs(j.Fragment,{children:[C,E]}),b[36]=C,b[37]=E,b[38]=y):y=b[38];a=y;b[39]!==v||b[40]!==z||b[41]!==a?(t=v===!0?j.jsx(c("PolarisCreationUserSearchTagList.react"),{onAddUserClick:function(){return w(!1)},onRemoveUser:z}):a,b[39]=v,b[40]=z,b[41]=a,b[42]=t):t=b[42];B=t;b[43]!==h||b[44]!==i||b[45]!==B||b[46]!==A?(D=h&&j.jsx(c("PolarisIGCoreAnchoredPopoverContentContainer.react"),{height:m,isVisible:h,onClose:A,width:n,children:j.jsx(c("IGDSBox.react"),{height:m,position:"relative",width:n,children:B})},i===!0?0:1),b[43]=h,b[44]=i,b[45]=B,b[46]=A,b[47]=D):D=b[47];b[48]!==q?(C=q!=null?q:j.jsx("div",{className:"_abfr"}),b[48]=q,b[49]=C):C=b[49];b[50]!==r||b[51]!==D||b[52]!==C?(E=j.jsx(c("PolarisIGCoreAnchoredPopover.react"),babelHelpers["extends"]({},r,{content:D,initialPositionStyles:p,positionType:"fixed",children:C})),b[50]=r,b[51]=D,b[52]=C,b[53]=E):E=b[53];return E}g["default"]=a}),98);
__d("usePolarisArrowHorizontalPosition",["PolarisPhotoWithIndicator.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useState,j=b.unstable_useMemoCache;function a(a,b){var c=j(6),e;c[0]!==a||c[1]!==b?(e=d("PolarisPhotoWithIndicator.react").getHorizontalOffset(a,b),c[0]=a,c[1]=b,c[2]=e):e=c[2];a=i(e);b=a[0];var f=a[1];c[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a,b){return f(d("PolarisPhotoWithIndicator.react").getHorizontalOffset(a,b))},c[3]=e):e=c[3];c[4]!==b?(a=[b,e],c[4]=b,c[5]=a):a=c[5];return a}g["default"]=a}),98);
__d("usePolarisArrowPosition",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useState,j=b.unstable_useMemoCache,k=42;function a(a,b){var c=j(3);b=i(b-a<k?"bottom":"top");a=b[0];var d=b[1];c[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(a,b){return d(b-a<k?"bottom":"top")},c[0]=b):b=c[0];c[1]!==a?(b=[a,b],c[1]=a,c[2]=b):b=c[2];return b}g.TAG_THRESHOLD=k;g.useArrowPosition=a}),98);
__d("usePolarisUserTagDrag",["react","react-use-gesture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache,j=8,k=j+16;function a(a){var b=i(9),c=a.containerRect,e=a.offsetX,f=a.offsetY,g=a.onDrag,h=a.onDragEnd,l=c.left+e,m=c.top+f;b[0]!==l||b[1]!==m||b[2]!==g||b[3]!==c.left||b[4]!==c.top||b[5]!==h?(a=function(a){var b=a.movement;a=a.down;var d=b[0];b=b[1];d=l+d;b=m+b;g&&g(d-c.left,b-c.top);h&&!a&&h(d-c.left,b-c.top)},b[0]=l,b[1]=m,b[2]=g,b[3]=c.left,b[4]=c.top,b[5]=h,b[6]=a):a=b[6];a=d("react-use-gesture").useDrag(a,{bounds:{bottom:c.height-f-j,left:-e+k,right:c.width-e-k,top:-f+j}});b[7]!==a?(e={bindDragEvents:a},b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("PolarisCreationUserTagV2.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSXPanoOutlineIcon.react","PolarisCreationV2ActionTypes","PolarisIGAnimate","PolarisStoriesStrings","PolarisUserTag.react","react","usePolarisArrowHorizontalPosition","usePolarisArrowPosition","usePolarisCreationDispatch","usePolarisUserTagDrag"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=1.08;function a(a){var b=a.containerRect,e=a.id,f=a.isVisible,g=a.usertag,h=d("usePolarisCreationDispatch").useCreationDispatch(),i=l(null);a=d("usePolarisArrowPosition").useArrowPosition(g.position[1]*b.height,b.height);var n=a[0],o=a[1];a=c("usePolarisArrowHorizontalPosition")(g.position[0],((a=(a=i.current)==null?void 0:a.offsetWidth)!=null?a:0)/b.width/2);var p=a[0],q=a[1];a=d("PolarisIGAnimate").usePanAndZoom({scale:1,x:g.position[0]*b.width,y:g.position[1]*b.height},{friction:26,mass:1,tension:470});var r=a.set;a=a.style;k(function(){var a;r({scale:1,x:g.position[0]*b.width,y:g.position[1]*b.height});q(g.position[0],((a=(a=i.current)==null?void 0:a.offsetWidth)!=null?a:0)/b.width/2)},[r,q,i,g.position,b]);function s(a,c){r({scale:1,x:a,y:c});var f=a/b.width;c=c/b.height;q(a/((a=b.width)!=null?a:1),((a=(a=i.current)==null?void 0:a.offsetWidth)!=null?a:0)/b.width/2);h({id:e,tag:{position:[f,c],userId:g.userId,username:g.username},type:d("PolarisCreationV2ActionTypes").CREATION_ADD_USERTAG_TO_MEDIA,userId:g.userId})}function t(a,c){r({scale:m,x:a,y:c});o(c,(a=b.height)!=null?a:0)}t=c("usePolarisUserTagDrag")({containerRect:b,offsetX:g.position[0]*b.width,offsetY:g.position[1]*b.height,onDrag:t,onDragEnd:s});s=t.bindDragEvents;function u(a){a.stopPropagation(),h({id:e,type:d("PolarisCreationV2ActionTypes").CREATION_REMOVE_USERTAG_FROM_MEDIA,userId:g.userId})}t={transform:"translate(\n      "+p+"%,\n      "+(n==="top"?0:-100)+"%\n    ) scale("+(f?1:0)+")"};return j.jsx(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({style:babelHelpers["extends"]({},a,{left:0,position:"absolute",top:0,zIndex:2})},s(),{children:j.jsx("div",{className:"_abfs"+(n==="bottom"?" _abft":""),ref:i,children:j.jsx(c("PolarisUserTag.react"),{action:j.jsx(c("IGDSBox.react"),{display:"flex",justifyContent:"center",marginEnd:3,children:j.jsx(c("IGDSIconButton.react"),{onClick:u,padding:0,children:j.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisStoriesStrings").ALT_TEXT_CLOSE_ICON,color:"web-always-white",size:16})})}),isPointingUp:n==="top",isShowingTags:f,pointerStyle:{left:-p+"%"},style:t,user:babelHelpers["extends"]({},g,{id:e})})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationTagImagePreview.react",["cx","fbt","IGDSBox.react","IGDSDeletePanoOutline24Icon.react","IGDSUserPanoFilledIcon.react","PolarisCreationMediaButton.react","PolarisCreationMediaPreviewCarouselButtons.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationUserSearchPopover.react","PolarisCreationUserTagV2.react","PolarisCreationV2ActionTypes","PolarisCreationV2Strings","PolarisCreationWarningDialog.react","PolarisDisappearingTooltip.react","PolarisGenericStrings","PolarisHasFeedCreation","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreConstants","PolarisMediaDimensionHelpers","PolarisRect","PolarisResponsiveBlock.react","PolarisUserTagIndicator.react","nullthrows","react","usePolarisCreationDispatch","usePolarisCreationMedia","usePolarisCreationState","usePolarisObjectState"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef,n=b.useState,o=b.unstable_useMemoCache;function p(a){var b=o(3);a=a.onTooltipHide;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("div",{}),b[0]=e):e=b[0];b[1]!==a?(e=k.jsx(c("PolarisDisappearingTooltip.react"),{autoHideAfter:c("PolarisIGCoreConstants").TOOLTIP.AUTO_HIDE_MS*1e4,color:"black",disableAutoAlign:!0,disableTooltipHideOnDismount:!0,onTooltipHide:a,position:"above",tooltip:d("PolarisCreationV2Strings").CLICK_PHOTO_TAG,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function q(a){var b,e=o(4),f=a.containerRect,g=a.isVisible;a=d("usePolarisCreationState").useCreationState();var h=(b=a.currentMediaId)!=null?b:a.multiPostOrder[0];b=c("nullthrows")(a.media.get(h));e[0]!==f||e[1]!==h||e[2]!==g?(a=function(a){return k.jsx(c("PolarisCreationUserTagV2.react"),{containerRect:f,id:h,isVisible:g,usertag:a},a.userId)},e[0]=f,e[1]=h,e[2]=g,e[3]=a):a=e[3];return Array.from(b.tags.values()).map(a)}var r=25,s=10;function a(a){var b=o(86),e=a.id,f=a.onDelete;a=a.src;var g=m(null),h=d("usePolarisCreationState").useCreationState(),j=d("usePolarisCreationDispatch").useCreationDispatch(),t=n(null),u=t[0],v=t[1];t=n(!0);var w=t[0],x=t[1];t=d("usePolarisCreationState").useCreationState();t=t.multiPostOrder;var y=n(!1),z=y[0],A=y[1];y=c("usePolarisObjectState")({height:0,width:0});var B=y[0],C=y[1];y=c("usePolarisObjectState")(null);var D=y[0],E=y[1];y=c("nullthrows")(h.media.get(e));var F=d("usePolarisCreationMedia").useCreationMedia(e),G=F.mediaHeight,H=F.mediaWidth;F=d("PolarisCreationStepProvider.react").useCreationStep();F=F.step;F=F===d("PolarisCreationTypes").STEP.editPostInfo;var I;b[0]!==j?(I=function(){j({hasViewedPhotoTooltip:!0,type:d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_PHOTO_TOOLTIP})},b[0]=j,b[1]=I):I=b[1];var J=I;b[2]!==h.hasViewedPhotoTooltip||b[3]!==J||b[4]!==w||b[5]!==u||b[6]!==D?(I=function(a){h.hasViewedPhotoTooltip!==!0&&J();w||x(!0);if(u!=null){v(null);return}if(!D)return;var b=a.clientX-D.left;a=a.clientY-D.top;b=b/D.width;a=a/D.height;v([b,a])},b[2]=h.hasViewedPhotoTooltip,b[3]=J,b[4]=w,b[5]=u,b[6]=D,b[7]=I):I=b[7];I=I;var K;b[8]!==G||b[9]!==H||b[10]!==C?(K=function(a,b){var c;c=d("PolarisMediaDimensionHelpers").getDimensionsToStretchFit((c=G)!=null?c:0,(c=H)!=null?c:0,b,a);C(c)},b[8]=G,b[9]=H,b[10]=C,b[11]=K):K=b[11];K=K;var L;b[12]!==g||b[13]!==E?(L=function(){var a;a=g==null?void 0:(a=g.current)==null?void 0:a.getBoundingClientRect();a!=null&&E(d("PolarisRect").fromClientRect(a))},b[12]=g,b[13]=E,b[14]=L):L=b[14];var M;b[15]!==g||b[16]!==B||b[17]!==E?(M=[g,B,E],b[15]=g,b[16]=B,b[17]=E,b[18]=M):M=b[18];l(L,M);var N,O;u!=null&&(N="calc("+u[0]*100+"% - "+r+"px)",O="calc("+u[1]*100+"% + "+s+"px)");b[19]===Symbol["for"]("react.memo_cache_sentinel")?(L=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding(),b[19]=L):L=b[19];var P=L;b[20]!==t.length||b[21]!==F?(M=t.length>2&&F&&d("PolarisHasFeedCreation").hasFeedCreation(),b[20]=t.length,b[21]=F,b[22]=M):M=b[22];L=M;b[23]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){A(!0)},b[23]=t):t=b[23];var Q=t;b[24]!==f||b[25]!==e?(F=function(){f&&(f(e),A(!1))},b[24]=f,b[25]=e,b[26]=F):F=b[26];M=F;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){return P?k.jsx(c("PolarisCreationMediaPreviewCarouselButtons.react"),{}):null},b[27]=t):t=b[27];F=t;b[28]!==L||b[29]!==z||b[30]!==M?(t=L&&z&&k.jsx(c("PolarisCreationWarningDialog.react"),{dialogBody:d("PolarisCreationV2Strings").DELETE_PHOTO_BODY,dialogTitle:d("PolarisCreationV2Strings").DELETE_PHOTO_TITLE,discardText:d("PolarisGenericStrings").DELETE_TEXT,onCancel:function(){return A(!1)},onDiscardClick:M}),b[28]=L,b[29]=z,b[30]=M,b[31]=t):t=b[31];b[32]===Symbol["for"]("react.memo_cache_sentinel")?(z="_aazk",b[32]=z):z=b[32];b[33]!==h||b[34]!==J?(M=F(),F=P&&h.hasViewedPhotoTooltip!==!0&&k.jsx("div",{className:"_aazi",children:k.jsx(p,{onTooltipHide:J})}),b[33]=h,b[34]=J,b[35]=M,b[36]=F):(M=b[35],F=b[36]);var R;b[37]===Symbol["for"]("react.memo_cache_sentinel")?(R="_aazl",b[37]=R):R=b[37];var S;b[38]!==B.height||b[39]!==B.width?(S={height:B.height,width:B.width},b[38]=B.height,b[39]=B.width,b[40]=S):S=b[40];b[41]===Symbol["for"]("react.memo_cache_sentinel")?(B=i._("__JHASH__bWxlq0XQKeD__JHASH__"),b[41]=B):B=b[41];var T;b[42]===Symbol["for"]("react.memo_cache_sentinel")?(T="_aazh",b[42]=T):T=b[42];b[43]!==a?(B=k.jsx("img",{alt:B,className:T,src:a}),b[43]=a,b[44]=B):B=b[44];b[45]===Symbol["for"]("react.memo_cache_sentinel")?(T="_aazm",b[45]=T):T=b[45];b[46]!==I||b[47]!==g?(a=k.jsx("div",{className:T,onClick:I,ref:g,role:"button",tabIndex:0}),b[46]=I,b[47]=g,b[48]=a):a=b[48];b[49]!==N||b[50]!==O?(T={left:N,position:"absolute",top:O},b[49]=N,b[50]=O,b[51]=T):T=b[51];I=u!=null;var U;b[52]===Symbol["for"]("react.memo_cache_sentinel")?(U=function(){return v(null)},b[52]=U):U=b[52];b[53]!==e||b[54]!==I||b[55]!==u?(U=k.jsx(c("PolarisCreationUserSearchPopover.react"),{id:e,isVisible:I,onClose:U,position:u}),b[53]=e,b[54]=I,b[55]=u,b[56]=U):U=b[56];b[57]!==T||b[58]!==U?(I=k.jsx("div",{style:T,children:U}),b[57]=T,b[58]=U,b[59]=I):I=b[59];b[60]!==D||b[61]!==w?(T=D!=null&&k.jsx(q,{containerRect:D,isVisible:w}),b[60]=D,b[61]=w,b[62]=T):T=b[62];b[63]!==y?(U=!P&&k.jsx(c("PolarisUserTagIndicator.react"),{absolute:!0,onClick:function(){return x(function(a){return!a})},visible:y.tags.size>0}),b[63]=y,b[64]=U):U=b[64];var V,W;b[65]!==S||b[66]!==B||b[67]!==a||b[68]!==I||b[69]!==T||b[70]!==U||b[71]!==L||b[72]!==y?(R=k.jsxs("div",{className:R,style:S,children:[B,a,I,T,U]}),V=L&&P&&k.jsx(c("IGDSBox.react"),{left:!0,padding:2,position:"absolute",top:!0,children:k.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").DELETE_TEXT,icon:c("IGDSDeletePanoOutline24Icon.react"),onClick:function(){return Q()},selected:!1})}),W=P&&y.tags.size>0&&k.jsx(c("IGDSBox.react"),{bottom:!0,left:!0,padding:2,position:"absolute",children:k.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").TAG_TEXT,icon:c("IGDSUserPanoFilledIcon.react"),onClick:function(){return x(function(a){return!a})},selected:!1})}),b[65]=S,b[66]=B,b[67]=a,b[68]=I,b[69]=T,b[70]=U,b[71]=L,b[72]=y,b[73]=R,b[74]=V,b[75]=W):(R=b[73],V=b[74],W=b[75]);b[76]!==K||b[77]!==M||b[78]!==F||b[79]!==R||b[80]!==V||b[81]!==W?(S=k.jsxs(c("PolarisResponsiveBlock.react"),{className:z,onResize:K,children:[M,F,R,V,W]}),b[76]=K,b[77]=M,b[78]=F,b[79]=R,b[80]=V,b[81]=W,b[82]=S):S=b[82];b[83]!==t||b[84]!==S?(B=k.jsxs(k.Fragment,{children:[t,S]}),b[83]=t,b[84]=S,b[85]=B):B=b[85];return B}g["default"]=a}),98);
__d("usePolarisForceUpdate",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useState,j=b.unstable_useMemoCache;function a(){var a=j(1),b=i(0);b[0];var c=b[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){return c(function(a){return a+1})},a[0]=b):b=a[0];return b}g.useForceUpdate=a}),98);
__d("PolarisCreationTagVideoPreview.react",["IGDSBox.react","IGDSDeletePanoOutline24Icon.react","IGDSText.react","IGDSUserPanoFilledIcon.react","PolarisCreationCropHelpers","PolarisCreationMediaButton.react","PolarisCreationMediaPreviewCarouselButtons.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationUserSearchPopover.react","PolarisCreationV2State","PolarisCreationV2Strings","PolarisCreationVideoPlayer.react","PolarisCreationWarningDialog.react","PolarisGenericStrings","PolarisHasFeedCreation","PolarisHasFeedCreationV2Dogfooding","PolarisUserTagIndicator.react","react","usePolarisCreationCurrentMedia","usePolarisCreationMediaPreview","usePolarisCreationState","usePolarisForceUpdate"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=b.unstable_useMemoCache;function m(){var a=l(11),b=c("usePolarisCreationCurrentMedia")(),e=b.currentMedia;b=b.currentMediaId;e=((e=e.tags.size)!=null?e:0)>0;var f=k(!1),g=f[0],h=f[1],j;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return h(!1)},j=[],a[0]=f,a[1]=j):(f=a[0],j=a[1]);a[2]!==e||a[3]!==b||a[4]!==g?(f=i.jsx(c("PolarisCreationUserSearchPopover.react"),{hasTags:e,id:b,isVisible:g,onClose:f,position:j,preferredPositionY:"top"}),a[2]=e,a[3]=b,a[4]=g,a[5]=f):f=a[5];a[6]!==e?(j=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?i.jsx(c("IGDSBox.react"),{padding:2,position:"relative",children:i.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").TAG_TEXT,endText:d("PolarisCreationV2Strings").TAG_A_PERSON,icon:c("IGDSUserPanoFilledIcon.react"),onClick:function(){return h(!0)},selected:!1})}):i.jsx(c("PolarisUserTagIndicator.react"),{absolute:!1,endAndornment:e?null:i.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:i.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",weight:"semibold",children:d("PolarisCreationV2Strings").TAG_A_PERSON})}),onClick:function(){return h(!0)},visible:!0}),a[6]=e,a[7]=j):j=a[7];a[8]!==f||a[9]!==j?(b=i.jsxs(c("IGDSBox.react"),{bottom:!0,left:!0,position:"absolute",children:[f,j]}),a[8]=f,a[9]=j,a[10]=b):b=a[10];return b}function a(a){var b=l(44),e=a.onDelete;a=d("usePolarisCreationState").useCreationState();var f=c("usePolarisCreationCurrentMedia")(),g=f.currentMedia,h=f.currentMediaId;f=f.currentMediaItem;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding(),b[0]=n):n=b[0];n=n;var o=d("usePolarisForceUpdate").useForceUpdate(),p=d("usePolarisCreationState").useCreationState();p=p.multiPostOrder;var q=k(!1),r=q[0],s=q[1];a=c("usePolarisCreationMediaPreview")(g,(q=a.cropRatio)!=null?q:1);var t=a.croppedHeightScaled,u=a.croppedWidthScaled;q=a.mediaDimensions;a=a.setFrameEl;var v=d("PolarisCreationStepProvider.react").useCreationStep();v=v.step;v=v===d("PolarisCreationTypes").STEP.editPostInfo;var w=d("PolarisCreationCropHelpers").getPanningOffsets(t,u,g),x=w.offsetX;w=w.offsetY;var y=g.scale;x="translateX("+x+"px) translateY("+w+"px) scale("+y;b[1]!==q.height||b[2]!==q.width||b[3]!==x?(w={display:"flex",height:q.height,transform:x,transition:"none",width:q.width},b[1]=q.height,b[2]=q.width,b[3]=x,b[4]=w):w=b[4];var z=w;b[5]!==p.length||b[6]!==v?(y=p.length>2&&v&&d("PolarisHasFeedCreation").hasFeedCreation(),b[5]=p.length,b[6]=v,b[7]=y):y=b[7];q=y;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){s(!0)},b[8]=x):x=b[8];var A=x;b[9]!==e||b[10]!==h?(w=function(){e&&(e(h),s(!1))},b[9]=e,b[10]=h,b[11]=w):w=b[11];p=w;b[12]!==z.height||b[13]!==z.width||b[14]!==t||b[15]!==u||b[16]!==o?(v=function(){parseInt(z.height,10)!==t&&parseInt(z.width,10)!==u&&o()},b[12]=z.height,b[13]=z.width,b[14]=t,b[15]=u,b[16]=o,b[17]=v):v=b[17];j(v);b[18]===Symbol["for"]("react.memo_cache_sentinel")?(y=n&&i.jsx(c("PolarisCreationMediaPreviewCarouselButtons.react"),{}),b[18]=y):y=b[18];b[19]!==q?(x=q&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()&&i.jsx(c("IGDSBox.react"),{left:!0,padding:2,position:"absolute",top:!0,children:i.jsx(c("PolarisCreationMediaButton.react"),{altText:d("PolarisGenericStrings").DELETE_TEXT,icon:c("IGDSDeletePanoOutline24Icon.react"),onClick:function(){return A()},selected:!1})}),b[19]=q,b[20]=x):x=b[20];b[21]!==q||b[22]!==r||b[23]!==p?(w=q&&r&&i.jsx(c("PolarisCreationWarningDialog.react"),{dialogBody:d("PolarisCreationV2Strings").DELETE_VIDEO_BODY,dialogTitle:d("PolarisCreationV2Strings").DELETE_VIDEO_TITLE,discardText:d("PolarisGenericStrings").DELETE_TEXT,onCancel:function(){return s(!1)},onDiscardClick:p}),b[21]=q,b[22]=r,b[23]=p,b[24]=w):w=b[24];if(b[25]!==g){r=g==null?void 0:(v=g.coverPhoto)==null?void 0:(q=v.selectedCoverPhoto)==null?void 0:q.dataURL;b[25]=g;b[26]=r}else r=b[26];p=g.audio!==d("PolarisCreationV2State").AUDIO_STATUS.on;b[27]!==r||b[28]!==p||b[29]!==f.dataURL||b[30]!==z||b[31]!==g.trim?(v=i.jsx(c("PolarisCreationVideoPlayer.react"),{coverPhoto:r,muted:p,src:f.dataURL,style:z,trim:g.trim}),b[27]=r,b[28]=p,b[29]=f.dataURL,b[30]=z,b[31]=g.trim,b[32]=v):v=b[32];b[33]===Symbol["for"]("react.memo_cache_sentinel")?(q=!n&&i.jsx(m,{}),b[33]=q):q=b[33];b[34]!==t||b[35]!==u||b[36]!==v?(r=i.jsxs(c("IGDSBox.react"),{alignItems:"center",height:t,justifyContent:"center",overflow:"hidden",position:"relative",width:u,children:[v,q]}),b[34]=t,b[35]=u,b[36]=v,b[37]=r):r=b[37];b[38]===Symbol["for"]("react.memo_cache_sentinel")?(p=n&&i.jsx(m,{}),b[38]=p):p=b[38];b[39]!==a||b[40]!==x||b[41]!==w||b[42]!==r?(f=i.jsxs(c("IGDSBox.react"),{alignItems:"center",containerRef:a,height:"100%",justifyContent:"center",position:"relative",width:"100%",children:[y,x,w,r,p]}),b[39]=a,b[40]=x,b[41]=w,b[42]=r,b[43]=f):f=b[43];return f}g["default"]=a}),98);
__d("PolarisCreationV2Shell.react",["IGDSBox.react","PolarisCreationConstants","react","useIGDSToaster","usePolarisCreationState","usePolarisCreationToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.unstable_useMemoCache;function a(a){var b=k(7);a=a.children;var e=c("usePolarisCreationToast")(),f=e.clearToast,g=d("usePolarisCreationState").useCreationState();e=c("useIGDSToaster")();var h=e.add,l;b[0]!==g.errorMessage||b[1]!==h||b[2]!==f?(e=function(){g.errorMessage!=null&&h({message:g.errorMessage},{duration:d("PolarisCreationConstants").TOAST_TIMEOUT,onAfterHide:f()})},l=[h,g.errorMessage,f],b[0]=g.errorMessage,b[1]=h,b[2]=f,b[3]=e,b[4]=l):(e=b[3],l=b[4]);j(e,l);b[5]!==a?(e=i.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"hidden",position:"relative",children:a}),b[5]=a,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("PolarisCreationModalComposePage.react",["PolarisCreationCameraLogger","PolarisCreationLoggerHooks","PolarisCreationModalBodyV2.react","PolarisCreationModalComposeSettingsContent.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationTagImagePreview.react","PolarisCreationTagVideoPreview.react","PolarisCreationV2ActionTypes","PolarisCreationV2Shell.react","PolarisCreationV2Strings","asyncToGeneratorRuntime","nullthrows","polarisVideoMergeUtils","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch","usePolarisCreationState","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.unstable_useMemoCache;function l(a,b){if(a)if(b===!0)return d("PolarisCreationV2Strings").REELS_DISCLAIMER_PRIVATE;else return d("PolarisCreationV2Strings").REELS_DISCLAIMER_PUBLIC}function a(a){var e=k(29),f=a.disclaimerText,g=a.hideAccessibilitySettings,h=a.hideAdvancedSettings,m=a.hideLocationSettings,n=a.hideTagPreview,o=a.modalHeaderEndAdornmentText,p=a.modalTitle,q=a.onRender,r=a.publishToArchiveOnly,s=a.showCaptionAtBottom,t=a.showCaptionErrorMessage,u;e[0]!==q?(a=function(){q!=null&&q()},u=[q],e[0]=q,e[1]=a,e[2]=u):(a=e[1],u=e[2]);j(a,u);a=d("PolarisCreationStepProvider.react").useCreationStep();var v=a.handleNextStep;u=d("usePolarisCreationState").useCreationState();var w=u.caption;a=u.media;var x=u.multiPostOrder,y=u.sessionId,z=d("usePolarisCreationDispatch").useCreationDispatch(),A=a.get(x[0]);u=c("usePolarisCreationCurrentMedia")();a=u.currentMedia;x=u.currentMediaId;if(a.type==="image"){u=c("nullthrows")((u=a.filteredMedia)==null?void 0:u.dataURL)}else{var B;u=c("nullthrows")((B=a.video)==null?void 0:B.dataURL)}e[3]!==A||e[4]!==y||e[5]!==t||e[6]!==w.length||e[7]!==z||e[8]!==r||e[9]!==v?(B=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(A==null?void 0:A.type)==="image"?d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.PHOTO:d("PolarisCreationCameraLogger").InstagramCameraMediaTypes.VIDEO;d("PolarisCreationCameraLogger").logFeedCreationShareMedia({mediaType:a,sessionId:y});if(t!=null&&t&&w.length===0){z({hasAttemptedToPostWithEmpyCaption:!0,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ATTEMPTED_TO_POST_WITH_EMPTY_CAPTION});return}r!=null&&r&&z({archiveOnly:!0,type:"CREATION_SET_ARCHIVE_ONLY"});v()});function c(){return a.apply(this,arguments)}return c}(),e[3]=A,e[4]=y,e[5]=t,e[6]=w.length,e[7]=z,e[8]=r,e[9]=v,e[10]=B):B=e[10];B=B;d("PolarisCreationLoggerHooks").useCreationFeedGalleryStartShareSessionLogger();var C=c("usePolarisViewer")();C=C==null?void 0:C.isPrivate;var D=d("polarisVideoMergeUtils").isMediaEligibleForVideoMerge(a)&&d("polarisVideoMergeUtils").eligibleForVideoMerge(),E=t!=null&&t&&w.length===0,F;e[11]!==o||e[12]!==p||e[13]!==B||e[14]!==D||e[15]!==E?(F=i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{ctaTestId:"creation-modal-compose-cta",modalEndAdornmentText:o,modalTitle:p,onCta:B,showReelCreationHeader:D,stopLoadingIndicatorOnCta:E}),e[11]=o,e[12]=p,e[13]=B,e[14]=D,e[15]=E,e[16]=F):F=e[16];o=n===!0?null:a.type==="image"?i.jsx(c("PolarisCreationTagImagePreview.react"),{id:x,src:u},x):i.jsx(c("PolarisCreationTagVideoPreview.react"),{});B=(p=f)!=null?p:l(D,C);e[17]!==B||e[18]!==g||e[19]!==h||e[20]!==m||e[21]!==s?(E=i.jsx(c("PolarisCreationModalComposeSettingsContent.react"),{disclaimerText:B,hideAccessibilitySettings:g,hideAdvancedSettings:h,hideLocatingSettings:m,showCaptionAtBottom:s}),e[17]=B,e[18]=g,e[19]=h,e[20]=m,e[21]=s,e[22]=E):E=e[22];e[23]!==o||e[24]!==E?(n=i.jsx(c("PolarisCreationModalBodyV2.react"),{"data-testid":void 0,mainContent:o,settingsColumnContent:E}),e[23]=o,e[24]=E,e[25]=n):n=e[25];e[26]!==F||e[27]!==n?(a=i.jsxs(c("PolarisCreationV2Shell.react"),{children:[F,n]}),e[26]=F,e[27]=n,e[28]=a):a=e[28];return a}g["default"]=a}),98);
__d("usePolarisCreationCropAllMedia",["PolarisCreationV2Actions","Promise","asyncToGeneratorRuntime","nullthrows","react","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).unstable_useMemoCache;function a(){var a=j(5),e=d("usePolarisCreationState").useCreationState(),f=d("usePolarisCreationDispatch").useCreationDispatch(),g;a[0]!==e.multiPostOrder||a[1]!==e.media||a[2]!==e.cropRatio||a[3]!==f?(g=function(){var a=e.multiPostOrder.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("nullthrows")(e.media.get(a));b.type==="image"?f(yield d("PolarisCreationV2Actions").createCroppedPhoto(a,c("nullthrows")(b.image),c("nullthrows")(e.cropRatio),b.panningOffsetRatioX,b.panningOffsetRatioY,b.scale)):f(yield d("PolarisCreationV2Actions").createCroppedVideo(a))});return function(b){return a.apply(this,arguments)}}());return(h||(h=b("Promise"))).all(a)},a[0]=e.multiPostOrder,a[1]=e.media,a[2]=e.cropRatio,a[3]=f,a[4]=g):g=a[4];a=g;return a}g["default"]=a}),98);
__d("PolarisCreationModalCropPage.react",["PolarisCreationCameraLogger","PolarisCreationModalBodyV2.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationV2Shell.react","asyncToGeneratorRuntime","react","usePolarisCreationCropAllMedia","usePolarisCreationMediaPopoverContext","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect;e.useMemo;var k=e.useState,l=e.unstable_useMemoCache;function m(){var a=l(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("PolarisCreationModalBodyV2.react"),{"data-testid":void 0}),a[0]=b):b=a[0];return b}function a(a){var e=l(18),f=a.modalTitle,g=a.onRender,h;e[0]!==g?(a=function(){g!=null&&g()},h=[g],e[0]=g,e[1]=a,e[2]=h):(a=e[1],h=e[2]);j(a,h);var n=d("usePolarisCreationState").useCreationState();a=d("PolarisCreationStepProvider.react").useCreationStep();var o=a.handleNextStep,p=c("usePolarisCreationCropAllMedia")();e[3]!==p||e[4]!==n.sessionId||e[5]!==o?(h=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield p(),d("PolarisCreationCameraLogger").logFeedCreationFeedGalleryStartEditSession({sessionId:n.sessionId}),o()});function c(){return a.apply(this,arguments)}return c}(),e[3]=p,e[4]=n.sessionId,e[5]=o,e[6]=h):h=e[6];a=h;h=k(null);var q=h[0];h=h[1];e[7]!==q?(h={openedPopover:q,setOpenedPopover:h},e[7]=q,e[8]=h):h=e[8];q=h;h=q;e[9]!==f||e[10]!==a?(q=i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{ctaTestId:"creation-modal-crop-cta",modalTitle:f,onCta:a}),e[9]=f,e[10]=a,e[11]=q):q=e[11];e[12]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(m,{}),e[12]=f):f=e[12];e[13]!==h?(a=i.jsx(d("usePolarisCreationMediaPopoverContext").CreationMediaPopoverContext.Provider,{value:h,children:f}),e[13]=h,e[14]=a):a=e[14];e[15]!==q||e[16]!==a?(f=i.jsxs(c("PolarisCreationV2Shell.react"),{children:[q,a]}),e[15]=q,e[16]=a,e[17]=f):f=e[17];return f}g["default"]=a}),98);
__d("PolarisCreationModalEditPageAdjustmentTab.react",["cx","IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisCreationConstants","PolarisCreationSlider.react","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l=b.unstable_useMemoCache,m=36;function n(a){var b=l(32),e=a.color,f=a.currentValue,g=a.defaultValue,h=a.filterName,i=a.onAdjustmentStrengthChange,n=a.onAdjustmentStrengthSet;a=e===void 0?"default":e;e=k(!1);var o=e[0],p=e[1];b[0]!==n||b[1]!==h||b[2]!==g?(e=function(){n(h,g)},b[0]=n,b[1]=h,b[2]=g,b[3]=e):e=b[3];e=e;var q,r;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){return p(!0)},r=function(){return p(!1)},b[4]=q,b[5]=r):(q=b[4],r=b[5]);var s;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(s="_aazd",b[6]=s):s=b[6];var t=d("PolarisCreationV2Strings").ADJUSTMENT_FILTER_MAPPING[h];b[7]!==t||b[8]!==f||b[9]!==g||b[10]!==o||b[11]!==e?(s=j.jsxs("div",{className:s,children:[j.jsx(c("IGDSText.react").Label,{zeroMargin:!0,children:t}),d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()&&f!==g&&o&&j.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisCreationV2Strings").RESET_ADJUSTMENT,onClick:e,variant:"primary_link"})]}),b[7]=t,b[8]=f,b[9]=g,b[10]=o,b[11]=e,b[12]=s):s=b[12];t=h!=="vignette";o=h==="vignette"?0:-100;b[13]!==i||b[14]!==h?(e=function(a){i(h,a)},b[13]=i,b[14]=h,b[15]=e):e=b[15];var u;b[16]!==n||b[17]!==h?(u=function(a){n(h,a)},b[16]=n,b[17]=h,b[18]=u):u=b[18];var v;b[19]!==t||b[20]!==a||b[21]!==f||b[22]!==o||b[23]!==e||b[24]!==u?(v=j.jsx(c("IGDSBox.react"),{height:m,justifyContent:"center",position:"relative",children:j.jsx(d("PolarisCreationSlider.react").CreationSlider,{centerBased:t,color:a,initialValue:f,maxValue:100,minValue:o,onChange:e,onSetValue:u,showValue:!0})}),b[19]=t,b[20]=a,b[21]=f,b[22]=o,b[23]=e,b[24]=u,b[25]=v):v=b[25];b[26]!==s||b[27]!==v?(t=j.jsxs("div",{onMouseEnter:q,onMouseLeave:r,role:"presentation",children:[s,v]}),b[26]=s,b[27]=v,b[28]=t):t=b[28];b[29]!==h||b[30]!==t?(a=j.jsx(c("IGDSBox.react"),{flex:"none",justifyContent:"end",paddingX:4,position:"relative",children:t},h),b[29]=h,b[30]=t,b[31]=a):a=b[31];return a}function a(a){var b=l(7),e=a.adjustmentParams,f=a.color,g=a.onAdjustmentStrengthChange,h=a.onAdjustmentStrengthSet,i=f===void 0?"default":f;b[0]!==e||b[1]!==i||b[2]!==g||b[3]!==h?(a=Object.keys(e).map(function(a){var b;return j.jsx(n,{color:i,currentValue:(b=e[a])!=null?b:d("PolarisCreationConstants").INIT_ADJUSTMENT_STRENGTH,defaultValue:0,filterName:a,onAdjustmentStrengthChange:g,onAdjustmentStrengthSet:h},a)}),b[0]=e,b[1]=i,b[2]=g,b[3]=h,b[4]=a):a=b[4];b[5]!==a?(f=j.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"auto",position:"relative",children:j.jsx(c("IGDSBox.react"),{marginBottom:4,position:"relative",children:a})}),b[5]=a,b[6]=f):f=b[6];return f}g["default"]=a}),98);
__d("PolarisCreationFilterImageThumbnail.react",["fbt","CometImage.react","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreButton.react","PolarisIGCoreText","react","stylex","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function m(a){a=a.getName();return a==="Normal"&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?h._("__JHASH__IKg9lq2USme__JHASH__"):a}var n={filterThumbnail:{backgroundColor:"x19g9edo",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",height:"x5yr21d",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",transitionDuration:"x1pv9i8n",transitionProperty:"x11xpdln",transitionTimingFunction:"x9lcvmn",verticalAlign:"x11njtxf",width:"xh8yej3",$$css:!0},placeholderSize:{height:"x14nwjz3",width:"x29ncy0",$$css:!0},thumbnail:{borderTopColor:"x1v8p93f",borderEndColor:"xogb00i",borderBottomColor:"x16stqrj",borderStartColor:"x1ftr3km",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",display:"x78zum5",marginBottom:"x1e56ztr",marginEnd:"x1emribx",marginLeft:null,marginRight:null,marginStart:"x1i64zmx",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailBorder:{borderTopColor:"x1kemru4",borderEndColor:"xkigycj",borderBottomColor:"x1nnzpr5",borderStartColor:"x10fnqp3",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",$$css:!0}};function a(a){var b=k(25),e=a.filter,f=a.filterBuilder,g=a.isSelected,j=a.onClick;a=c("usePolarisDisplayProperties")();a=a.pixelRatio;var o="filter-thumbnail-"+f.getName().toLowerCase(),p;b[0]!==j||b[1]!==e?(p=function(){return j(e)},b[0]=j,b[1]=e,b[2]=p):p=b[2];var q=g&&n.thumbnailBorder,r;b[3]!==q?(r=(i||(i=c("stylex")))([n.thumbnail,q]),b[3]=q,b[4]=r):r=b[4];b[5]!==f?(q=h._("__JHASH__QzDeQ4rlx9e__JHASH__",[h._param("filter title",f.getName())]),b[5]=f,b[6]=q):q=b[6];a=f.getThumbnail(a);var s;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(s=[n.filterThumbnail,d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()&&n.placeholderSize],b[7]=s):s=b[7];b[8]!==q||b[9]!==a?(s=l.jsx(c("CometImage.react"),{alt:q,src:a,xstyle:s}),b[8]=q,b[9]=a,b[10]=s):s=b[10];b[11]!==r||b[12]!==s?(q=l.jsx("div",{className:r,children:s}),b[11]=r,b[12]=s,b[13]=q):q=b[13];a=g?"ig-primary-button":"ig-secondary-text";r=g?"semibold":"normal";b[14]!==f?(s=m(f),b[14]=f,b[15]=s):s=b[15];b[16]!==a||b[17]!==r||b[18]!==s?(g=l.jsx(c("PolarisIGCoreText"),{color:a,size:"footnote",weight:r,children:s}),b[16]=a,b[17]=r,b[18]=s,b[19]=g):g=b[19];b[20]!==o||b[21]!==p||b[22]!==q||b[23]!==g?(f=l.jsxs(c("PolarisIGCoreButton.react"),{borderless:!0,"data-testid":void 0,onClick:p,children:[q,g]}),b[20]=o,b[21]=p,b[22]=q,b[23]=g,b[24]=f):f=b[24];return f}g["default"]=a}),98);
__d("PolarisCreationModalEditPageFilterTab.react",["cx","IGDSBox.react","IGDSDivider.react","PolarisCreationFilterImageThumbnail.react","PolarisCreationSlider.react","PolarisFilters","PolarisHasFeedCreationV2Dogfooding","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=50;function a(a){var b=j(25),e=a.color,f=a.filterStrength,g=a.onFilterClick,h=a.onFilterStrengthChange,i=a.onFilterStrengthSet,m=a.selectedFilterName;a=e===void 0?"default":e;b[0]!==g||b[1]!==m?(e=function(a){g(a,m)},b[0]=g,b[1]=m,b[2]=e):e=b[2];var n=e;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e="_ac39"+(d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?"":" _aab0"),b[3]=e):e=b[3];var o;b[4]!==m||b[5]!==n?(o=d("PolarisFilters").FILTER_NAMES.map(function(a){return k.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",width:33.33333333333333+"%",children:k.jsx(c("PolarisCreationFilterImageThumbnail.react"),{filter:a,filterBuilder:d("PolarisFilters").FILTERS[a],isSelected:m===a,onClick:n})},a)}),b[4]=m,b[5]=n,b[6]=o):o=b[6];var p;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx(c("IGDSBox.react"),{height:16,position:"relative",width:"100%"}),b[7]=p):p=b[7];b[8]!==o?(e=k.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"auto",position:"relative",children:k.jsxs("div",{className:e,children:[o,p]})}),b[8]=o,b[9]=e):e=b[9];b[10]!==m?(p=m!=="normal"&&k.jsx(c("IGDSDivider.react"),{}),b[10]=m,b[11]=p):p=b[11];o=m==="normal"?"none":void 0;var q;b[12]!==a||b[13]!==f||b[14]!==m||b[15]!==h||b[16]!==i?(q=k.jsx(c("IGDSBox.react"),{height:l,justifyContent:"center",paddingX:4,position:"relative",children:k.jsx(d("PolarisCreationSlider.react").CreationSlider,{color:a,initialValue:f,onChange:h,onSetValue:i,showValue:!0},m)}),b[12]=a,b[13]=f,b[14]=m,b[15]=h,b[16]=i,b[17]=q):q=b[17];b[18]!==o||b[19]!==q?(a=k.jsx(c("IGDSBox.react"),{display:o,flex:"none",justifyContent:"end",position:"relative",children:q}),b[18]=o,b[19]=q,b[20]=a):a=b[20];b[21]!==e||b[22]!==p||b[23]!==a?(f=k.jsxs(k.Fragment,{children:[e,p,a]}),b[21]=e,b[22]=p,b[23]=a,b[24]=f):f=b[24];return f}g["default"]=a}),98);
__d("PolarisCreationCoverPhotoFileSelector.react",["IGDSButton.react","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisImageFileForm.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useRef,k=b.unstable_useMemoCache,l=["image/jpeg","image/png"];function a(a){var b=k(10);a=a.onChange;var e=j(null),f;b[0]!==e?(f=function(){var a=e==null?void 0:e.current;a!=null&&a.selectFile()},b[0]=e,b[1]=f):f=b[1];f=f;var g;b[2]!==f?(g=i.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisUA").isTouchDevice()&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationV2Strings").SELECT_COVER_PHOTO_FROM_DEVICE_TEXT:d("PolarisCreationV2Strings").SELECT_COVER_PHOTO_TEXT,onClick:f,variant:"primary_link"}),b[2]=f,b[3]=g):g=b[3];b[4]!==a||b[5]!==e?(f=i.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:l,capture:!1,multiple:!1,onFileChange:a,ref:e}),b[4]=a,b[5]=e,b[6]=f):f=b[6];b[7]!==g||b[8]!==f?(a=i.jsxs("div",{children:[g,f]}),b[7]=g,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("PolarisCreationFilmStrip.react",["cx","PolarisResponsiveBlock.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(10),d=a.editType,e=a.onResize;a=a.placeholders;var f=d==="coverPhoto";d=d==="trim";var g;b[0]!==f||b[1]!==d?(g=(f?"_aabj":"")+(d?" _aabk":""),b[0]=f,b[1]=d,b[2]=g):g=b[2];if(b[3]!==a){b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return k.jsx("div",{className:"_aabl",style:{backgroundImage:"url("+a.dataURL+")"}},a.dataURL)},b[5]=f):f=b[5];d=a.map(f);b[3]=a;b[4]=d}else d=b[4];b[6]!==g||b[7]!==e||b[8]!==d?(f=k.jsx(c("PolarisResponsiveBlock.react"),{className:g,onResize:e,children:d}),b[6]=g,b[7]=e,b[8]=d,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("polarisCalculateScrubberPosition",["DateConsts","PolarisCreationConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){if(b==null)return null;var e=a/b.clientWidth;e=e*100;if(d){d=c*(a/(b.clientWidth-c));a=d/b.clientWidth;c=Math.round(a*100);return e+c}return e}function b(a,b){var c=a/100;b=b*c;return Math.min(Math.max(.01,b),a-d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME)}function c(a,b,c,d,e){a=a/b;b=a*c;if(e){c=d*a;return b-c}return b}function e(a,b){return d("PolarisCreationConstants").MIN_TRIM_LENGTH/a*b}function f(a){var b=Math.round(a*(a=d("DateConsts")).MS_PER_SEC)/a.MS_PER_SEC,c=Math.floor(b/a.SEC_PER_HOUR);b=b-c*a.SEC_PER_HOUR;var e=Math.floor(b/a.SEC_PER_MIN);b=Math.floor(b-e*a.SEC_PER_MIN);a=("0"+c).slice(-2);e=("0"+e).slice(-2);b=("0"+b).slice(-2);var f="";c>0&&(f+=a+":");return f+=e+":"+b}g.xToSlider=a;g.sliderToTime=b;g.timeToX=c;g.minTrimX=e;g.convertTimestampToFormattedString=f}),98);
__d("usePolarisVideoScrubber",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useLayoutEffect,k=b.useRef;function l(a){return Math.round((a+Number.EPSILON)*100)/100}function a(a,b,c,d){var e=k(a.current),f=i(function(c,e){e===void 0&&(e=!0);var f=b.current;if(f!=null){var g=l(c)!==l(f.currentTime);g&&(f.currentTime=c,a.current=c,e&&d(f,c))}},[a,d,b]),g=i(function(){var a=b.current;a!=null&&f(e.current)},[f,b]),h=i(function(a){var c=b.current;c!=null&&!c.seeking&&f(a);e.current=a},[f,b]);j(function(){var a=b.current;a!=null&&c&&f(e.current,!1)},[f,b,c]);return{handleScrubberPositionChange:h,handleVideoSeeked:g}}g["default"]=a}),98);
__d("PolarisCreationCoverPhotoPicker.react",["cx","IGDSBox.react","PolarisCreationConstants","PolarisCreationFilmStrip.react","PolarisIGAnimate","PolarisUA","polarisCalculateScrubberPosition","react","react-spring-wwwig","react-use-gesture","usePolarisVideoScrubber"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useLayoutEffect,m=b.useMemo,n=b.useRef,o=b.useState;function a(a){var b,e=a.duration,f=a.initialCurrentTime,g=a.mediaId,h=a.onChange,i=a.placeholders,p=a.previewDataUrl,q=a.previewVideoRef;a=o(null);var r=a[0];a=a[1];var s=n(f);f=o(null);var t=f[0],u=f[1];f=d("react-spring-wwwig").useSpring(function(){return{}});var v=f[0],w=f[1];f=o(!1);var x=f[0],y=f[1];f=k(function(){if(r!=null&&x){var a;a=d("polarisCalculateScrubberPosition").timeToX(s.current,e,(a=r==null?void 0:r.clientWidth)!=null?a:0,d("PolarisCreationConstants").PREVIEW_TILE_WIDTH,!0);a!=null&&(w({immediate:!0,x:a}),u(a))}},[e,r,w,x]);l(f,[f]);var z=m(function(){return h.bind(null,g)},[g,h]);z=c("usePolarisVideoScrubber")(s,q,x,z);var A=z.handleScrubberPositionChange;z=z.handleVideoSeeked;b=d("react-use-gesture").useDrag(function(a){var b,c=a.down;a=a.movement;a=a[0];b=((b=t)!=null?b:0)+a;w({config:d("PolarisCreationConstants").SLIDER_ANIMATION_CONFIG,x:b});if(q.current!=null){A(d("polarisCalculateScrubberPosition").sliderToTime(e,(a=d("polarisCalculateScrubberPosition").xToSlider(b,r,d("PolarisCreationConstants").PREVIEW_TILE_WIDTH,!0))!=null?a:0))}c||u(b)},{bounds:{bottom:0,left:((b=t)!=null?b:0)*-1,right:((b=r==null?void 0:r.clientWidth)!=null?b:0)-((b=t)!=null?b:0)-d("PolarisCreationConstants").PREVIEW_TILE_WIDTH,top:0},filterTaps:!0,pointer:{touch:!0},preventDefault:!0});return j.jsx("div",{dir:"ltr",children:j.jsxs(c("IGDSBox.react"),{containerRef:a,marginBottom:2,marginTop:2,position:"relative",children:[j.jsx(c("PolarisCreationFilmStrip.react"),{editType:"coverPhoto",onResize:f,placeholders:i}),j.jsx(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({"aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":(f=d("polarisCalculateScrubberPosition").xToSlider((a=t)!=null?a:0,r,d("PolarisCreationConstants").PREVIEW_TILE_WIDTH,!0))!=null?f:0,role:"slider"},b(),{className:"_abg6",style:babelHelpers["extends"]({},v,{height:d("PolarisCreationConstants").PREVIEW_TILE_HEIGHT,opacity:x?1:0,width:d("PolarisCreationConstants").PREVIEW_TILE_WIDTH}),children:j.jsx("video",{autoPlay:d("PolarisUA").isMobileSafari(),className:"_abg7",muted:!0,onLoadedData:function(){return y(!0)},onSeeked:z,ref:q,src:p})}))]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationMuteToggle.react",["IGDSBox.react","IGDSSwitch.react","IGDSText.react","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisCreationV2Strings","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=(e={},e[d("PolarisCreationV2State").AUDIO_STATUS.on]=j.jsx(a,{label:d("PolarisCreationV2Strings").SOUND_ON_LABEL}),e[d("PolarisCreationV2State").AUDIO_STATUS.off]=j.jsx(a,{label:d("PolarisCreationV2Strings").SOUND_ON_LABEL}),e[d("PolarisCreationV2State").AUDIO_STATUS.none]=j.jsx(a,{label:d("PolarisCreationV2Strings").NO_AUDIO_LABEL}),e);function a(a){var b=i(2);a=a.label;var d;b[0]!==a?(d=j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:j.jsx(c("IGDSText.react").Label,{children:a})}),b[0]=a,b[1]=d):d=b[1];return d}function l(a){a=a.audioStatus;return k[a]}l.displayName=l.name+" [from "+f.id+"]";function b(){var a=i(13),b=c("usePolarisCreationCurrentMedia")(),e=b.currentMedia,f=b.currentMediaId,g=d("usePolarisCreationDispatch").useCreationDispatch();a[0]!==g||a[1]!==e.audio||a[2]!==f?(b=function(){g({audio:e.audio===d("PolarisCreationV2State").AUDIO_STATUS.on?d("PolarisCreationV2State").AUDIO_STATUS.off:d("PolarisCreationV2State").AUDIO_STATUS.on,id:f,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META})},a[0]=g,a[1]=e.audio,a[2]=f,a[3]=b):b=a[3];b=b;var h;a[4]!==e.audio?(h=j.jsx(l,{audioStatus:e.audio}),a[4]=e.audio,a[5]=h):h=a[5];var k=e.audio===d("PolarisCreationV2State").AUDIO_STATUS.none,m=e.audio===d("PolarisCreationV2State").AUDIO_STATUS.on,n;a[6]!==k||a[7]!==b||a[8]!==m?(n=j.jsx(c("IGDSSwitch.react"),{disabled:k,onValueChange:b,testid:void 0,value:m}),a[6]=k,a[7]=b,a[8]=m,a[9]=n):n=a[9];a[10]!==h||a[11]!==n?(k=j.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"between",marginBottom:8,marginTop:3,position:"relative",width:"100%",children:[h,n]}),a[10]=h,a[11]=n,a[12]=k):k=a[12];return k}g["default"]=b}),98);
__d("PolarisCreationVideoCurrentTimeBar.react",["cx","react","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n;function a(){var a=d("usePolarisCreationVideoPlayer").useCreationVideoPlayerContext(),b=a.video;a=m(0);var c=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1],h=k(function(){if(b==null)return;var a=b.currentTime,c=b.duration;a=a*100/c;e(a);g(!b.paused);n=window.requestAnimationFrame(h)},[b]);l(function(){b!==null&&(n=window.requestAnimationFrame(h));return function(){window.cancelAnimationFrame(n)}},[h,b]);return j.jsx(j.Fragment,{children:f&&j.jsx("div",{className:"_aazn",style:{left:c+"%"}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationVideoTrimScrubber.react",["cx","PolarisCreationConstants","PolarisIGAnimate","polarisCalculateScrubberPosition","react","react-spring-wwwig","react-use-gesture","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useState;function m(a,b,c,d,e,f){if(f==="start"){return{bottom:0,left:((f=c)!=null?f:0)*-1,right:((f=e)!=null?f:0)-((e=c)!=null?e:0)-a,top:0}}return{bottom:0,left:(((f=b==null?void 0:b.clientWidth)!=null?f:0)+((e=c)!=null?e:0)-((b=d)!=null?b:0)-a)*-1,right:((f=c)!=null?f:0)*-1,top:0}}function a(a){var b,c=a.duration,e=a.handleDrag,f=a.handleTrimChange;a.mediaId;a.onChange;var g=a.previewVideoRef,h=a.scrubberType,i=a.trimContainerEl,n=a.trimEnd;a=a.trimStart;var o=i==null?void 0:i.clientWidth,p=d("usePolarisCreationVideoPlayer").useCreationVideoPlayerContext(),q=p.video;p=l(null);var r=p[0],s=p[1];p=d("react-spring-wwwig").useSpring(function(){return{}});var t=p[0],u=p[1];p=l(!1);var v=p[0],w=p[1];p=d("polarisCalculateScrubberPosition").minTrimX(c,(p=o)!=null?p:0);var x=d("polarisCalculateScrubberPosition").timeToX(a,c,(b=o)!=null?b:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1),y=d("polarisCalculateScrubberPosition").timeToX(n,c,(b=o)!=null?b:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1);b=d("polarisCalculateScrubberPosition").convertTimestampToFormattedString(h==="start"?a:n);var z=function(a){q!=null&&(q.currentTime=a)};k(function(){if(i!=null){var a;a=h==="start"?x:y-((a=o)!=null?a:0);a!=null&&(u({config:d("PolarisCreationConstants").SLIDER_ANIMATION_CONFIG,immediate:!0,x:a}),s(a))}},[o]);a=d("react-use-gesture").useDrag(function(a){var b,e=a.down;a=a.movement;a=a[0];b=((b=r)!=null?b:0)+a;u({config:d("PolarisCreationConstants").SLIDER_ANIMATION_CONFIG,x:b});a=h==="start"?b:((a=o)!=null?a:0)+b;a=d("polarisCalculateScrubberPosition").sliderToTime(c,(a=d("polarisCalculateScrubberPosition").xToSlider(a,i,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1))!=null?a:0);g.current!=null&&(a-=d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME,f(a,h==="start"));e?(w(!0),z(a)):(w(!1),s(b))},{bounds:m(p,i,r,x,y,h),filterTaps:!0});return j.jsxs(d("PolarisIGAnimate").Animated.div,babelHelpers["extends"]({"aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":(p=d("polarisCalculateScrubberPosition").xToSlider((n=r)!=null?n:0,i,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1))!=null?p:0,onMouseDown:function(){return e(!0)},onMouseUp:function(){return e(!1)},role:"slider"},a(),{className:"_ac31"+(h==="start"?" _ac32":"")+(h==="end"?" _ac33":""),style:babelHelpers["extends"]({},t,{height:d("PolarisCreationConstants").VIDEO_TRIMMER_HEIGHT,width:d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH}),children:[j.jsx("div",{className:"_ac34"}),v?j.jsx("div",{className:"_ac35",children:b}):null]}))}a.displayName=a.name+" [from "+f.id+"]";g.calculateScrubberBoundaries=m;g.CreationVideoTrimScrubber=a}),98);
__d("polarisTimeRuler",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];b.push({hasLabel:!0,timestamp:0});for(var c=0;c<3;c+=1)b.push({hasLabel:!1});b.push({hasLabel:!0,timestamp:Math.round(a/2)});for(c=0;c<3;c+=1)b.push({hasLabel:!1});b.push({hasLabel:!0,timestamp:Math.round(a)});return b}f.getTicks=a}),66);
__d("PolarisCreationVideoTrimTimeRuler.react",["cx","IGDSBox.react","polarisTimeRuler","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(15);a=a.duration;var e,f,g,h,i;if(b[0]!==a){var l=d("polarisTimeRuler").getTicks(a);e=c("IGDSBox.react");f="row";g="between";h=2;i="relative";var m;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a,b){return k.jsxs("div",{className:"_aaze",children:[k.jsx("div",{className:"_aazf"+(a.hasLabel?" _aazg":"")}),a.hasLabel&&k.jsxs("div",{children:[a.timestamp,"s"]})]},b)},b[7]=m):m=b[7];l=l.map(m);b[0]=a;b[1]=e;b[2]=f;b[3]=g;b[4]=h;b[5]=i;b[6]=l}else e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],l=b[6];b[8]!==e||b[9]!==f||b[10]!==g||b[11]!==h||b[12]!==i||b[13]!==l?(m=k.jsx(e,{direction:f,justifyContent:g,marginTop:h,position:i,children:l}),b[8]=e,b[9]=f,b[10]=g,b[11]=h,b[12]=i,b[13]=l,b[14]=m):m=b[14];return m}g["default"]=a}),98);
__d("PolarisCreationVideoTrimmerTrimmedOutMask.react",["cx","PolarisCreationConstants","polarisCalculateScrubberPosition","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(10),c=a.duration,e=a.trimContainerEl,f=a.trimEnd;a=a.trimStart;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="_aako",b[0]=g):g=b[0];var h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h="_aakp _aakq",b[1]=h):h=b[1];a=d("polarisCalculateScrubberPosition").timeToX(a,c,(a=e==null?void 0:e.clientWidth)!=null?a:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1)-d("PolarisCreationConstants").VIDEO_TRIM_BORDER_ADDITIONAL_PADDING;b[2]!==a?(h=k.jsx("div",{className:h,style:{left:0,width:a}}),b[2]=a,b[3]=h):h=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a="_aakp _aakr",b[4]=a):a=b[4];c=d("polarisCalculateScrubberPosition").timeToX(c-f,c,(f=e==null?void 0:e.clientWidth)!=null?f:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1)-d("PolarisCreationConstants").VIDEO_TRIM_BORDER_ADDITIONAL_PADDING;b[5]!==c?(e=k.jsx("div",{className:a,style:{right:0,width:c}}),b[5]=c,b[6]=e):e=b[6];b[7]!==h||b[8]!==e?(f=k.jsxs("div",{className:g,children:[h,e]}),b[7]=h,b[8]=e,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("usePolarisCreationTrimmer",["PolarisCreationV2Actions","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(){var a=i(5),b=d("usePolarisCreationDispatch").useCreationDispatch(),e=c("usePolarisCreationCurrentMedia")(),f=e.currentMediaId;a[0]!==f||a[1]!==b?(e=function(a,c){a=d("PolarisCreationV2Actions").createTrimmedVideo(f,a,c);b(a)},a[0]=f,a[1]=b,a[2]=e):e=a[2];e=e;var g;a[3]!==e?(g={trimVideo:e},a[3]=e,a[4]=g):g=a[4];return g}g["default"]=a}),98);
__d("PolarisCreationVideoTrimmer.react",["cx","IGDSBox.react","PolarisCreationConstants","PolarisCreationFilmStrip.react","PolarisCreationVideoCurrentTimeBar.react","PolarisCreationVideoTrimScrubber.react","PolarisCreationVideoTrimTimeRuler.react","PolarisCreationVideoTrimmerTrimmedOutMask.react","polarisCalculateScrubberPosition","react","usePolarisCreationTrimmer","usePolarisCreationVideoPlayer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l=b.unstable_useMemoCache;function a(a){var b,e,f=l(50),g=a.duration,h=a.mediaId,i=a.onChange,m=a.placeholders,n=a.previewVideoRef,o=a.trimEndTime;a=a.trimStartTime;var p=c("usePolarisCreationTrimmer")(),q=p.trimVideo;p=k(null);var r=p[0];p=p[1];a=k(a);var s=a[0],t=a[1];a=k(o);var u=a[0],v=a[1];o=k(!1);var w=o[0],x=o[1];a=d("usePolarisCreationVideoPlayer").useCreationVideoPlayerContext();var y=a.pauseVideo,z=a.playVideo,A=a.video;o=function(a,b){b?(t(a),q(a,u)):(v(a),q(s,a)),w&&A!=null&&(A.currentTime=a)};f[0]!==A||f[1]!==y||f[2]!==z?(a=function(a){x(a),A!=null&&(a?y():z())},f[0]=A,f[1]=y,f[2]=z,f[3]=a):a=f[3];a=a;var B;f[4]===Symbol["for"]("react.memo_cache_sentinel")?(B=function(){},f[4]=B):B=f[4];f[5]!==m?(B=j.jsx(c("PolarisCreationFilmStrip.react"),{editType:"trim",onResize:B,placeholders:m}),f[5]=m,f[6]=B):B=f[6];f[7]!==g||f[8]!==r||f[9]!==u||f[10]!==s?(m=j.jsx(c("PolarisCreationVideoTrimmerTrimmedOutMask.react"),{duration:g,trimContainerEl:r,trimEnd:u,trimStart:s}),f[7]=g,f[8]=r,f[9]=u,f[10]=s,f[11]=m):m=f[11];var C;f[12]===Symbol["for"]("react.memo_cache_sentinel")?(C="_aabn",f[12]=C):C=f[12];b=d("polarisCalculateScrubberPosition").timeToX(s,g,(b=r==null?void 0:r.clientWidth)!=null?b:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1)+d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH;e=d("polarisCalculateScrubberPosition").timeToX(u-s,g,(e=r==null?void 0:r.clientWidth)!=null?e:0,d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH,!1)-d("PolarisCreationConstants").VIDEO_TRIMMER_WIDTH*2+d("PolarisCreationConstants").VIDEO_TRIM_BORDER_ADDITIONAL_PADDING;f[13]!==b||f[14]!==e?(C=j.jsx("div",{className:C,style:{left:b,width:e}}),f[13]=b,f[14]=e,f[15]=C):C=f[15];f[16]!==g||f[17]!==a||f[18]!==o||f[19]!==h||f[20]!==i||f[21]!==n||f[22]!==r||f[23]!==u||f[24]!==s?(b=j.jsx(d("PolarisCreationVideoTrimScrubber.react").CreationVideoTrimScrubber,{duration:g,handleDrag:a,handleTrimChange:o,mediaId:h,onChange:i,previewVideoRef:n,scrubberType:"start",trimContainerEl:r,trimEnd:u,trimStart:s}),f[16]=g,f[17]=a,f[18]=o,f[19]=h,f[20]=i,f[21]=n,f[22]=r,f[23]=u,f[24]=s,f[25]=b):b=f[25];f[26]!==w?(e=!w&&j.jsx(c("PolarisCreationVideoCurrentTimeBar.react"),{}),f[26]=w,f[27]=e):e=f[27];var D;f[28]!==g||f[29]!==a||f[30]!==o||f[31]!==h||f[32]!==i||f[33]!==n||f[34]!==r||f[35]!==u||f[36]!==s?(D=j.jsx(d("PolarisCreationVideoTrimScrubber.react").CreationVideoTrimScrubber,{duration:g,handleDrag:a,handleTrimChange:o,mediaId:h,onChange:i,previewVideoRef:n,scrubberType:"end",trimContainerEl:r,trimEnd:u,trimStart:s}),f[28]=g,f[29]=a,f[30]=o,f[31]=h,f[32]=i,f[33]=n,f[34]=r,f[35]=u,f[36]=s,f[37]=D):D=f[37];f[38]!==B||f[39]!==m||f[40]!==C||f[41]!==b||f[42]!==e||f[43]!==D?(a=j.jsxs(c("IGDSBox.react"),{containerRef:p,marginBottom:2,marginTop:2,position:"relative",children:[B,m,C,b,e,D]}),f[38]=B,f[39]=m,f[40]=C,f[41]=b,f[42]=e,f[43]=D,f[44]=a):a=f[44];f[45]!==g?(o=j.jsx(c("PolarisCreationVideoTrimTimeRuler.react"),{duration:g}),f[45]=g,f[46]=o):o=f[46];f[47]!==a||f[48]!==o?(h=j.jsxs("div",{dir:"ltr",children:[a,o]}),f[47]=a,f[48]=o,f[49]=h):h=f[49];return h}g["default"]=a}),98);
__d("usePolarisCreationUpdateCoverPhoto",["PolarisCreationV2ActionTypes","asyncToGeneratorRuntime","polarisCreateCoverPhoto","polarisDebounce","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.useRef;function a(){var a=d("usePolarisCreationDispatch").useCreationDispatch(),e=i(null);return c("polarisDebounce")(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c,f){e.current=f;c=(yield d("polarisCreateCoverPhoto").createCoverPhoto(c,f));if(e.current!==f)return;a({id:b,selectedCoverPhoto:c,selectedCoverPhotoTime:f,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_COVER_PHOTO})});function f(a,b,d){return c.apply(this,arguments)}return f}(),500)}g["default"]=a}),98);
__d("polarisCanvasCenterCropWithAspectRatio",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.element,d=a.height,e=a.outputAspectRatio;a=a.width;var f=a/d;f=e<=f;f=f?{outputHeight:d,outputWidth:e*d}:{outputHeight:1/e*a,outputWidth:a};e=f.outputHeight;f=f.outputWidth;var g=document.createElement("canvas");g.setAttribute("width",f+"px");g.setAttribute("height",e+"px");var h=c("nullthrows")(g.getContext("2d"));h.translate(f/2,e/2);h.fillStyle="red";h.fillRect(0,0,f,e);h.drawImage(b,0,0,a,d,-a/2,-d/2,a,d);return{element:g,height:e,width:f}}g["default"]=a}),98);
__d("polarisCanvasRotate",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.element,d=a.height,e=a.rotationAngle;a=a.width;if(e===0)return{element:b,height:d,rotationAngle:e,width:a};var f=e%180===90;f=f?{outputHeight:a,outputWidth:d}:{outputHeight:d,outputWidth:a};var g=f.outputHeight;f=f.outputWidth;var h=document.createElement("canvas");h.width=f;h.height=g;var i=c("nullthrows")(h.getContext("2d"));i.translate(f/2,g/2);i.rotate(e*Math.PI/180);i.drawImage(b,0,0,a,d,-a/2,-d/2,a,d);return{element:h,height:g,rotationAngle:0,width:f}}g["default"]=a}),98);
__d("polarisGetIgtvUploadRequirements",[],(function(a,b,c,d,e,f){"use strict";var g=.5;function a(){return{coverAspectRatio:{height:5,width:4},coverAspectRatioCrop:{height:16,width:9},editVideoControls:!0,maxDescriptionLength:2200,maxDurationInSeconds:3600,maxTitleLength:75,maxVideoSizeInBytes:36e8,minDurationForFeedPreviewInSeconds:g,minDurationInSeconds:g,reencodeToJpegMimeTypes:[""],validCoverMimeTypes:["image/jpeg"],validVideoExtensions:["mp4"],validVideoMimeTypes:["video/mp4"],videoAspectRatio:{height:5,width:4}}}f["default"]=a}),66);
__d("polarisIgtvTransformCoverImageIfNecessary",["polarisCanvasCenterCropWithAspectRatio","polarisCanvasDrawImage","polarisCanvasRotate","polarisGetIgtvUploadRequirements"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.rotationAngle===0?a:babelHelpers["extends"]({},a,c("polarisCanvasRotate")(a))}function i(a){var b=a.element,d=a.height,e=a.type,f=a.width,g=c("polarisGetIgtvUploadRequirements")();g=g.reencodeToJpegMimeTypes;return!g.includes(e)?a:babelHelpers["extends"]({},a,c("polarisCanvasDrawImage")({element:b,height:d,width:f}),{type:"image/jpeg"})}function j(a){var b=a.height,d=a.width,e=c("polarisGetIgtvUploadRequirements")();e=e.coverAspectRatioCrop;d=d/b;b=e.width/e.height;e=d!==b;return!e?a:babelHelpers["extends"]({},a,c("polarisCanvasCenterCropWithAspectRatio")(babelHelpers["extends"]({},a,{outputAspectRatio:b})))}function a(a){return[h,j,i].reduce(function(a,b){return b(a)},a)}g["default"]=a}),98);
__d("usePolarisCreationUpdateCoverPhotoFileSelection",["PolarisCreationV2ActionTypes","asyncToGeneratorRuntime","polarisCreateJpegFileFromCanvas","polarisIgtvTransformCoverImageIfNecessary","polarisReadImageFile","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.unstable_useMemoCache;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("polarisReadImageFile").readImageFile(a)),e=b.dataURL,f=b.height,g=b.image,h=b.location,i=b.orientation,j=b.rotationAngle;b=b.width;g=c("polarisIgtvTransformCoverImageIfNecessary")({element:g,height:f,rotationAngle:j,type:a.type,width:b});j=a;g.element instanceof HTMLCanvasElement&&(j=(yield c("polarisCreateJpegFileFromCanvas")(g.element,a.name)));return{dataURL:e,file:j,height:f,location:h,orientation:i,width:b}});return k.apply(this,arguments)}function a(a){var c=i(3),e=d("usePolarisCreationDispatch").useCreationDispatch(),f;c[0]!==e||c[1]!==a?(f=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b[0];if(!b)return;b=(yield j(b));e({id:a,selectedCoverPhoto:b,type:d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_COVER_PHOTO})});return function(a){return c.apply(this,arguments)}}(),c[0]=e,c[1]=a,c[2]=f):f=c[2];return f}g["default"]=a}),98);
__d("PolarisCreationModalEditPageVideoSettingsTab.react",["cx","IGDSBox.react","IGDSText.react","PolarisConfig","PolarisCreationCoverPhotoFileSelector.react","PolarisCreationCoverPhotoPicker.react","PolarisCreationMuteToggle.react","PolarisCreationV2Strings","PolarisCreationVideoTrimmer.react","PolarisUA","nullthrows","react","usePolarisCreationCurrentMedia","usePolarisCreationUpdateCoverPhoto","usePolarisCreationUpdateCoverPhotoFileSelection"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.unstable_useMemoCache;function a(){var a=l(31),b=c("usePolarisCreationCurrentMedia")(),e=b.currentMedia;b=b.currentMediaId;var f=c("nullthrows")(e.coverPhoto);f=f.selectedCoverPhotoTime;var g=k(null),h=c("nullthrows")(e.video),i=c("usePolarisCreationUpdateCoverPhoto")(),m=c("usePolarisCreationUpdateCoverPhotoFileSelection")(b),n=d("PolarisUA").isMobileSafari()!==!0&&(d("PolarisConfig").isIOS()&&d("PolarisUA").isTouchDevice())!==!0,o;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(o="_abgd",a[0]=o):o=a[0];var p;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("IGDSText.react").LabelEmphasized,{children:d("PolarisCreationV2Strings").COVER_PHOTO_LABEL}),a[1]=p):p=a[1];a[2]!==m?(p=j.jsxs(c("IGDSBox.react"),{alignContent:"stretch",alignItems:"center",direction:"row",justifyContent:"between",position:"relative",children:[p,j.jsx(c("PolarisCreationCoverPhotoFileSelector.react"),{onChange:m})]}),a[2]=m,a[3]=p):p=a[3];m=j.jsx("div",{className:o,children:p});f=n&&j.jsx(c("PolarisCreationCoverPhotoPicker.react"),{duration:c("nullthrows")(e==null?void 0:(o=e.video)==null?void 0:o.videoDurationMs),initialCurrentTime:f,mediaId:b,onChange:i,placeholders:(o=(p=e.coverPhoto)==null?void 0:p.placeholders)!=null?o:[],previewDataUrl:h.dataURL,previewVideoRef:g},b);a[4]!==m||a[5]!==f?(p=j.jsxs(c("IGDSBox.react"),{marginBottom:n?3:0,position:"relative",children:[m,f]}),a[4]=m,a[5]=f,a[6]=p):p=a[6];a[7]===Symbol["for"]("react.memo_cache_sentinel")?(o="_abgd",a[7]=o):o=a[7];a[8]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx("div",{className:o,children:j.jsx(c("IGDSText.react").LabelEmphasized,{children:d("PolarisCreationV2Strings").TRIM_VIDEO_LABEL})}),a[8]=h):h=a[8];if(a[9]!==e){m=e==null?void 0:(n=e.video)==null?void 0:n.videoDurationMs;a[9]=e;a[10]=m}else m=a[10];a[11]!==m?(f=c("nullthrows")(m),a[11]=m,a[12]=f):f=a[12];if(a[13]!==e.coverPhoto){m=(n=(o=e.coverPhoto)==null?void 0:o.placeholders)!=null?n:[];a[13]=e.coverPhoto;a[14]=m}else m=a[14];if(a[15]!==e){n=(n=e==null?void 0:(o=e.trim)==null?void 0:o.end)!=null?n:c("nullthrows")(e==null?void 0:(o=e.video)==null?void 0:o.videoDurationMs);a[15]=e;a[16]=n}else n=a[16];if(a[17]!==e){o=(o=e==null?void 0:(o=e.trim)==null?void 0:o.start)!=null?o:0;a[17]=e;a[18]=o}else o=a[18];a[19]!==f||a[20]!==b||a[21]!==i||a[22]!==m||a[23]!==g||a[24]!==n||a[25]!==o?(e=j.jsxs(c("IGDSBox.react"),{marginBottom:3,position:"relative",children:[h,j.jsx(c("PolarisCreationVideoTrimmer.react"),{duration:f,mediaId:b,onChange:i,placeholders:m,previewVideoRef:g,trimEndTime:n,trimStartTime:o},b)]}),a[19]=f,a[20]=b,a[21]=i,a[22]=m,a[23]=g,a[24]=n,a[25]=o,a[26]=e):e=a[26];a[27]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx(c("IGDSBox.react"),{position:"relative",children:j.jsx(c("PolarisCreationMuteToggle.react"),{})}),a[27]=h):h=a[27];a[28]!==p||a[29]!==e?(f=j.jsxs(c("IGDSBox.react"),{paddingX:4,position:"relative",children:[p,e,h]}),a[28]=p,a[29]=e,a[30]=f):f=a[30];return f}g["default"]=a}),98);
__d("usePolarisCreationFilter",["PolarisCreationV2Actions","Promise","ReactDOMComet","asyncToGeneratorRuntime","nullthrows","polarisGetBlobFromCanvas","react","usePolarisCreationCurrentMedia","usePolarisCreationDispatch","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.unstable_useMemoCache;function a(){var a=j(17),e=d("usePolarisCreationState").useCreationState(),f=d("usePolarisCreationDispatch").useCreationDispatch(),g=c("usePolarisCreationCurrentMedia")(),i=g.currentMediaId;a[0]!==i||a[1]!==f?(g=function(a){a=d("PolarisCreationV2Actions").setAdjustment(i,a);f(a)},a[0]=i,a[1]=f,a[2]=g):g=a[2];g=g;var k;a[3]!==i||a[4]!==f?(k=function(a,b){a=d("PolarisCreationV2Actions").setFilter(i,a,b);f(a)},a[3]=i,a[4]=f,a[5]=k):k=a[5];k=k;var l;a[6]!==f?(l=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield c("polarisGetBlobFromCanvas")(b));var e=d("PolarisCreationV2Actions").setFilteredBlob(a,b);d("ReactDOMComet").flushSync(function(){f(e)})});return function(b,c){return a.apply(this,arguments)}}(),a[6]=f,a[7]=l):l=a[7];l=l;var m;a[8]!==e.multiPostOrder||a[9]!==e.media||a[10]!==f?(m=function(){var a=e.multiPostOrder.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var g=e.media.get(a);if((g==null?void 0:g.type)==="image"){var i=g==null?void 0:g.filteredBlob;if(i==null){g=c("nullthrows")(g==null?void 0:g.croppedCanvas);i=(yield c("polarisGetBlobFromCanvas")(g))}var j=(yield d("PolarisCreationV2Actions").setFilteredMedia(i,a));return d("ReactDOMComet").flushSync(function(){return f(j)})}return(h||(h=b("Promise"))).resolve()});return function(b){return a.apply(this,arguments)}}());return(h||(h=b("Promise"))).all(a)},a[8]=e.multiPostOrder,a[9]=e.media,a[10]=f,a[11]=m):m=a[11];m=m;var n;a[12]!==m||a[13]!==l||a[14]!==g||a[15]!==k?(n={filterAllMedia:m,saveFilterBlob:l,setMediaAdjustment:g,setMediaFilter:k},a[12]=m,a[13]=l,a[14]=g,a[15]=k,a[16]=n):n=a[16];return n}g["default"]=a}),98);
__d("usePolarisCreationMonetization",["react","usePolarisCreationDispatch","usePolarisCreationIsSingleVideoPost","usePolarisCreationMonetizationDecisions"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.unstable_useMemoCache;function a(){var a=j(5),b=d("usePolarisCreationDispatch").useCreationDispatch(),e=c("usePolarisCreationIsSingleVideoPost")(),f=c("usePolarisCreationMonetizationDecisions")(),g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){},a[0]=g):g=a[0];var h;a[1]!==f||a[2]!==b||a[3]!==e?(h=[f,b,e],a[1]=f,a[2]=b,a[3]=e,a[4]=h):h=a[4];i(g,h)}g["default"]=a}),98);
__d("usePolarisCreationErrorPage",["PolarisCreationStepProvider.react","PolarisCreationV2ActionTypes","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(){var a=i(8),b=d("usePolarisCreationDispatch").useCreationDispatch(),c=d("PolarisCreationStepProvider.react").useCreationStep(),e=c.handleErrorPage;a[0]!==b||a[1]!==e?(c=function(a){b({errorPage:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_PAGE}),e()},a[0]=b,a[1]=e,a[2]=c):c=a[2];c=c;var f;a[3]!==b?(f=function(a){b({errorPage:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_PAGE})},a[3]=b,a[4]=f):f=a[4];f=f;var g;a[5]!==c||a[6]!==f?(g={navigateToErrorPage:c,setSelectErrorPage:f},a[5]=c,a[6]=f,a[7]=g):g=a[7];return g}g["default"]=a}),98);
__d("usePolarisCreationUploadAllMedia",["PolarisCreationConstants","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationMediaHelpers","PolarisCreationV2Actions","PolarisCreationV2State","Promise","asyncToGeneratorRuntime","nullthrows","polarisGetBlobFromCanvas","react","usePolarisCreationDispatch","usePolarisCreationErrorPage","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).unstable_useMemoCache;function k(a,b){return a.cropRatio===b.originalAspectRatio&&b.panningOffsetRatioX===0&&b.panningOffsetRatioY===0&&b.scale===1&&((a=b.filters)==null?void 0:a.filterName)===d("PolarisCreationConstants").INIT_FILTER_NAME&&((a=b.filters)==null?void 0:a.filterStrength)===d("PolarisCreationConstants").INIT_FILTER_STRENGTH&&Object.keys(b.adjustmentParams).every(function(a){return b.adjustmentParams[a]===d("PolarisCreationConstants").INIT_ADJUSTMENT_STRENGTH})&&(((a=b.trim)==null?void 0:a.start)==null||b.trim.start===0)&&(((a=b.trim)==null?void 0:a.end)==null||b.trim.end===((a=b.video)==null?void 0:a.videoDurationMs))&&(b.type==="image"||b.type==="video"&&b.audio!==d("PolarisCreationV2State").AUDIO_STATUS.off)&&((a=b.image)==null?void 0:(a=a.file)==null?void 0:a.type)!=="image/png"}function a(){var a=j(4),e=d("usePolarisCreationState").useCreationState(),f=d("usePolarisCreationDispatch").useCreationDispatch(),g=c("usePolarisCreationErrorPage")(),i=g.setSelectErrorPage;a[0]!==e||a[1]!==f||a[2]!==i?(g=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=e.multiPostOrder.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var g=c("nullthrows")(e.media.get(a)),i=g.uploadId!=null;if(i)return(h||(h=b("Promise"))).resolve();i=null;var j=k(e,g);if(j){var l=g.type==="image"?g.image:g.video;i=l==null?void 0:l.file}else g.type==="image"&&(i=g==null?void 0:g.filteredBlob);l=e.multiPostOrder.length>1;if(g.type==="image"){if(i==null){var m=c("nullthrows")(g==null?void 0:g.croppedCanvas);i=(yield c("polarisGetBlobFromCanvas")(m))}m=(yield d("PolarisCreationV2Actions").stagePhoto({blob:i,fallbackDimensions:g.image?{height:g.image.height,width:g.image.width}:void 0,id:a,isSidecar:l,reencodedBlob:j?g==null?void 0:g.filteredBlob:null,sessionId:e.sessionId}))}else{j=c("nullthrows")(g==null?void 0:(j=g.coverPhoto)==null?void 0:(j=j.selectedCoverPhoto)==null?void 0:j.file);var n=function(b){f(d("PolarisCreationV2Actions").uploadProgressed(a,b))};if(i==null){var o;o=(yield d("PolarisCreationV2Actions").createCroppedPhoto(a,c("nullthrows")(g==null?void 0:(o=g.coverPhoto)==null?void 0:o.selectedCoverPhoto),c("nullthrows")(e.cropRatio),g.panningOffsetRatioX,g.panningOffsetRatioY,g.scale));o=o.croppedCanvas;j=(yield c("polarisGetBlobFromCanvas")(c("nullthrows")(o)));m=(yield d("PolarisCreationV2Actions").stageVideo({id:a,isSidecar:l,onUploadProgress:n,sessionId:e.sessionId,sourceCoverPhotoFile:j,sourceVideoFile:c("nullthrows")(g==null?void 0:(o=g.video)==null?void 0:o.file),videoEditParams:d("PolarisCreationMediaHelpers").getVideoEditParams({cropRatio:c("nullthrows")(e.cropRatio),mute:g.audio==="off",panningOffsetRatioX:g.panningOffsetRatioX,panningOffsetRatioY:g.panningOffsetRatioY,trimEnd:g==null?void 0:(o=g.trim)==null?void 0:o.end,trimStart:g==null?void 0:(o=g.trim)==null?void 0:o.start,videoHeight:c("nullthrows")(g==null?void 0:(o=g.video)==null?void 0:o.height),videoWidth:c("nullthrows")(g==null?void 0:(o=g.video)==null?void 0:o.width)})}))}else(g==null?void 0:g.audio)===d("PolarisCreationV2State").AUDIO_STATUS.off?m=(yield d("PolarisCreationV2Actions").stageVideo({id:a,isSidecar:l,onUploadProgress:n,sessionId:e.sessionId,sourceCoverPhotoFile:j,sourceVideoFile:c("nullthrows")(i),videoEditParams:{mute:(g==null?void 0:g.audio)===d("PolarisCreationV2State").AUDIO_STATUS.off}})):m=(yield d("PolarisCreationV2Actions").stageVideo({id:a,isSidecar:l,onUploadProgress:n,sessionId:e.sessionId,sourceCoverPhotoFile:j,sourceVideoFile:c("nullthrows")(i)}))}return f(m)});return function(b){return a.apply(this,arguments)}}());return yield (h||(h=b("Promise"))).all(a)["catch"](function(a){if(a instanceof d("PolarisCreationError").CreationError){var b=d("PolarisCreationErrorHelpers").getCreationErrorPageForError(a);i(b)}else throw a})});function g(){return a.apply(this,arguments)}return g}(),a[0]=e,a[1]=f,a[2]=i,a[3]=g):g=a[3];a=g;return a}g["default"]=a}),98);
__d("PolarisCreationModalEditPage.react",["cx","IGDSBox.react","PolarisCreationConstants","PolarisCreationMediaPreviewV2.react","PolarisCreationModalBodyV2.react","PolarisCreationModalEditPageAdjustmentTab.react","PolarisCreationModalEditPageFilterTab.react","PolarisCreationModalEditPageVideoSettingsTab.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationV2Shell.react","PolarisCreationV2Strings","PolarisFilteredCanvas.react","PolarisIGCoreTabV2.react","PolarisIGCoreTabsV2.react","PolarisIGTheme.react","asyncToGeneratorRuntime","nullthrows","promiseDone","react","usePolarisCreationCurrentMedia","usePolarisCreationFilter","usePolarisCreationMonetization","usePolarisCreationUploadAllMedia","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useRef,n=e.useState,o=e.unstable_useMemoCache;function p(){var a=o(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"auto",position:"relative",children:j.jsx(c("PolarisCreationModalEditPageVideoSettingsTab.react"),{})}),a[0]=b):b=a[0];return b}function q(a){var b=o(17),e=a.adjustmentParams,f=a.filterName,g=a.filterStrength,h=a.onAdjustmentStrengthChange,i=a.onAdjustmentStrengthSet,k=a.onFilterClick,l=a.onFilterStrengthChange;a=a.onFilterStrengthSet;var m=d("PolarisIGTheme.react").isDarkMode()?"dark":"default",n;b[0]!==g||b[1]!==k||b[2]!==l||b[3]!==a||b[4]!==f?(n=j.jsx(c("PolarisCreationModalEditPageFilterTab.react"),{color:m,filterStrength:g,onFilterClick:k,onFilterStrengthChange:l,onFilterStrengthSet:a,selectedFilterName:f}),b[0]=g,b[1]=k,b[2]=l,b[3]=a,b[4]=f,b[5]=n):n=b[5];b[6]!==n?(g=j.jsx(c("PolarisIGCoreTabV2.react"),{node:n,children:d("PolarisCreationV2Strings").FILTER_TAB}),b[6]=n,b[7]=g):g=b[7];b[8]!==e||b[9]!==h||b[10]!==i?(k=j.jsx(c("PolarisCreationModalEditPageAdjustmentTab.react"),{adjustmentParams:e,color:m,onAdjustmentStrengthChange:h,onAdjustmentStrengthSet:i}),b[8]=e,b[9]=h,b[10]=i,b[11]=k):k=b[11];b[12]!==k?(l=j.jsx(c("PolarisIGCoreTabV2.react"),{node:k,children:d("PolarisCreationV2Strings").EDIT_TAB}),b[12]=k,b[13]=l):l=b[13];b[14]!==g||b[15]!==l?(a=j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsxs(c("PolarisIGCoreTabsV2.react"),{children:[g,l]})}),b[14]=g,b[15]=l,b[16]=a):a=b[16];return a}function a(a){var e=a.modalTitle,f=a.onRender;l(function(){f!=null&&f()},[f]);var g=m(null);a=m();var h=d("PolarisCreationStepProvider.react").useCreationStep(),i=h.handleNextStep;h=c("usePolarisCreationFilter")();var o=h.filterAllMedia,r=h.saveFilterBlob,s=h.setMediaAdjustment,t=h.setMediaFilter,u=c("usePolarisCreationUploadAllMedia")();h=c("usePolarisCreationCurrentMedia")();var v=h.currentMedia,w=h.currentMediaAdjustmentParams,x=h.currentMediaFilter,y=h.currentMediaFilterStrength,z=h.currentMediaId;h=h.currentMediaItem;var A=n(!1),B=A[0],C=A[1];A=n(y);var D=A[0],E=A[1];y=n(new Map());var F=y[0],G=y[1];function H(a,b){F.has(z)||G(F.set(z,new Map()));var c=F.get(z);c==null?void 0:c.set(a,b)}var I=k(function(a){var b=F.get(z);a=(b=b==null?void 0:b.get(a))!=null?b:d("PolarisCreationConstants").INIT_FILTER_STRENGTH;E(a)},[z,F]);A=k(function(a,b){var c;s(babelHelpers["extends"]({},w,(c={},c[a]=b,c)))},[w,s]);function J(){return K.apply(this,arguments)}function K(){K=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){v.type==="image"&&(yield r(z,c("nullthrows")(g.current))),yield o(),i(),yield u()});return K.apply(this,arguments)}c("usePolarisCreationMonetization")();var L=c("usePrevious")({canvas:g.current,mediaId:z});l(function(){if(z===(L==null?void 0:L.mediaId))return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){(L==null?void 0:L.mediaId)!=null&&(L==null?void 0:L.canvas)!=null&&(yield r(L.mediaId,L.canvas)),I(x)})())},[z,x,L==null?void 0:L.canvas,L==null?void 0:L.mediaId,r,I]);function M(a,b){if(a===b)return;H(b,D);I(a);t(a,D)}return v==null||h==null?null:j.jsxs(c("PolarisCreationV2Shell.react"),{children:[j.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{ctaTestId:"creation-modal-edit-cta",modalTitle:e,onCta:J}),j.jsx(c("PolarisCreationModalBodyV2.react"),{"data-testid":void 0,mainContent:v.type==="image"?j.jsx("div",{className:"_abgf",onMouseDown:function(){return C(!0)},onMouseUp:function(){return C(!1)},role:"img",children:j.jsx(c("PolarisFilteredCanvas.react"),{adjustmentParams:B?d("PolarisCreationConstants").INIT_ADJUSTMENT_PARAMS:w,filter:B?d("PolarisCreationConstants").INIT_FILTER_NAME:x,filterStrength:(B?d("PolarisCreationConstants").INIT_FILTER_STRENGTH:D)/100,parentRef:a,ref:g,src:c("nullthrows")(v.croppedCanvas)},c("nullthrows")(h.dataURL))}):j.jsx(c("PolarisCreationMediaPreviewV2.react"),{previewType:"videoplayer"}),settingsColumnContent:v.type==="image"?j.jsx(q,{adjustmentParams:w,filterName:x,filterStrength:D,onAdjustmentStrengthChange:function(a,b){var c;s(babelHelpers["extends"]({},w,(c={},c[a]=b,c)))},onAdjustmentStrengthSet:A,onFilterClick:M,onFilterStrengthChange:function(a){E(a)},onFilterStrengthSet:function(a){H(x,a),t(x,a)}}):j.jsx(p,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramActionUpdateProfileFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5943");b=d("FalcoLoggerInternal").create("instagram_action_update_profile",a);e=b;g["default"]=e}),98);
__d("deepMapEqual",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){if(a===b)return!0;if(a==null||b==null)return!1;if(a.size!==b.size)return!1;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];f=b.get(f);if(e instanceof Map&&f instanceof Map){if(!g(e,f))return!1}else if(e!==f)return!1}return!0}f["default"]=g}),66);
__d("PolarisPostActionEditPost",["InstagramActionUpdateProfileFalcoEvent","PolarisConfig","PolarisGenericStrings","PolarisInstapi","PolarisToastActions","deepMapEqual","polarisPostSelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){return function(j,k){var l;j({editedObj:b,postId:a,type:"EDIT_POST_REQUESTED"});k=k();k=d("polarisPostSelectors").getPostById(k,a);var m=((l=k.owner)==null?void 0:l.id)!=null?(l=k.owner)==null?void 0:l.id:"";k={};b.caption!==e.caption&&(k.caption_text=b.caption);l=e.location!==b.location;if(l){k.location=JSON.stringify({facebook_places_id:(l=b.location)==null?void 0:l.external_id,lat:(l=b.location)==null?void 0:l.lat,lng:(l=b.location)==null?void 0:l.lng,name:(l=b.location)==null?void 0:l.name})}if(!c("deepMapEqual")(b.altTextMap,e.altTextMap)){l=b.altTextMap;if(l!=null){var n=l.keys();n=n?n.next().value:"";n=n!=null?l.get(n):"";if(!g)k.custom_accessibility_caption=n;else{var o={};l.forEach(function(a,c){var d;if(((d=b.childrenMediaIdsToDelete)==null?void 0:d.includes(c))===!1){d=c+"_"+m;o[d]=a!=null?a:""}});k.children_custom_accessibility_caption=o}}}n=b.childrenMediaIdsToDelete;n!=null&&n.length>0&&(k.carousel_children_media_ids_to_delete=n);l=b.userTags;var p=e.userTags;if(!c("deepMapEqual")(l,p))if(g===!1){var q=i(l,p,m),r=f+"_"+m;k.usertags=q[r]}else if(g){if(n&&n.length>0)for(q=n,r=Array.isArray(q),n=0,q=r?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(r){if(n>=q.length)break;s=q[n++]}else{n=q.next();if(n.done)break;s=n.value}s=s;if(l&&p){l.set(String(s),(s=p.get(String(s)))!=null?s:[])}}k.children_usertags=JSON.stringify(i(l,p,m))}return d("PolarisInstapi").apiPost("/api/v1/media/{media_id}/edit_media/",{body:k,path:{media_id:g?a:f}},{options:{dataType:"json"}}).then(function(){c("InstagramActionUpdateProfileFalcoEvent").log(function(){return{actor_id:d("PolarisConfig").getViewerIdOrZero(),media_id:a,media_owner_id:m,platform:"web"}}),j({postId:a,type:"EDIT_POST_SUCCEEDED"})})["catch"](function(){j({editedObj:e,postId:a,type:"EDIT_POST_FAILED"}),j(d("PolarisToastActions").showToast({actionHandler:function(){return j(h(a,b,e,f,g))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}function i(a,b,c){var d={};if(a!=null&&b!=null){var e=function(){var a;if(g){if(h>=f.length)return"break";i=f[h++]}else{h=f.next();if(h.done)return"break";i=h.value}var e=i,j=[],k=[],l=e[0];e=e[1];a=(a=b.get(l))!=null?a:[];var m=e.map(function(a){return String(a.userId)}),n=a.map(function(a){return String(a.userId)});j=m.filter(function(a){return!n.includes(a)});k=n.filter(function(a){return!m.includes(a)});a=((a=l)!=null?a:"")+"_"+((l=c)!=null?l:"");d[a]=JSON.stringify({added:j,"in":e.map(function(a){return{position:a.position.length===0?void 0:a.position,show_category_of_user:!1,user_id:String(a.userId)}}),removed:k})};for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;a=e();if(a==="break")break}}return d}g.editPost=h}),98);
__d("PolarisCreationModalEditPostInfoPage.react",["PolarisCreationModalBodyV2.react","PolarisCreationModalComposeSettingsContent.react","PolarisCreationModalHeader.react","PolarisCreationTagImagePreview.react","PolarisCreationTagVideoPreview.react","PolarisCreationV2Shell.react","PolarisPostActionEditPost","PolarisReactRedux.react","polarisUnexpected","react","usePolarisCreationCurrentMedia","usePolarisCreationSelectMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function k(a,b){var c=new Map();a.forEach(function(a){var d=b.get(a);d=(d=d==null?void 0:d.altText)!=null?d:"";c.set(a,d)});return c}function l(a,b){var c=new Map();a.forEach(function(a){var d=b.get(a);if(d!=null){d=Array.from(d.tags.values());c.set(a,d)}});return c}function a(a){var b,e=a.editPostInfo,f=d("usePolarisCreationState").useCreationState();a=c("usePolarisCreationCurrentMedia")();var g=a.currentMedia,h=a.currentMediaId,m=g.uploadId;a=c("usePolarisCreationSelectMedia")();var n=a.removeMedia,o=d("PolarisReactRedux.react").useDispatch();a=j([]);var p=a[0],q=a[1];a=function(a){q(p.concat(a)),n(a)};var r=function(){s!=null&&s()};if(e==null){c("polarisUnexpected")("edit post info should be passed to this page");return null}b=((b=g.filteredMedia)==null?void 0:b.dataURL)?g.filteredMedia.dataURL:"";var s=e.onClose,t=function(){var a=f.multiPostOrder.length>1,b=k(e.beginningState.multiPostOrder,e.beginningState.media),c=k(f.multiPostOrder,f.media),i=l(e.beginningState.multiPostOrder,e.beginningState.media),j=l(f.multiPostOrder,f.media);b={altTextMap:b,caption:e.beginningState.caption,location:e.beginningState.location,userTags:i};i={altTextMap:c,caption:f.caption,childrenMediaIdsToDelete:p,location:f.location,userTags:j};p.length>0&&o({carouselChildrenToDelete:p,postId:m,type:"DELETE_FROM_CAROUSEL_POST"});o(d("PolarisPostActionEditPost").editPost(g.uploadId!=null?g.uploadId:"",i,b,h,a));r()};return i.jsxs(c("PolarisCreationV2Shell.react"),{children:[i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{onClose:s,onCta:t}),i.jsx(c("PolarisCreationModalBodyV2.react"),{mainContent:g.type==="image"?i.jsx(c("PolarisCreationTagImagePreview.react"),{id:h,onDelete:a,src:b},h):i.jsx(c("PolarisCreationTagVideoPreview.react"),{onDelete:a}),settingsColumnContent:i.jsx(c("PolarisCreationModalComposeSettingsContent.react"),{hideAdvancedSettings:!0})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationModalErrorPage.react",["IGDSBox.react","IGDSErrorOutlineV2Icon.react","InstagramODS","PolarisCreationModalBodyV2.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationV2Shell.react","PolarisCreationV2Strings","PolarisGenericNullStateView.react","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisUA","asyncToGeneratorRuntime","react","usePolarisCreationState","usePolarisCreationUploadAllMedia"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(){var a=i(16),e=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g()});function a(){return c.apply(this,arguments)}return a}(),f=d("usePolarisCreationState").useCreationState(),g=c("usePolarisCreationUploadAllMedia")(),h=d("PolarisCreationStepProvider.react").useCreationStep(),k=h.handleTryAgain;h=function(){d("PolarisUA").isDesktop()&&(c("InstagramODS").incr("web.creation.try_again.v2"),e(),k(),f.errorPage=null)};if(a[0]!==f.errorPage){var l;l=(l=f.errorPage)==null?void 0:l.body;a[0]=f.errorPage;a[1]=l}else l=a[1];if(a[2]!==f.errorPage){var m;m=(m=(m=f.errorPage)==null?void 0:m.header)!=null?m:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE;a[2]=f.errorPage;a[3]=m}else m=a[3];var n;if(a[4]!==f.errorPage||a[5]!==h){var o;n=j.jsx(c("IGDSErrorOutlineV2Icon.react"),{alt:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,size:96});o=((o=f.errorPage)==null?void 0:o.primaryActionName)===d("PolarisCreationV2Strings").TRY_AGAIN_CTA_TEXT?h:(o=f.errorPage)==null?void 0:o.primaryAction;a[4]=f.errorPage;a[5]=h;a[6]=n;a[7]=o}else n=a[6],o=a[7];if(a[8]!==f.errorPage){h=(h=f.errorPage)==null?void 0:h.primaryActionName;a[8]=f.errorPage;a[9]=h}else h=a[9];var p;a[10]!==l||a[11]!==m||a[12]!==n||a[13]!==o||a[14]!==h?(p=j.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:j.jsx(c("PolarisGenericNullStateView.react"),{body:l,header:m,icon:n,primaryAction:o,primaryActionName:h})}),a[10]=l,a[11]=m,a[12]=n,a[13]=o,a[14]=h,a[15]=p):p=a[15];return p}function l(){var a=i(2);if(d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()){var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("PolarisCreationModalBodyV2.react"),{children:j.jsx(k,{})}),a[0]=b):b=a[0];return b}a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(k,{}),a[1]=b):b=a[1];return b}function a(){var a=i(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("PolarisCreationV2Shell.react"),{children:[b,j.jsx(l,{})]}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("usePolarisCreationConfigureAllMedia",["invariant","PolarisCreationAPI","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationV2ActionTypes","PolarisCreationV2State","PolarisUploadLogger","asyncToGeneratorRuntime","nullthrows","polarisUnexpected","polarisWithExponentialBackoff","usePolarisCreationDispatch","usePolarisCreationErrorPage","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i={currentRetryInMs:3e3,maxRetryInMs:64e4,onStatusCode:function(a){return a!==202}};function j(a,b){var c=new Map();a.forEach(function(a){a=b.get(a);var d=a==null?void 0:a.altText;a=a==null?void 0:a.uploadId;a!=null&&c.set(a,d)});return c.size>0?c:null}function k(a){var b,d=new Set([]);a.media.forEach(function(a){d.add(a.type)});d.has("image")&&d.has("video")?b="mix":d.has("image")?b="photo":b="video";return c("PolarisUploadLogger").fromLoggingData({ingestSurface:b==="video"?"unified_video":"feed",isCarouselItem:a.multiPostOrder.length>1,mediaType:b,sessionId:a.sessionId})}function a(){var a=d("usePolarisCreationState").useCreationState(),e=d("usePolarisCreationDispatch").useCreationDispatch(),f=c("usePolarisCreationErrorPage")(),g=f.setSelectErrorPage;function l(){var b=a.multiPostOrder.some(function(b){b=a.media.get(b);return(b==null?void 0:b.uploadId)==null});return b!==!0}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=l();b||h(0,51549);var f=k(a);f.logPublishInvoke();if(a.multiPostOrder.length===1){b=a.multiPostOrder[0];var g=c("nullthrows")(a.media.get(b)),m=g.trim?g.trim.end-g.trim.start:(b=g.video)==null?void 0:b.videoDurationMs;try{b=(yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){var b;return d("PolarisCreationAPI").configure({archiveOnly:a.archiveOnly,caption:a.caption,customAccessibilityCaption:g.altText,disableComments:a.advancedSettings.hasCommentsDisabled,disableLikeViewCounts:a.advancedSettings.hasLikeViewCountsDisabled,disableOaReuse:a.advancedSettings.hasAudioReuseDisabled,enableVideoAds:a.advancedSettings.hasAdsEnabled,geoTag:a.location,isMetaOnlyPost:a.advancedSettings.hasInternalOnlyEnabled,trimmedVideoDuration:m,type:g.type,upcomingEventId:(b=a.upcomingEvent)==null?void 0:b.eventId,uploadId:c("nullthrows")(g==null?void 0:g.uploadId),usertags:Array.from(g.tags.values()),videoSubtitlesEnabled:a.advancedSettings.hasVideoSubtitlesEnabled&&g.audio===d("PolarisCreationV2State").AUDIO_STATUS.on})},i).then(function(a){f.logPublishSuccess();return a})["catch"](function(a){f.logPublishFailure();throw a}));e({isPosted:!0,postedMedia:b.media,shortcode:(b=b.media)==null?void 0:b.code,type:d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED})}catch(a){e({isPosted:!1,type:d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED});throw d("PolarisCreationError").CreationError.uploadError(a)}}else if(a.multiPostOrder.length>1){var n=new Map();a.media.forEach(function(a){n.set(c("nullthrows")(a.uploadId),Array.from(a.tags.values()))});var o=a.multiPostOrder.map(function(b){return c("nullthrows")((b=a.media.get(b))==null?void 0:b.uploadId)});try{b=(yield d("polarisWithExponentialBackoff").withExponentialBackoff(function(){return d("PolarisCreationAPI").configureSidecar({archiveOnly:a.archiveOnly,caption:a.caption,customAccessibilityCaptionMap:j(a.multiPostOrder,a.media),disableComments:a.advancedSettings.hasCommentsDisabled,disableLikeViewCounts:a.advancedSettings.hasLikeViewCountsDisabled,geoTag:a.location,isMetaOnlyPost:a.advancedSettings.hasInternalOnlyEnabled,uploadIds:o,usertagMap:n})},i).then(function(a){f.logPublishSuccess();return a})["catch"](function(a){f.logPublishFailure();throw a}));e({isPosted:!0,postedMedia:b.media,shortcode:(b=b.media)==null?void 0:b.code,type:d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED})}catch(a){e({isPosted:!1,type:d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED});throw d("PolarisCreationError").CreationError.uploadError(a)}}else c("polarisUnexpected")("No media present in multiPostOrder")});return n.apply(this,arguments)}return function(){return m()["catch"](function(a){if(a instanceof d("PolarisCreationError").CreationError){var b=d("PolarisCreationErrorHelpers").getCreationErrorPageForError(a);g(b)}else throw a})}}g.publishLoggerFromState=k;g.useCreationConfigureAllMedia=a}),98);
__d("PolarisCreationModalPublishPage.react",["ix","IGCoreImage.react","IGDSBox.react","IGDSText.react","PolarisCreationModalBodyV2.react","PolarisCreationModalHeader.react","PolarisCreationStepProvider.react","PolarisCreationStrings","PolarisCreationTypes","PolarisCreationV2Shell.react","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisIGAnimate","polarisVideoMergeUtils","react","react-spring-wwwig","usePolarisCreationConfigureAllMedia","usePolarisCreationCurrentMedia","usePolarisCreationErrorPage","usePolarisCreationSelectMedia","usePolarisCreationState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function l(){return j.jsx(c("IGDSBox.react"),{height:96,position:"relative",width:96,children:j.jsx(c("IGCoreImage.react"),{alt:d("PolarisCreationStrings").UPLOAD_SPINNER_ALT,"data-testid":void 0,objectFit:"cover",src:{dark:h("222562"),light:h("212909")}})})}l.displayName=l.name+" [from "+f.id+"]";function m(){var a=d("PolarisCreationStepProvider.react").useCreationStep();a=a.step;a=a===d("PolarisCreationTypes").STEP.done;var b=d("react-spring-wwwig").useSpring({opacity:a?1:0}),e=d("react-spring-wwwig").useSpring({marginBottom:a?16:0}),f=c("usePolarisCreationCurrentMedia")();f=f.currentMedia;f=d("polarisVideoMergeUtils").isMediaEligibleForVideoMerge(f)&&d("polarisVideoMergeUtils").eligibleForVideoMerge();return j.jsx(c("IGDSBox.react"),{alignItems:"center",flex:"grow",justifyContent:"center",position:"relative",width:"100%",children:a?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{height:96,position:"relative",width:96,children:j.jsx(c("IGCoreImage.react"),{alt:d("PolarisCreationStrings").UPLOAD_LOADING_ALT,"data-testid":void 0,objectFit:"cover",src:{dark:h("222561"),light:h("212908")}})}),j.jsx(d("PolarisIGAnimate").Animated.div,{style:babelHelpers["extends"]({},e,{marginTop:16}),children:j.jsx(d("PolarisIGAnimate").Animated.div,{style:b,children:j.jsx(c("IGDSText.react").Title,{textAlign:"center",children:f?d("PolarisCreationV2Strings").REEL_UPLOADED_TEXT:d("PolarisCreationV2Strings").POST_UPLOADED_TEXT})})})]}):j.jsx(l,{})})}m.displayName=m.name+" [from "+f.id+"]";function n(){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?j.jsx(c("PolarisCreationModalBodyV2.react"),{"data-testid":void 0,children:j.jsx(m,{})}):j.jsx(m,{})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.modalTitle,e=a.onPublishError,f=a.onPublishSuccess,g=d("usePolarisCreationState").useCreationState();a=d("PolarisCreationStepProvider.react").useCreationStep();var h=a.handlePublishSuccess,i=a.handleStartOver,l=d("usePolarisCreationConfigureAllMedia").useCreationConfigureAllMedia();a=c("usePolarisCreationErrorPage")();var m=a.navigateToErrorPage,o=a.setSelectErrorPage;a=c("usePolarisCreationSelectMedia")();var p=a.clearAllMedia,q=g.multiPostOrder.every(function(a){return((a=g.media.get(a))==null?void 0:a.uploadId)!=null});k(function(){var a=g.errorPage;a!=null&&(e!=null&&e(a.title.toString()),a.body==null?m(a):(p(),o(a),i()))},[p,m,i,o,g.errorPage,e,g.errorMessage]);k(function(){q&&l()},[q]);k(function(){if(g.isPosted)if(f!=null){var a;if(((a=g.postedMedia)==null?void 0:a.pk)==null)e&&e("Posted media is empty"),m(g.errorPage);else{f((a=g.postedMedia)==null?void 0:a.pk)}}else h()},[h,m,e,f,g.errorPage,g.isPosted,(a=g.postedMedia)==null?void 0:a.pk]);a=c("usePolarisCreationCurrentMedia")();a=a.currentMedia;a=d("polarisVideoMergeUtils").isMediaEligibleForVideoMerge(a)&&d("polarisVideoMergeUtils").eligibleForVideoMerge();return j.jsxs(c("PolarisCreationV2Shell.react"),{children:[j.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{modalTitle:b,showReelCreationHeader:a}),j.jsx(n,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisCreationLoadingBar.react",["PolarisLoadingBar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={root:{position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){var b=i(1);a=a.isLoading;if(a===!1)return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("PolarisLoadingBar.react"),{xstyle:k.root}),b[0]=a):a=b[0];return a}g["default"]=a}),98);
__d("PolarisCreationModalSelectPrefilledPage.react",["PolarisCreationModalBodyPlaceholder.react","promiseDone","react","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.unstable_useMemoCache;function a(a){var b=l(5),e=a.onFileSelect,f=k(!1);a=d("usePolarisCreationState").useCreationState();var g=a.preselectedFiles,h;b[0]!==e||b[1]!==g?(a=function(){var a;if(f.current)return;f.current=!0;c("promiseDone")(e((a=g)!=null?a:[]))},h=[e,g],b[0]=e,b[1]=g,b[2]=a,b[3]=h):(a=b[2],h=b[3]);j(a,h);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("PolarisCreationModalBodyPlaceholder.react"),{}),b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("PolarisGenericDropzone.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.unstable_useMemoCache;function a(a){var b=k(15),c=a.children,d=a.onDrag,e=a.onFilesSelect;b[0]!==d?(a=function(a){a.preventDefault(),d!=null&&d(!0)},b[0]=d,b[1]=a):a=b[1];var f=a;b[2]!==d?(a=function(a){a.preventDefault(),d!=null&&d(!1)},b[2]=d,b[3]=a):a=b[3];var g=a,h;b[4]!==f||b[5]!==g?(a=function(){document.addEventListener("dragover",f);document.addEventListener("dragleave",g);return function(){document.removeEventListener("dragover",f),document.addEventListener("dragleave",g)}},h=[g,f],b[4]=f,b[5]=g,b[6]=a,b[7]=h):(a=b[6],h=b[7]);j(a,h);b[8]!==e?(a=function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;b!=null&&e(b);a.preventDefault()},b[8]=e,b[9]=a):a=b[9];var l=a;b[10]!==l?(h=function(){document.addEventListener("drop",l);return function(){document.removeEventListener("drop",l)}},a=[l],b[10]=l,b[11]=h,b[12]=a):(h=b[11],a=b[12]);j(h,a);b[13]!==c?(h=i.jsx(i.Fragment,{children:c}),b[13]=c,b[14]=h):h=b[14];return h}g["default"]=a}),98);
__d("PolarisCreationModalSelectBody.react",["IGDSBox.react","IGDSErrorOutlineV2Icon.react","IGDSIlloWebUploadIcon.react","PolarisCreationCameraLogger","PolarisCreationError","PolarisCreationErrorHelpers","PolarisCreationLoadingBar.react","PolarisCreationLoggerHooks","PolarisCreationModalSelectPrefilledPage.react","PolarisCreationStepProvider.react","PolarisCreationTypes","PolarisCreationV2Strings","PolarisGenericDropzone.react","PolarisGenericNullStateView.react","PolarisHasFeedCreationV2Dogfooding","PolarisImageFileForm.react","PolarisUA","asyncToGeneratorRuntime","nullthrows","react","usePolarisCreationErrorPage","usePolarisCreationSelectMedia","usePolarisCreationState","usePolarisCreationToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useCallback;var j=e.useRef,k=e.useState,l=e.unstable_useMemoCache;function m(a){return d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?a?d("PolarisCreationV2Strings").SELECT_OTHER_TEXT:d("PolarisUA").isTouchDevice()?d("PolarisCreationV2Strings").SELECT_FROM_DEVICE_TEXT:d("PolarisCreationV2Strings").SELECT_TEXT:d("PolarisCreationV2Strings").SELECT_TEXT}function a(a){var e=l(36),f=a.acceptMimeTypes,g=a.body;a=a.header;var h=j(null),o=c("usePolarisCreationSelectMedia")(),p=o.selectMediaFiles;o=d("PolarisCreationStepProvider.react").useCreationStep();var q=o.handleNextStep;o=c("usePolarisCreationToast")();var r=o.setErrorMessage;o=d("usePolarisCreationState").useCreationState();var s=o.errorPage,t=o.preselectedFiles,u=o.sessionId;o=c("usePolarisCreationErrorPage")();var v=o.setSelectErrorPage;o=k(!1);var w=o[0],x=o[1];o=k(!1);var y=o[0],z=o[1];o=s!=null;t=t!=null&&t.length>0&&!o;d("PolarisCreationLoggerHooks").useCreationStartGallerySessionLogger();var A=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=function(){q(),d("PolarisCreationCameraLogger").logFeedCreationCameraEndGallerySession({sessionId:u}),v(null)};x(!0);try{yield p(a),b()}catch(g){var c=g;x(!1);if(c instanceof d("PolarisCreationError").CreationError){var e=d("PolarisCreationErrorHelpers").getCreationErrorPageForError(c),f=d("PolarisCreationErrorHelpers").getCreationErrorToastForError(c);e?v(e):f?(c.type===d("PolarisCreationError").CreationErrorType.MAX_MEDIA_ADDED&&b(),r(f.message)):r(a.length>1?d("PolarisCreationV2Strings").MULTIPLE_FILE_UPLOAD_ERROR:d("PolarisCreationV2Strings").SINGLE_FILE_UPLOAD_ERROR)}else throw c}});return function(b){return a.apply(this,arguments)}}(),B;e[0]!==h?(B=function(){var a=h==null?void 0:h.current;a!=null&&a.selectFile()},e[0]=h,e[1]=B):B=e[1];B=B;var C=d("PolarisUA").isTouchDevice()&&d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding();if(t)return i.jsx(c("PolarisCreationModalSelectPrefilledPage.react"),{onFileSelect:A});e[2]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(a){return z(a)},e[2]=t):t=e[2];var D;e[3]!==w?(D=i.jsx(c("PolarisCreationLoadingBar.react"),{isLoading:w}),e[3]=w,e[4]=D):D=e[4];w=y?"secondaryBackground":void 0;g=o?s==null?void 0:s.body:g!=null?g:void 0;C=n(o,s==null?void 0:s.header,C,a);e[5]!==o||e[6]!==y?(a=o?i.jsx(c("IGDSErrorOutlineV2Icon.react"),{alt:d("PolarisCreationV2Strings").MEDIA_OUTLINE_ALT,size:96}):i.jsx(c("IGDSIlloWebUploadIcon.react"),{alt:d("PolarisCreationV2Strings").MEDIA_OUTLINE_ALT,color:y?"ig-primary-button":"ig-primary-text",size:96}),e[5]=o,e[6]=y,e[7]=a):a=e[7];e[8]!==o?(y=m(o),e[8]=o,e[9]=y):y=e[9];var E;e[10]!==o||e[11]!==s?(E=o?s==null?void 0:s.secondaryAction:void 0,e[10]=o,e[11]=s,e[12]=E):E=e[12];var F;e[13]!==o||e[14]!==s?(F=o?s==null?void 0:s.secondaryActionName:void 0,e[13]=o,e[14]=s,e[15]=F):F=e[15];e[16]!==w||e[17]!==g||e[18]!==C||e[19]!==a||e[20]!==B||e[21]!==y||e[22]!==E||e[23]!==F?(o=i.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:i.jsx(c("PolarisGenericNullStateView.react"),{backgroundColor:w,body:g,header:C,icon:a,primaryAction:B,primaryActionName:y,primaryButtonTestId:"creation-modal-select-cta",secondaryAction:E,secondaryActionName:F})}),e[16]=w,e[17]=g,e[18]=C,e[19]=a,e[20]=B,e[21]=y,e[22]=E,e[23]=F,e[24]=o):o=e[24];if(e[25]!==f){w=(s=f)!=null?s:Object.keys(d("PolarisCreationTypes").CREATION_MIME_TYPES);e[25]=f;e[26]=w}else w=e[26];e[27]!==w||e[28]!==A||e[29]!==h?(g=i.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:w,capture:!1,multiple:!0,onFileChange:A,ref:h}),e[27]=w,e[28]=A,e[29]=h,e[30]=g):g=e[30];e[31]!==A||e[32]!==D||e[33]!==o||e[34]!==g?(C=i.jsxs(c("PolarisGenericDropzone.react"),{onDrag:t,onFilesSelect:A,children:[D,o,g]}),e[31]=A,e[32]=D,e[33]=o,e[34]=g,e[35]=C):C=e[35];return C}function n(a,b,e,f){if(a)return c("nullthrows")(b);if(f!=null)return f;else if(e)return d("PolarisCreationV2Strings").ADD_MEDIA_TITLE;return d("PolarisCreationV2Strings").DRAG_AND_DROP_TITLE}g["default"]=a}),98);
__d("PolarisCreationModalSelectPage.react",["PolarisCreationLoggerHooks","PolarisCreationModalBodyV2.react","PolarisCreationModalHeader.react","PolarisCreationModalSelectBody.react","PolarisCreationV2Actions","PolarisCreationV2Shell.react","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.unstable_useMemoCache;function a(a){var b=k(15),e=a.acceptMimeTypes,f=a.body,g=a.header,h=a.modalTitle,l=a.onRender,m;b[0]!==l?(a=function(){l!=null&&l()},m=[l],b[0]=l,b[1]=a,b[2]=m):(a=b[1],m=b[2]);j(a,m);var n=d("usePolarisCreationDispatch").useCreationDispatch();d("PolarisCreationLoggerHooks").useCreationStartCameraSessionLogger();b[3]!==n?(a=function(){n(d("PolarisCreationV2Actions").creationSessionStarted())},m=[n],b[3]=n,b[4]=a,b[5]=m):(a=b[4],m=b[5]);j(a,m);b[6]!==h?(a=i.jsx(d("PolarisCreationModalHeader.react").CreationModalHeader,{modalTitle:h}),b[6]=h,b[7]=a):a=b[7];b[8]!==e||b[9]!==f||b[10]!==g?(m=i.jsx(c("PolarisCreationModalBodyV2.react"),{"data-testid":void 0,children:i.jsx(c("PolarisCreationModalSelectBody.react"),{acceptMimeTypes:e,body:f,header:g})}),b[8]=e,b[9]=f,b[10]=g,b[11]=m):m=b[11];b[12]!==a||b[13]!==m?(h=i.jsxs(c("PolarisCreationV2Shell.react"),{children:[a,m]}),b[12]=a,b[13]=m,b[14]=h):h=b[14];return h}g["default"]=a}),98);
__d("PolarisCreationModuleHelpers.react",["PolarisCreationModalComposePage.react","PolarisCreationModalCropPage.react","PolarisCreationModalEditPage.react","PolarisCreationModalEditPostInfoPage.react","PolarisCreationModalErrorPage.react","PolarisCreationModalPublishPage.react","PolarisCreationModalSelectPage.react","PolarisCreationTypes","cr:6065","polarisUnexpected","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,e,f){var g=function(){c("polarisUnexpected")("unsupported creation step");return i.jsx(c("PolarisCreationModalSelectPage.react"),{})};switch(a){case d("PolarisCreationTypes").STEP.select:return i.jsx(c("PolarisCreationModalSelectPage.react"),{acceptMimeTypes:f==null?void 0:(a=f.selectPage)==null?void 0:a.acceptMimeTypes,body:f==null?void 0:(a=f.selectPage)==null?void 0:a.body,header:f==null?void 0:(a=f.selectPage)==null?void 0:a.header,modalTitle:f==null?void 0:f.modalTitle,onRender:f==null?void 0:(a=f.selectPage)==null?void 0:a.onRender});case d("PolarisCreationTypes").STEP.generate:return b("cr:6065")==null?g():i.jsx(b("cr:6065"),{});case d("PolarisCreationTypes").STEP.crop:return i.jsx(c("PolarisCreationModalCropPage.react"),{modalTitle:f==null?void 0:f.modalTitle,onRender:f==null?void 0:(a=f.cropPage)==null?void 0:a.onRender});case d("PolarisCreationTypes").STEP.edit:return i.jsx(c("PolarisCreationModalEditPage.react"),{modalTitle:f==null?void 0:f.modalTitle,onRender:f==null?void 0:(a=f.editPage)==null?void 0:a.onRender});case d("PolarisCreationTypes").STEP.compose:return i.jsx(c("PolarisCreationModalComposePage.react"),{disclaimerText:f==null?void 0:(a=f.composePage)==null?void 0:a.disclaimerText,hideAccessibilitySettings:f==null?void 0:(a=f.composePage)==null?void 0:a.hideAccessibilitySettings,hideAdvancedSettings:f==null?void 0:(a=f.composePage)==null?void 0:a.hideAdvancedSettings,hideLocationSettings:f==null?void 0:(a=f.composePage)==null?void 0:a.hideLocationSettings,hideTagPreview:f==null?void 0:(a=f.composePage)==null?void 0:a.hideTagPreview,modalHeaderEndAdornmentText:f==null?void 0:(a=f.composePage)==null?void 0:a.modalHeaderEndAdornmentText,modalTitle:f==null?void 0:f.modalTitle,onRender:f==null?void 0:(a=f.composePage)==null?void 0:a.onRender,publishToArchiveOnly:f==null?void 0:(a=f.composePage)==null?void 0:a.publishToArchiveOnly,showCaptionAtBottom:f==null?void 0:(a=f.composePage)==null?void 0:a.showCaptionAtBottom,showCaptionErrorMessage:f==null?void 0:(a=f.composePage)==null?void 0:a.showCaptionErrorMessage});case d("PolarisCreationTypes").STEP.publish:return i.jsx(c("PolarisCreationModalPublishPage.react"),{modalTitle:f==null?void 0:f.modalTitle,onPublishError:f==null?void 0:(a=f.publishPage)==null?void 0:a.onPublishError,onPublishSuccess:f==null?void 0:(a=f.publishPage)==null?void 0:a.onPublishSuccess});case d("PolarisCreationTypes").STEP.done:return i.jsx(c("PolarisCreationModalPublishPage.react"),{});case d("PolarisCreationTypes").STEP.error:return i.jsx(c("PolarisCreationModalErrorPage.react"),{});case d("PolarisCreationTypes").STEP.editPostInfo:return i.jsx(c("PolarisCreationModalEditPostInfoPage.react"),{editPostInfo:e});default:return g()}}a.displayName=a.name+" [from "+f.id+"]";g.getCreationModule=a}),98);
__d("usePolarisCreationModalTimeSpent",["PolarisTimeSpentNavigation","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.unstable_useMemoCache,k="creationModal";function a(){var a=j(2),b,c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a,b=(a=d("PolarisTimeSpentNavigation").getPageInfo())==null?void 0:a.page;if(b==null)return function(){};d("PolarisTimeSpentNavigation").setPage(k);return function(){d("PolarisTimeSpentNavigation").setPage(b)}},c=[],a[0]=b,a[1]=c):(b=a[0],c=a[1]);i(b,c)}g["default"]=a}),98);
__d("polarisCreationV2Reducer",["invariant","PolarisCreationConstants","PolarisCreationCropHelpers","PolarisCreationV2ActionTypes","PolarisCreationV2State","areEqual","nullthrows","polarisCreationStateFactory"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=new Set(["cropRatio","panningOffsetRatioX","panningOffsetRatioY","scale","filters","coverPhoto","audio","adjustmentParams"]);function k(a,b){var c=a[0];c=b.media.get(c);return b.cropType===d("PolarisCreationV2State").CropTypes.ORIGINAL&&c!=null?d("PolarisCreationCropHelpers").getClosestValidAspectRatio(c.originalAspectRatio,c.type,a.length):b.cropRatio}function l(a,b){b.forEach(function(b){var c=a.get(b);(c==null?void 0:c.uploadId)!=null&&(c.uploadId=null,a.set(b,c))});return a}function a(a,b){switch(b.type){case d("PolarisCreationV2ActionTypes").CREATION_RESET_STATE:return d("polarisCreationStateFactory").defaultState;case d("PolarisCreationV2ActionTypes").CREATION_SESSION_STARTED:return babelHelpers["extends"]({},a,{sessionId:b.sessionId});case d("PolarisCreationV2ActionTypes").CREATION_SET_ARCHIVE_ONLY:return babelHelpers["extends"]({},a,{archiveOnly:b.archiveOnly});case d("PolarisCreationV2ActionTypes").CREATION_SET_CAPTION:return babelHelpers["extends"]({},a,{caption:b.caption});case d("PolarisCreationV2ActionTypes").CREATION_SET_ATTEMPTED_TO_POST_WITH_EMPTY_CAPTION:return babelHelpers["extends"]({},a,{hasAttemptedToPostWithEmpyCaption:b.hasAttemptedToPostWithEmpyCaption});case d("PolarisCreationV2ActionTypes").CREATION_SET_CROP_RATIO:return babelHelpers["extends"]({},a,{cropRatio:b.cropRatio,cropType:b.cropType});case d("PolarisCreationV2ActionTypes").CREATION_SET_CURRENT_ID:return babelHelpers["extends"]({},a,{currentMediaId:b.id});case d("PolarisCreationV2ActionTypes").CREATION_SET_LOCATION:return babelHelpers["extends"]({},a,{location:b.location});case d("PolarisCreationV2ActionTypes").CREATION_SET_IS_POSTED:return babelHelpers["extends"]({},a,{isPosted:b.isPosted,postedMedia:b.postedMedia,shortcode:b.shortcode});case d("PolarisCreationV2ActionTypes").CREATION_SET_COMMENTS_DISABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasCommentsDisabled:b.hasCommentsDisabled})});case d("PolarisCreationV2ActionTypes").CREATION_SET_AUDIO_REUSE_DISABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasAudioReuseDisabled:b.hasAudioReuseDisabled})});case d("PolarisCreationV2ActionTypes").CREATION_SET_LIKE_VIEW_COUNTS_DISABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasLikeViewCountsDisabled:b.hasLikeViewCountsDisabled})});case d("PolarisCreationV2ActionTypes").CREATION_INTERNAL_ONLY_ENABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasInternalOnlyEnabled:b.hasInternalOnlyEnabled})});case d("PolarisCreationV2ActionTypes").CREATION_SET_GENERATE_SUBTITLES_ENABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasVideoSubtitlesEnabled:b.hasVideoSubtitlesEnabled})});case d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_PHOTO_TOOLTIP:return babelHelpers["extends"]({},a,{hasViewedPhotoTooltip:b.hasViewedPhotoTooltip});case d("PolarisCreationV2ActionTypes").CREATION_SET_VIEWED_REORDER_TOOLTIP:return babelHelpers["extends"]({},a,{hasViewedReorderTooltip:b.hasViewedReorderTooltip});case d("PolarisCreationV2ActionTypes").CREATION_SET_MEDIA:var e;return babelHelpers["extends"]({},a,{currentMediaId:(e=a.currentMediaId)!=null?e:b.multiPostOrder[0],media:b.media,multiPostOrder:b.multiPostOrder});case d("PolarisCreationV2ActionTypes").CREATION_ADD_MEDIA:e=new Map([].concat(Array.from(a.media.entries()),Array.from(b.media.entries())));var f=Array.from(new Set([].concat(a.multiPostOrder,b.multiPostOrder)));a.multiPostOrder.length===1&&l(e,a.multiPostOrder);return babelHelpers["extends"]({},a,{media:e,multiPostOrder:f});case d("PolarisCreationV2ActionTypes").CREATION_REMOVE_MEDIA:e=b.mediaId;f=new Map(a.media);f["delete"](e);e=a.multiPostOrder.indexOf(e);e!==-1||h(0,51150);e=e===0?1:e-1;e=a.multiPostOrder[e];var g=a.multiPostOrder.filter(function(a){return a!==b.mediaId});a.multiPostOrder.length===2&&l(f,a.multiPostOrder);return babelHelpers["extends"]({},a,{cropRatio:k(g,a),currentMediaId:e,media:f,multiPostOrder:g});case d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_META:e=a.media;f=b.id;b.type;var m=babelHelpers.objectWithoutPropertiesLoose(b,["id","type"]),n=c("nullthrows")(e.get(f));g=babelHelpers["extends"]({},n,m);if(n.uploadId!=null){var o=Object.keys(m).some(function(a){return j.has(a)&&!(i||(i=c("areEqual")))(m[a],n[a])});o&&(g.uploadId=null)}o=e.set(f,g);return babelHelpers["extends"]({},a,{media:o});case d("PolarisCreationV2ActionTypes").CREATION_UPDATE_MEDIA_COVER_PHOTO:var p;e=b.id;f=b.selectedCoverPhoto;g=b.selectedCoverPhotoTime;o=a.media;var q=c("nullthrows")(o.get(e));if(((p=q.coverPhoto)==null?void 0:p.selectedCoverPhotoTime)===g)return babelHelpers["extends"]({},a);q=babelHelpers["extends"]({},q,{coverPhoto:{placeholders:(q=(p=q.coverPhoto)==null?void 0:p.placeholders)!=null?q:[],selectedCoverPhoto:f,selectedCoverPhotoTime:(p=g)!=null?p:d("PolarisCreationConstants").DEFAULT_VIDEO_COVER_TIME}});f=o.set(e,q);return babelHelpers["extends"]({},a,{media:f});case d("PolarisCreationV2ActionTypes").CREATION_ADD_USERTAG_TO_MEDIA:g=a.media;p=b.id;o=b.tag;e=b.userId;q=c("nullthrows")(g.get(p));f=q.tags.set(e,o);e=babelHelpers["extends"]({},q,{tags:f});o=g.set(p,e);return babelHelpers["extends"]({},a,{media:o});case d("PolarisCreationV2ActionTypes").CREATION_REMOVE_USERTAG_FROM_MEDIA:q=a.media;f=b.id;g=b.userId;p=c("nullthrows")(q.get(f));e=new Map(p.tags);e["delete"](g);o=babelHelpers["extends"]({},p,{tags:e});g=q.set(f,o);return babelHelpers["extends"]({},a,{media:g});case d("PolarisCreationV2ActionTypes").CREATION_SET_MULTI_POST_ORDER:p=b.multiPostOrder;return babelHelpers["extends"]({},a,{cropRatio:k(p,a),multiPostOrder:p});case d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_MESSAGE:e=b.errorMessage;return babelHelpers["extends"]({},a,{errorMessage:e});case d("PolarisCreationV2ActionTypes").CREATION_SET_ERROR_PAGE:q=b.errorPage;return babelHelpers["extends"]({},a,{errorPage:q});case d("PolarisCreationV2ActionTypes").CREATION_UPDATE_VIDEO_TRIM:f=b.end;o=b.id;g=b.start;p=a.media;e=c("nullthrows")(p.get(o));if(((q=e.trim)==null?void 0:q.end)===f&&((q=e.trim)==null?void 0:q.start)===g)return babelHelpers["extends"]({},a);q=babelHelpers["extends"]({},e,{trim:{end:f,start:g}});e=p.set(o,q);return babelHelpers["extends"]({},a,{media:e});case d("PolarisCreationV2ActionTypes").CREATION_SET_ELIGIBLE_UPCOMING_EVENTS:return babelHelpers["extends"]({},a,{eligibleUpcomingEvents:b.eligibleUpcomingEvents});case d("PolarisCreationV2ActionTypes").CREATION_SET_UPCOMING_EVENT:return babelHelpers["extends"]({},a,{upcomingEvent:b.upcomingEvent});case d("PolarisCreationV2ActionTypes").CREATION_SET_MONETIZATION_ELIGIBILITY:return babelHelpers["extends"]({},a,{monetizationEligibility:b.decisions});case d("PolarisCreationV2ActionTypes").CREATION_SET_ADS_ENABLED:return babelHelpers["extends"]({},a,{advancedSettings:babelHelpers["extends"]({},a.advancedSettings,{hasAdsEnabled:b.hasAdsEnabled})});default:return a}}g["default"]=a}),98);
__d("usePolarisCreationReducer",["polarisCreationStateFactory","polarisCreationV2Reducer","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useReducer;function a(a){a=a===void 0?d("polarisCreationStateFactory").defaultState:a;return i(c("polarisCreationV2Reducer"),a)}g["default"]=a}),98);
__d("PolarisCreationModalError.react",["fbt","IGCoreModal.react","IGDSAppInstagramPanoOutlineIcon.react","IGDSBox.react","IGDSErrorOutlineV2Icon.react","InstagramODS","PolarisCreationModalBodyV2.react","PolarisCreationStepProvider.react","PolarisCreationV2Strings","PolarisGenericNullStateView.react","PolarisGenericStrings","PolarisHasFeedCreationV2Dogfooding","PolarisIGCoreModalHeader.react","PolarisUA","QPLUserFlow","asyncToGeneratorRuntime","qpl","react","usePolarisCreationState","usePolarisCreationUploadAllMedia"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.unstable_useMemoCache;function m(a){var e=l(6);a=a.error;var f=d("usePolarisCreationState").useCreationState(),g=c("usePolarisCreationUploadAllMedia")();a=d("PolarisCreationStepProvider.react").useCreationStep();var h=a.handleTryAgain;e[0]!==g?(a=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g()});function a(){return c.apply(this,arguments)}return a}(),e[0]=g,e[1]=a):a=e[1];var i=a;a=function(){d("PolarisUA").isDesktop()&&(c("InstagramODS").incr("web.creation.try_again.v2"),i(),h(),f.errorPage=null)};var k=void 0,m;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSErrorOutlineV2Icon.react"),{alt:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,size:96}),e[2]=m):m=e[2];e[3]!==k||e[4]!==a?(m=j.jsx(c("IGDSBox.react"),{flex:"grow",overflow:"hidden",position:"relative",children:j.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",position:"relative",width:"100%",children:j.jsx(c("PolarisGenericNullStateView.react"),{errorMessage:k,header:d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding()?d("PolarisCreationV2Strings").SOMETHING_WENT_WRONG_HEADER:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE,icon:m,primaryAction:a,primaryActionName:d("PolarisUA").isDesktop()?d("PolarisCreationV2Strings").TRY_AGAIN_CTA_TEXT:void 0})})}),e[3]=k,e[4]=a,e[5]=m):m=e[5];return m}function a(a){var b=l(11),e=a.error;a=a.onClose;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){c("QPLUserFlow").endFailure(c("qpl")._(379199405,"1518"),"creation_modal_error")},g=[],b[0]=f,b[1]=g):(f=b[0],g=b[1]);k(f,g);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding(),b[2]=f):f=b[2];g=f;f=g?d("PolarisCreationV2Strings").SOMETHING_WENT_WRONG_TITLE:d("PolarisCreationV2Strings").ERROR_HEADER;var i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("IGDSAppInstagramPanoOutlineIcon.react"),{alt:h._("__JHASH__EubW9vzR0uu__JHASH__"),color:"ig-primary-text"}),b[3]=i):i=b[3];b[4]!==a?(i=j.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:j.jsx(c("PolarisIGCoreModalHeader.react"),{onClose:a,startAdornment:i,truncateText:!0,children:f})}),b[4]=a,b[5]=i):i=b[5];b[6]!==e?(a=g?j.jsx(c("PolarisCreationModalBodyV2.react"),{children:j.jsx(m,{error:e})}):j.jsx(m,{error:e}),b[6]=e,b[7]=a):a=b[7];b[8]!==i||b[9]!==a?(e=j.jsxs(c("IGCoreModal.react"),{"aria-label":f,backdropColor:g?"dark":"default",disablePopInAnimation:!0,fixedWidth:!0,size:"creation",children:[i,a]}),b[8]=i,b[9]=a,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("usePolarisShowBoostAfterpartyToast",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","JSResourceForInteraction","PolarisBoostUtils.react","PolarisThumbnail.react","react","useIGDSLazyDialog","useIGDSToaster","usePolarisViewer","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.unstable_useMemoCache,l=c("JSResourceForInteraction")("IGDSPro2ProDialog.react").__setRef("usePolarisShowBoostAfterpartyToast"),m=32;function a(a){var b=k(10),e=c("useIGDSLazyDialog")(l),f=e[0],g=c("usePolarisViewer")(),i=c("useIGDSToaster")(),n=d("CometRelay").useRelayEnvironment(),o=a==null?void 0:a.boosted_status,p=a==null?void 0:a.id;b[0]!==g||b[1]!==p||b[2]!==f||b[3]!==o||b[4]!==n?(e=function(){if((g==null?void 0:g.id)!=null&&p!=null){var a=c("uuidv4")();d("PolarisBoostUtils.react").handleBoostButtonClickWithLogging("afterparty_toast_post",a,p,function(b){return f({boostUri:b,entryPoint:"afterparty_toast_post",flowID:a})},o,n,!0)}},b[0]=g,b[1]=p,b[2]=f,b[3]=o,b[4]=n,b[5]=e):e=b[5];g==null?void 0:g.id;var q=e,r=a==null?void 0:(e=a.image_versions2)==null?void 0:e.candidates;b[6]!==i||b[7]!==q||b[8]!==r?(a=function(){i.add({actionComponent:j.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__T2NpkHxiHth__JHASH__"),onClick:q,variant:"primary_link"}),icon:r!=null&&r.length>0?j.jsx(c("IGDSBox.react"),{color:"secondaryBackground",height:m,position:"relative",shape:"square",width:m,children:j.jsx(c("PolarisThumbnail.react"),{alt:h._("__JHASH__Z7Fl1kvANQR__JHASH__"),src:r[0].url})}):null,message:h._("__JHASH__e4bVlrwgLf-__JHASH__"),target:"bottom"},{duration:6e3})},b[6]=i,b[7]=q,b[8]=r,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("PolarisPostActionShowNewUploadedPost",["PolarisPostModel","PolarisUserModel","polarisGetFeedItemFromFeedItemDict","polarisNormalizeMediaDicts"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){return function(f,g){g=d("polarisNormalizeMediaDicts").normalizeMediaDicts([a]);var h=g.entities.mediaDicts||[];g=g.entities.userDicts||[];h=babelHelpers["extends"]({},h[b],{like_count:0});var i=d("polarisGetFeedItemFromFeedItemDict").getFeedItemFromMediaDict(h);f({feedItem:i,post:c("PolarisPostModel").fromNativeResponse(h).toReduxStore(),type:"SHOW_NEW_UPLOADED_POST",user:c("PolarisUserModel").fromNativeResponse(g[e]).toReduxStore()})}}g.showNewUploadedPost=a}),98);