;/*FB_PKG_DELIM*/

__d("PolarisIGCoreEmojiTray.react",["cx","IGDSBox.react","IGDSText.react","PolarisEmojiConstants","PolarisIGCoreButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function l(a){var b=j(2);a=a.headerText;var d;b[0]!==a?(d=k.jsx(c("IGDSBox.react"),{marginBottom:2,marginEnd:2,marginStart:2,marginTop:4,position:"relative",width:"100%",children:k.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",textAlign:"start",children:a})}),b[0]=a,b[1]=d):d=b[1];return d}function m(a){var b=j(12),d=a.emoji,e=a.emojiIconStyles,f=a.onClick;b[0]!==f||b[1]!==d?(a=function(){return f(d)},b[0]=f,b[1]=d,b[2]=a):a=b[2];var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g="_a9_d",b[3]=g):g=b[3];var h;b[4]!==e?(h=babelHelpers["extends"]({},e),b[4]=e,b[5]=h):h=b[5];b[6]!==h||b[7]!==d?(e=k.jsx("div",{className:g,style:h,children:d}),b[6]=h,b[7]=d,b[8]=e):e=b[8];b[9]!==a||b[10]!==e?(g=k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:e}),b[9]=a,b[10]=e,b[11]=g):g=b[11];return g}function a(a){var b=j(11),e=a.emojiIconStyles,f=a.onClick;a=a.trayRef;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("IGDSBox.react"),{margin:2,position:"relative",width:"100%",children:k.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",textAlign:"start",children:d("PolarisEmojiConstants").EMOJI_TRAY_MOST_POPULAR})}),b[0]=g):g=b[0];var h;b[1]!==e||b[2]!==f?(h=d("PolarisEmojiConstants").mostPopularEmojis.map(function(a){return k.jsx(m,{emoji:a,emojiIconStyles:e,onClick:f},a)}),b[1]=e,b[2]=f,b[3]=h):h=b[3];var i;b[4]!==e||b[5]!==f?(i=Object.keys(d("PolarisEmojiConstants").Emojis).map(function(a){var b=d("PolarisEmojiConstants").Emojis[a],c=b.emojis;b=b.label;return k.jsxs(k.Fragment,{children:[k.jsx(l,{headerText:b}),c.map(function(a){return k.jsx(m,{emoji:a,emojiIconStyles:e,onClick:f},a)})]},a)}),b[4]=e,b[5]=f,b[6]=i):i=b[6];b[7]!==a||b[8]!==h||b[9]!==i?(g=k.jsxs(c("IGDSBox.react"),{containerRef:a,direction:"row",position:"relative",wrap:!0,children:[g,h,i]}),b[7]=a,b[8]=h,b[9]=i,b[10]=g):g=b[10];return g}g["default"]=a}),98);
__d("PolarisIGCoreEmojiButton.react",["cx","fbt","BasePortal.react","IGDSBox.react","IGDSFace2PanoOutlineIcon.react","PolarisIGCoreEmojiTray.react","PolarisIGCorePopover.react","PolarisIGCoreSVGIconButton.react","polarisWithForwardRef.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m=26,n=309,o=309,p="bottom",q={bottom:"360px",right:"53px"},r={fontSize:"32px",height:"32px",margin:"6px",width:"32px"},s=24,t=i._("__JHASH__W3uqjmJe89t__JHASH__");function a(a){var b=k(39),d=a.buttonHover,e=a.emojiArrowLeftOffset,f=a.emojiButtonSize,g=a.emojiColor,h=a.emojiIconStyles,i=a.emojiTrayCaratPosition,j=a.emojiTrayHeight,u=a.emojiTrayPositionStyles,v=a.emojiTrayRef,w=a.emojiTrayWidth,x=a.forwardedRef,y=a.hasPortal,z=a.isDisabled,A=a.isEmojiTrayOpen,B=a.onClose,C=a.onEmojiClick,D=a.setEmojiTrayOpen;a=a.zeroPadding;e=e===void 0?m:e;f=f===void 0?s:f;g=g===void 0?"ig-primary-text":g;h=h===void 0?r:h;i=i===void 0?p:i;j=j===void 0?n:j;u=u===void 0?q:u;w=w===void 0?o:w;y=y===void 0?!1:y;var E=y?c("BasePortal.react"):l.Fragment,F;b[0]!==D||b[1]!==A?(F=function(){return D(!A)},b[0]=D,b[1]=A,b[2]=F):F=b[2];a=a===!0?0:void 0;var G;b[3]!==g||b[4]!==f?(G=l.jsx(c("IGDSFace2PanoOutlineIcon.react"),{alt:t,color:g,size:f}),b[3]=g,b[4]=f,b[5]=G):G=b[5];b[6]!==d||b[7]!==z||b[8]!==F||b[9]!==a||b[10]!==x||b[11]!==G?(g=l.jsx(c("PolarisIGCoreSVGIconButton.react"),{hover:d,isDisabled:z,onClick:F,padding:a,ref:x,children:G}),b[6]=d,b[7]=z,b[8]=F,b[9]=a,b[10]=x,b[11]=G,b[12]=g):g=b[12];b[13]!==y?(f=y?"_a9_c":"",b[13]=y,b[14]=f):f=b[14];b[15]!==h||b[16]!==C||b[17]!==v?(d=l.jsx(c("PolarisIGCoreEmojiTray.react"),{emojiIconStyles:h,onClick:C,trayRef:v}),b[15]=h,b[16]=C,b[17]=v,b[18]=d):d=b[18];b[19]!==j||b[20]!==w||b[21]!==d?(z=l.jsx(c("IGDSBox.react"),{height:j,margin:2,position:"relative",width:w,children:d}),b[19]=j,b[20]=w,b[21]=d,b[22]=z):z=b[22];b[23]!==i||b[24]!==e||b[25]!==A||b[26]!==B||b[27]!==z?(F=l.jsx(c("PolarisIGCorePopover.react"),{arrowPosition:i,arrowStartOffset:e,isVisible:A,onClose:B,children:z}),b[23]=i,b[24]=e,b[25]=A,b[26]=B,b[27]=z,b[28]=F):F=b[28];b[29]!==f||b[30]!==u||b[31]!==F?(a=l.jsx("div",{className:f,style:u,children:F}),b[29]=f,b[30]=u,b[31]=F,b[32]=a):a=b[32];b[33]!==E||b[34]!==a?(x=l.jsx(E,{children:a}),b[33]=E,b[34]=a,b[35]=x):x=b[35];b[36]!==g||b[37]!==x?(G=l.jsxs(l.Fragment,{children:[g,x]}),b[36]=g,b[37]=x,b[38]=G):G=b[38];return G}b=c("polarisWithForwardRef.react")(a);g.DEFAULT_ARROW_LEFT_OFFSET=m;g.DEFAULT_EMOJI_TRAY_HEIGHT=n;g.DEFAULT_EMOJI_TRAY_WIDTH=o;g.DEFAULT_EMOJI_ICON_STYLES=r;g.DEFAULT_EMOJI_BUTTON_ALT_TEXT=t;g.IGCoreEmojiButton=b}),98);
__d("PolarisCreationLexicalEmojiButton.react",["PolarisIGCoreEmojiButton.react","react","usePolarisLexicalEmojiButton"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={large:{arrowHorizontalOffset:16,trayPosition:{right:"5px",top:"5px"}},medium:{arrowHorizontalOffset:10,trayPosition:{left:"0px",top:"5px"}},small:{arrowHorizontalOffset:10,trayPosition:{left:"0px",top:"5px"}}},l=20,m=265,n=140,o={fontSize:"18px",height:"18px",margin:"8px",width:"25px"};function a(a){var b=i(7),e=a.isOpen,f=a.modalSize,g=a.onClose;a=a.onOpen;var h=c("usePolarisLexicalEmojiButton")(g),p=k[f];f=k[f];var q;b[0]!==p.arrowHorizontalOffset||b[1]!==f.trayPosition||b[2]!==e||b[3]!==g||b[4]!==h||b[5]!==a?(q=j.jsx(d("PolarisIGCoreEmojiButton.react").IGCoreEmojiButton,{emojiArrowLeftOffset:p.arrowHorizontalOffset,emojiButtonSize:l,emojiColor:"ig-secondary-text",emojiIconStyles:o,emojiTrayCaratPosition:"top",emojiTrayHeight:n,emojiTrayPositionStyles:f.trayPosition,emojiTrayWidth:m,isEmojiTrayOpen:e,onClose:g,onEmojiClick:h,setEmojiTrayOpen:a}),b[0]=p.arrowHorizontalOffset,b[1]=f.trayPosition,b[2]=e,b[3]=g,b[4]=h,b[5]=a,b[6]=q):q=b[6];return q}g["default"]=a}),98);
__d("PolarisCreationLexicalMaxLengthPlugin.react",["Lexical","LexicalComposerContext","LexicalSelection","LexicalUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.unstable_useMemoCache;function a(a){var b=j(5),c=a.maxLength,e=a.onChange;a=d("LexicalComposerContext").useLexicalComposerContext();var f=a[0],g;b[0]!==f||b[1]!==c||b[2]!==e?(a=function(){var a;a=null;return f.registerNodeTransform(d("Lexical").RootNode,function(b){var g=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(g)||!g.isCollapsed())return;var h=f.getEditorState(),i=h.read(function(){return b.getTextContent()}),j=b.getTextContent();if(i!==j){var k=j.length-c;g=g.anchor;k>0?(i.length===c&&a!==h?(a=h,d("LexicalUtils").$restoreEditorState(f,h)):d("LexicalSelection").trimTextContentFromAnchor(f,g,k),e(i.length)):e(j.length)}})},g=[f,c,e],b[0]=f,b[1]=c,b[2]=e,b[3]=a,b[4]=g):(a=b[3],g=b[4]);i(a,g);return null}g["default"]=a}),98);
__d("PolarisCreationLexicalUpdateOnBlurPlugin.react",["Lexical","LexicalComposerContext","PolarisCreationV2ActionTypes","react","usePolarisCreationDispatch"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.unstable_useMemoCache;function a(){var a=j(6),b=d("usePolarisCreationDispatch").useCreationDispatch(),c=d("LexicalComposerContext").useLexicalComposerContext(),e=c[0];a[0]!==e||a[1]!==b?(c=function(){var a=e.getEditorState().read(function(){return d("Lexical").$getRoot().getTextContent()});a=a.replace(/  +/g," ");b({caption:a,type:d("PolarisCreationV2ActionTypes").CREATION_SET_CAPTION})},a[0]=e,a[1]=b,a[2]=c):c=a[2];var f=c;a[3]!==e||a[4]!==f?(c=function(){return e.registerCommand(d("Lexical").BLUR_COMMAND,function(){f();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},a[3]=e,a[4]=f,a[5]=c):c=a[5];i(c);return null}g["default"]=a}),98);
__d("PolarisCreationModalComposeCaptionLexicalInput.react",["CometPressable.react","FBLogger","IGDSBox.react","IGDSText.react","IGDSTooltip.react","IGDSWarningPanoFilledIcon.react","Lexical","LexicalErrorBoundary","LexicalPlainTextPlugin","MLCComposer.react","MLCContentEditable.react","MLCFocusPlugin.react","MLCHistoryPlugin.react","PolarisBigNumber.react","PolarisCreationLexicalEmojiButton.react","PolarisCreationLexicalMaxLengthPlugin.react","PolarisCreationLexicalUpdateOnBlurPlugin.react","PolarisCreationV2Strings","PolarisHasFeedCreationV2Dogfooding","PolarisLexicalHashtagNode","PolarisLexicalHashtagPlugin.react","PolarisLexicalMentionNode","PolarisLexicalMentionsPlugin.react","PolarisLexicalTypeaheadContainer.react","react","stylex","usePolarisCreationModalSize","usePolarisCreationState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useState,l=b.unstable_useMemoCache,m=2200,n={characterCount:{display:"x78zum5",fontVariantNumeric:"x1j4x3al",justifyContent:"xl56j7k",paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,paddingEnd:"x150jy0e",textAlign:"xp4054r",userSelect:"x87ps6o",$$css:!0},characterCountTooltip:{maxWidth:"x11t6kkg",width:"xh8yej3",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},contenteditable:{color:"x5n08af",$$css:!0},contenteditableCommon:{fontSize:"xl565be",lineHeight:"x5dp1im",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",maxHeight:"x1w2wdq1",minHeight:"xen30ot",paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",width:"xh8yej3",$$css:!0},controlsContainer:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",fontSize:"xk390pu",justifyContent:"x1qughib",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"x11njtxf",$$css:!0},paragraph:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},placeholder:{color:"xb88cxz",outline:"x1a2a7pz",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0}},o={paragraph:"xdj266r x11i5rnm xat24cr x1mh8g0r"};function a(){var a=l(40),b=d("usePolarisCreationState").useCreationState(),e=c("usePolarisCreationModalSize")(),f=k(!1),g=f[0],i=f[1];f=k(!1);var p=f[0],q=f[1];f=k(!1);var r=f[0],s=f[1];f=k(0);var t=f[0];f=f[1];var u,v;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(u=[d("PolarisLexicalMentionNode").PolarisLexicalMentionNode,d("PolarisLexicalHashtagNode").PolarisLexicalHashtagNode],v=function(a){c("FBLogger")("ig_web").warn(String(a))},a[0]=u,a[1]=v):(u=a[0],v=a[1]);a[2]===Symbol["for"]("react.memo_cache_sentinel")?(u={editable:!0,nodes:u,onError:v,theme:o},a[2]=u):u=a[2];a[3]!==b.caption?(v={editor:u,editorState:function(){var a=d("Lexical").$createParagraphNode();a.append(d("Lexical").$createTextNode(b.caption));d("Lexical").$getRoot().append(a)},policyProduct:"instagram",surface:"INSTAGRAM_WEB"},a[3]=b.caption,a[4]=v):v=a[4];u=v;v=u;a[5]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){q(!1),i(!0),s(!1)},a[5]=u):u=a[5];u=u;var w;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(w=function(){q(!1),i(!1),s(!1)},a[6]=w):w=a[6];w=w;var x;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){q(!0),s(!1)},a[7]=x):x=a[7];x=x;var y;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){q(!1)},a[8]=y):y=a[8];y=y;var z;a[9]===Symbol["for"]("react.memo_cache_sentinel")?(z=function(){s(function(a){return!a}),q(!1)},a[9]=z):z=a[9];z=z;var A;a[10]===Symbol["for"]("react.memo_cache_sentinel")?(A="x6s0dn4 x78zum5 x1n2onr6 xh8yej3",a[10]=A):A=a[10];var B;a[11]===Symbol["for"]("react.memo_cache_sentinel")?(B=j.jsx(c("MLCContentEditable.react"),{ariaLabel:d("PolarisCreationV2Strings").CAPTION_PLACEHOLDER_TEXT,tabIndex:0,xstyle:[n.contenteditableCommon,n.contenteditable]}),a[11]=B):B=a[11];var C;a[12]===Symbol["for"]("react.memo_cache_sentinel")?(C=(h||(h=c("stylex")))([n.contenteditableCommon,n.placeholder]),a[12]=C):C=a[12];a[13]===Symbol["for"]("react.memo_cache_sentinel")?(A=j.jsx("div",{className:A,"data-testid":void 0,children:j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{contentEditable:B,ErrorBoundary:c("LexicalErrorBoundary"),placeholder:j.jsx("div",{className:C,children:d("PolarisCreationV2Strings").CAPTION_PLACEHOLDER_TEXT})})}),a[13]=A):A=a[13];a[14]===Symbol["for"]("react.memo_cache_sentinel")?(B="x1qjc9v5 x9f619 x78zum5 x1q0g3np x2lah0s xk390pu x1qughib xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x11njtxf",a[14]=B):B=a[14];a[15]!==p||a[16]!==e?(C=j.jsx(c("PolarisCreationLexicalEmojiButton.react"),{isOpen:p,modalSize:e,onClose:y,onOpen:x}),a[15]=p,a[16]=e,a[17]=C):C=a[17];a[18]!==C||a[19]!==t||a[20]!==r?(y=j.jsxs("div",{className:B,children:[j.jsx(c("IGDSBox.react"),{alignItems:"start",flex:"grow",paddingX:2,paddingY:1,position:"relative",children:C}),(t>0||d("PolarisHasFeedCreationV2Dogfooding").hasFeedCreationV2Dogfooding())&&j.jsx(c("IGDSBox.react"),{flex:"shrink",justifyContent:"center",paddingX:3,position:"relative",children:j.jsx(c("IGDSTooltip.react"),{align:"end",color:"black",isVisible:r,position:"below",tooltip:j.jsx("div",{className:"x11t6kkg xh8yej3",children:j.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"body",textAlign:"center",zeroMargin:!0,children:d("PolarisCreationV2Strings").CAPTION_TRUNCATION_TOOLTIP})}),useFadeTransition:!0,children:j.jsx(c("CometPressable.react"),{onPress:z,overlayDisabled:!0,xstyle:n.characterCount,children:j.jsxs(c("IGDSText.react").Body2,{color:r?"primaryText":"tertiaryText",children:[j.jsx(c("PolarisBigNumber.react"),{value:t}),"/",j.jsx(c("PolarisBigNumber.react"),{value:m})]})})})})]}),a[18]=C,a[19]=t,a[20]=r,a[21]=y):y=a[21];a[22]!==g?(x=j.jsx(c("PolarisLexicalTypeaheadContainer.react"),{isDisabled:g}),a[22]=g,a[23]=x):x=a[23];a[24]!==y||a[25]!==x||a[26]!==b.hasAttemptedToPostWithEmpyCaption||a[27]!==t?(p=j.jsxs(c("IGDSBox.react"),{position:"relative",children:[A,y,x]}),e=b.hasAttemptedToPostWithEmpyCaption===!0&&t===0&&j.jsxs(c("IGDSBox.react"),{alignItems:"start",direction:"row",justifyContent:"start",marginBottom:1,marginEnd:4,marginStart:4,children:[j.jsx(c("IGDSBox.react"),{marginEnd:1,children:j.jsx(c("IGDSWarningPanoFilledIcon.react"),{alt:d("PolarisCreationV2Strings").NO_CAPTION_ERROR,color:"ig-error-or-destructive",size:14})}),j.jsx(c("IGDSText.react"),{color:"errorOrDestructive",size:"body",children:d("PolarisCreationV2Strings").NO_CAPTION_ERROR})]}),a[24]=y,a[25]=x,a[26]=b.hasAttemptedToPostWithEmpyCaption,a[27]=t,a[28]=p,a[29]=e):(p=a[28],e=a[29]);a[30]===Symbol["for"]("react.memo_cache_sentinel")?(B=j.jsx(c("MLCFocusPlugin.react"),{onBlur:u,onFocus:w}),a[30]=B):B=a[30];a[31]===Symbol["for"]("react.memo_cache_sentinel")?(z=j.jsx(d("MLCHistoryPlugin.react").MLCHistoryPlugin,{}),a[31]=z):z=a[31];a[32]===Symbol["for"]("react.memo_cache_sentinel")?(C=j.jsx(c("PolarisCreationLexicalMaxLengthPlugin.react"),{maxLength:m,onChange:f}),a[32]=C):C=a[32];a[33]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(c("PolarisLexicalMentionsPlugin.react"),{}),a[33]=r):r=a[33];a[34]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("PolarisLexicalHashtagPlugin.react"),{}),a[34]=g):g=a[34];a[35]===Symbol["for"]("react.memo_cache_sentinel")?(A=j.jsx(c("PolarisCreationLexicalUpdateOnBlurPlugin.react"),{}),a[35]=A):A=a[35];a[36]!==v||a[37]!==p||a[38]!==e?(y=j.jsxs(c("MLCComposer.react"),{initialConfig:v,children:[p,e,B,z,C,r,g,A]}),a[36]=v,a[37]=p,a[38]=e,a[39]=y):y=a[39];return y}g["default"]=a}),98);